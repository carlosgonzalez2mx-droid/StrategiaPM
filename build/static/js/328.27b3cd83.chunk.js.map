{"version":3,"file":"static/js/328.27b3cd83.chunk.js","mappings":"gJAEA,MA2LA,EA3LwBA,IAA0C,IAAzC,SAAEC,EAAQ,iBAAEC,EAAmB,CAAC,GAAGF,EAG1D,MAAMG,EAAmBF,EAASG,OAAOC,IAGvC,MAAMC,EAAY,IAAIC,KAAKF,EAAQG,SAAW,IAAID,MAA6B,cAAnBF,EAAQI,OAC9DC,EAAsC,SAArBL,EAAQM,SAC/B,OAAOL,GAAcI,GAAqC,WAAnBL,EAAQI,SAI3CG,EAAqBX,EAASG,OAAOC,KAEpB,OAAhBH,QAAgB,IAAhBA,IAAAA,EAAkBW,aAAeX,EAAiBW,aAAe,IAG/DR,EAAQS,OAAwC,GAA/BZ,EAAiBW,aAIrCE,EAAoBd,EAASG,OAAOC,IACxC,MAAMW,GAAa,IAAIT,KAAKF,EAAQG,SAAW,IAAID,MAAM,MACzD,OAAOS,EAAY,GAAKA,GAAa,IAAyB,WAAnBX,EAAQI,SAI/CQ,EAAS,GAGXd,EAAiBe,OAAS,GAC5BD,EAAOE,KAAK,CACVC,KAAM,WACNC,MAAO,wBACPC,QAAQ,GAADC,OAAKpB,EAAiBe,OAAM,gDACnCM,QAASrB,EAAiBsB,IAAIC,GAAKA,EAAEC,MACrCC,KAAM,eACNC,MAAO,QAKPjB,EAAmBM,OAAS,GAC9BD,EAAOE,KAAK,CACVC,KAAM,SACNC,MAAO,kCACPC,QAAQ,GAADC,OAAKX,EAAmBM,OAAM,sDACrCM,QAASZ,EAAmBa,IAAIC,GAAC,GAAAH,OAAOG,EAAEC,KAAI,OAAAJ,QAAOG,EAAEZ,OAAS,KAAMgB,QAAQ,GAAE,MAChFF,KAAM,eACNC,MAAO,WAKPd,EAAkBG,OAAS,GAC7BD,EAAOE,KAAK,CACVC,KAAM,WACNC,MAAO,wBACPC,QAAQ,GAADC,OAAKR,EAAkBG,OAAM,uDACpCM,QAAST,EAAkBU,IAAIC,IAC7B,MAAMK,EAAOC,KAAKC,MAAM,IAAI1B,KAAKmB,EAAElB,SAAW,IAAID,MAAM,OACxD,MAAM,GAANgB,OAAUG,EAAEC,KAAI,MAAAJ,OAAKQ,EAAI,cAE3BH,KAAM,SACNC,MAAO,UAKS,OAAhB3B,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBgC,gBAAiB,GACrCjB,EAAOE,KAAK,CACVC,KAAM,WACNC,MAAO,0BACPC,QAAQ,GAADC,OAAKrB,EAAiBgC,eAAc,kDAC3CV,QAAS,CAAC,0CAAwC,iCAClDI,KAAM,SACNC,MAAO,YAKS,OAAhB3B,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBiC,mBAAoB,GAAiC,IAA5BhC,EAAiBe,QAC9DD,EAAOE,KAAK,CACVC,KAAM,UACNC,MAAO,sBACPC,QAAQ,GAADC,OAAKrB,EAAiBiC,kBAAiB,sDAC9CX,QAAS,CAAC,qCAAmC,0CAC7CI,KAAM,SACNC,MAAO,UAIX,MAAMO,EAAiBP,IACrB,OAAOA,GACL,IAAK,MAAO,MAAO,wCACnB,IAAK,SAAU,MAAO,iDACtB,IAAK,OAAQ,MAAO,2CACpB,IAAK,SAAU,MAAO,iDACtB,IAAK,QAAS,MAAO,8CACrB,QAAS,MAAO,6CAIdQ,EAAgBR,IACpB,OAAOA,GACL,IAAK,MAAO,MAAO,eACnB,IAAK,SAAU,MAAO,kBACtB,IAAK,OAAQ,MAAO,gBACpB,IAAK,SAAU,MAAO,kBACtB,IAAK,QAAS,MAAO,iBACrB,QAAS,MAAO,kBAIpB,OAAsB,IAAlBZ,EAAOC,QAEPoB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAC,uCAC3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,YAC/BC,EAAAA,EAAAA,KAAA,OAAAD,SAAK,4BACLC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,SAAC,0DAOpCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,+CAA8CC,SAAA,CAAC,qCAE3DC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4DAA2DC,SACxEvB,EAAOb,OAAOsC,GAAgB,aAAXA,EAAEtB,MAAqBF,aAI/CuB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBvB,EAAOQ,IAAI,CAACkB,EAAOC,KAClBH,EAAAA,EAAAA,KAAA,OAEEF,UAAS,6BAAAhB,OAA+Ba,EAAcO,EAAMd,QAASW,UAErEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,QAAMF,UAAS,gBAAAhB,OAAkBc,EAAaM,EAAMd,QAASW,SAC1DG,EAAMf,QAETU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,SAAEG,EAAMtB,SAC3CoB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAcC,SAAEG,EAAMrB,UAEpCqB,EAAMnB,SAAWmB,EAAMnB,QAAQN,OAAS,IACvCuB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAC/BG,EAAMnB,QAAQC,IAAI,CAACoB,EAAQC,KAC1BR,EAAAA,EAAAA,MAAA,OAAuBC,UAAU,oBAAmBC,SAAA,EAClDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,oDACfM,IAFOC,aAdfF,OA4BXH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iCAAgCC,UAC7CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4CAA2CC,SAAA,EACxDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4BAA2BC,SAAC,yBAC5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,eAAcC,SAAA,CAAC,gBACzBvB,EAAOb,OAAOsC,GAAgB,aAAXA,EAAEtB,MAAqBF,OAAO,mBAEvDoB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,kBAAiBC,SAAA,CAAC,gBAC5BvB,EAAOb,OAAOsC,GAAiB,WAAZA,EAAEb,OAAoBX,OAAO,oBAEtDoB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,gBAAeC,SAAA,CAAC,gBAC1BvB,EAAOb,OAAOsC,GAAiB,SAAZA,EAAEb,OAAkBX,OAAO,8B,mECjLhE,MAAM6B,EAAM,MAINC,EAASC,GACRA,EACe,kBAATA,EAA0BA,EAC9BA,EAAKC,cAAcC,MAAM,KAAK,IAFnB,IAAI5C,MAAO2C,cAAcC,MAAM,KAAK,GAKlDC,EAAgBH,IACpB,MAAMI,EAAMJ,EAAKK,SACjB,OAAe,IAARD,GAAqB,IAARA,GAGhBE,EAAoB,SAACC,EAAOC,GAAkC,IAA7BC,EAAeC,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,IAAAA,UAAA,GACpD,IAAKH,IAAUC,EAAK,OAAO,EAE3B,MAAMI,EAAY,IAAItD,KAAKiD,GACrBhD,EAAU,IAAID,KAAKkD,GAEzB,GAAIC,EACF,OAAO1B,KAAKC,MAAMzB,EAAUqD,GAAad,GACpC,CACL,IAAIhB,EAAO,EACX,MAAM+B,EAAU,IAAIvD,KAAKsD,GAEzB,KAAOC,EAAUtD,GACX4C,EAAaU,IACf/B,IAEF+B,EAAQC,QAAQD,EAAQE,UAAY,GAGtC,OAAOjC,CACT,CACF,EAEMkC,EAAU,SAAChB,EAAMlB,GAAmC,IAA7B2B,EAAeC,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,IAAAA,UAAA,GAC1C,MAAMO,EAAS,IAAI3D,KAAK0C,GAExB,GAAIS,EAEF,OADAQ,EAAOH,QAAQG,EAAOF,UAAYjC,GAC3BiB,EAAMkB,GACR,CACL,IAAIC,EAAY,EAEhB,KAAOA,EAAYpC,GACjBmC,EAAOH,QAAQG,EAAOF,UAAY,GAC9BZ,EAAac,IACfC,IAIJ,OAAOnB,EAAMkB,EACf,CACF,EAgxBA,EAvvBwBlE,IAA8F,IAA7F,SAAEC,EAAQ,iBAAEC,EAAmB,CAAC,EAAC,aAAEkE,EAAe,GAAE,MAAEC,EAAQ,GAAE,eAAEC,EAAiB,CAAC,GAAGtE,EAG9G,MAAMuE,EAAa,CACjB,CAAE5C,KAAM,UAAW6C,OAAuB,OAAhBtE,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBgC,iBAAkBjC,EAASG,OAAOsB,GAAkB,WAAbA,EAAEjB,QAAqBS,OAAQW,MAAO,WACzH,CAAEF,KAAM,cAAe6C,OAAuB,OAAhBtE,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBiC,oBAAqBlC,EAASG,OAAOsB,GAAkB,cAAbA,EAAEjB,QAAwBS,OAAQW,MAAO,WACnI,CAAEF,KAAM,WAAY6C,MAAOvE,EAASG,OAAOsB,GAAkB,YAAbA,EAAEjB,QAAsBS,OAAQW,MAAO,WACvF,CAAEF,KAAM,aAAc6C,MAAOvE,EAASG,OAAOsB,GAAkB,cAAbA,EAAEjB,QAAwBS,OAAQW,MAAO,YAC3FzB,OAAOqE,GAAQA,EAAKD,MAAQ,GAGxBE,EAAe,CACnB,CAAE/C,KAAM,OAAQ6C,MAAOvE,EAASG,OAAOsB,GAAoB,SAAfA,EAAEf,UAAqBO,OAAQW,MAAO,WAClF,CAAEF,KAAM,QAAS6C,MAAOvE,EAASG,OAAOsB,GAAoB,WAAfA,EAAEf,UAAuBO,OAAQW,MAAO,WACrF,CAAEF,KAAM,OAAQ6C,MAAOvE,EAASG,OAAOsB,GAAoB,QAAfA,EAAEf,UAAoBO,OAAQW,MAAO,YACjFzB,OAAOqE,GAAQA,EAAKD,MAAQ,GAGxBG,EAAa1E,EAASG,OAAOsB,GAAkB,WAAbA,EAAEjB,QAAqBgB,IAAI,CAACpB,EAASuC,KAC3E,MAAMgC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACvE,MAAO,CACLjD,KAAMtB,EAAQsB,KAAKT,OAAS,GAAKb,EAAQsB,KAAKkD,UAAU,EAAG,IAAM,MAAQxE,EAAQsB,KACjFb,OAAQT,EAAQS,OAAS,IACzBL,OAAQJ,EAAQI,OAChBoB,MAAO+C,EAAOhC,EAAQgC,EAAO1D,WAK3B4D,EAAwB,CAC5B,CAAEnD,KAAM,cAAe6C,MAAOJ,EAAahE,OAAO2E,GAAoB,cAAdA,EAAGtE,QAAwBS,OAAQW,MAAO,WAClG,CAAEF,KAAM,cAAe6C,MAAOJ,EAAahE,OAAO2E,GAAoB,gBAAdA,EAAGtE,QAA0BS,OAAQW,MAAO,WACpG,CAAEF,KAAM,aAAc6C,MAAOJ,EAAahE,OAAO2E,GAAoB,YAAdA,EAAGtE,QAAsBS,OAAQW,MAAO,WAC/F,CAAEF,KAAM,aAAc6C,MAAOJ,EAAahE,OAAO2E,GAAoB,YAAdA,EAAGtE,QAAsBS,OAAQW,MAAO,YAC/FzB,OAAOqE,GAAQA,EAAKD,MAAQ,GAGxBQ,EAAmB,CACvB,CAAErD,KAAM,OAAQ6C,MAAOH,EAAMjE,OAAO6E,GAAoB,SAAfA,EAAEtE,UAAqBO,OAAQW,MAAO,WAC/E,CAAEF,KAAM,QAAS6C,MAAOH,EAAMjE,OAAO6E,GAAoB,WAAfA,EAAEtE,UAAuBO,OAAQW,MAAO,WAClF,CAAEF,KAAM,OAAQ6C,MAAOH,EAAMjE,OAAO6E,GAAoB,QAAfA,EAAEtE,UAAoBO,OAAQW,MAAO,YAC9EzB,OAAOqE,GAAQA,EAAKD,MAAQ,GAExBU,EAAiB,CACrB,CAAEvD,KAAM,UAAW6C,MAAOH,EAAMjE,OAAO6E,GAAkB,WAAbA,EAAExE,QAAqBS,OAAQW,MAAO,WAClF,CAAEF,KAAM,YAAa6C,MAAOH,EAAMjE,OAAO6E,GAAkB,cAAbA,EAAExE,QAAwBS,OAAQW,MAAO,WACvF,CAAEF,KAAM,WAAY6C,MAAOH,EAAMjE,OAAO6E,GAAkB,WAAbA,EAAExE,QAAqBS,OAAQW,MAAO,YACnFzB,OAAOqE,GAAQA,EAAKD,MAAQ,GAGxBW,EAAiBC,IAAkE,IAAjE,KAAEC,EAAI,MAAEhE,EAAK,SAAEiE,EAAQ,SAAEC,EAAW,QAAO,OAAEC,EAAS,KAAKJ,EACjF,MAAMK,EAAWzD,KAAK0D,OAAOL,EAAK5D,IAAIgD,GAAQA,EAAKa,KAWnD,OACEhD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAEnB,KAC5CoB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvB6C,EAAK5D,IAAI,CAACgD,EAAM7B,KACf,MAAM+C,EAbMC,EAACnB,EAAM7B,KACzB,GAAI6B,EAAKc,GAAW,OAAOd,EAAKc,GAGhC,MAAMM,EAAgB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC9E,OAAOA,EAAcjD,EAAQiD,EAAc3E,SAQpB0E,CAAYnB,EAAM7B,GAC7BkD,EAAWL,EAAW,EAAC,GAAAlE,OAAOkD,EAAKa,GAAYG,EAAY,IAAG,KAAM,KACpEM,EAAyC,kBAAnBtB,EAAKa,GAAyBb,EAAKa,GAAUxD,QAAQ,GAAK2C,EAAKa,GAE3F,OACEhD,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,oBAAmBC,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sCAAqCC,SAAEiC,EAAK9C,QAC3Dc,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,UACpDC,EAAAA,EAAAA,KAAA,OACEF,UAAU,iHACVyD,MAAO,CACLC,gBAAiBN,EACjBO,MAAOJ,EACPK,SAAU,QACV3D,SAEDuD,SAIPtD,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oDAAmDC,SAC/DuD,MAjBKnD,WA4BhBwD,EAAiBC,IAAsB,IAArB,KAAEhB,EAAI,MAAEhE,GAAOgF,EACrC,MAAMC,EAAQjB,EAAKkB,OAAO,CAACC,EAAK/B,IAAS+B,EAAM/B,EAAKD,MAAO,GAC3D,IAAIiC,EAAe,EAEnB,OACEnE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAEnB,KAC5CiB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,OAAKyD,MAAM,MAAMV,OAAO,MAAMjD,UAAU,uBAAsBC,SAC3D6C,EAAK5D,IAAI,CAACgD,EAAM7B,KACf,MAEM8D,EAFcjC,EAAKD,MAAQ8B,EAAS,IAEL,IAAO,IAEtCK,EAAgB,EAAI3E,KAAK4E,GAAK,GAC9BC,EAAgBH,EAAiB,IAAOC,EACxCG,EAAe,GAAAvF,OAAMsF,EAAY,KAAAtF,OAAIoF,EAAgBE,GACrDE,GAAoBN,EAG1B,OAFAA,GAAgBI,GAGdpE,EAAAA,EAAAA,KAAA,UAEEuE,GAAG,KACHC,GAAG,KACHhC,EAAE,KACFiC,KAAK,cACLC,OAAQ1C,EAAK5C,MACbuF,YAAY,KACZN,gBAAiBA,EACjBC,iBAAkBA,EAClBxE,UAAU,+BATLK,QAcbH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oDAAmDC,UAChEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAE8D,KACnD7D,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,mBAK7CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBC,SAC5B6C,EAAK5D,IAAI,CAACgD,EAAM7B,KACfN,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,oBAAmBC,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,OACEF,UAAU,4BACVyD,MAAO,CAAEC,gBAAiBxB,EAAK5C,UAEjCS,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnCiC,EAAK9C,KAAK,KAAG8C,EAAKD,MAAM,MAAKC,EAAKD,MAAQ8B,EAAS,KAAKxE,QAAQ,GAAG,UAN9Dc,aAuLhByE,EAAoBA,KAExB,MAEMC,EAAW,GACX5D,GAAkB,EAGlB6D,GAAYC,EAAAA,EAAAA,QAAO,MACnBC,GAAaD,EAAAA,EAAAA,QAAO,MACpBE,GAAcF,EAAAA,EAAAA,SAAO,GAGrBG,GAAeC,EAAAA,EAAAA,SAAQ,KAC3B,GAAwB,IAApB3H,EAASiB,OAAc,MAAO,CAAEsC,MAAO,IAAIjD,KAAQkD,IAAK,IAAIlD,MAEhE,MAAMsH,EAAQ5H,EAAS6H,QAASpG,GAAM,CAAC,IAAInB,KAAKmB,EAAEmC,WAAY,IAAItD,KAAKmB,EAAElB,WAIzE,MAAO,CAAEgD,MAHY,IAAIjD,KAAKyB,KAAK+F,OAAOF,EAAMpG,IAAKuG,GAAMA,EAAEC,aAG/BxE,IAFX,IAAIlD,KAAKyB,KAAK0D,OAAOmC,EAAMpG,IAAKuG,GAAMA,EAAEC,eAG1D,CAAChI,IAGEiI,GAA2BN,EAAAA,EAAAA,SAAQ,IAChC5E,EAAM2E,EAAanE,OACzB,CAACmE,EAAanE,QAGX2E,GAAYP,EAAAA,EAAAA,SAAQ,KACxB,MAAMQ,EAASF,EACTG,EAAOrF,EAAM2E,EAAalE,KAChC,OAAOzB,KAAK0D,IAAI,EAAGnC,EAAkB6E,EAAQnE,EAAQoE,EAAM,EAAG3E,GAAkBA,KAC/E,CAACwE,EAA0BP,EAAalE,IAAKC,IAE1C4E,GAAeV,EAAAA,EAAAA,SAAQ,IACpBO,EAAYb,EAClB,CAACa,IAGEI,GAAcX,EAAAA,EAAAA,SAAQ,KAC1B,MAAMY,EAAWxF,EAAM,IAAIzC,MAErBkI,EAAY,IAAIlI,KAAKiI,GACrBE,EAAU,IAAInI,KAAK2H,GACnBS,EAAiB3G,KAAK4G,OAAOH,EAAYC,GAAW3F,GAC1D,OAAOf,KAAK+F,IAAI/F,KAAK0D,IAAI,EAAGiD,EAAiBrB,GAAWgB,IACvD,CAACJ,EAA0BZ,EAAUgB,IAGlCO,EACO,UADPA,EAEK,UAFLA,EAGM,UAINC,EAAwB,SAACC,GAAyC,IAA9BC,EAAWrF,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAAIpD,KAC1D,MAGM0I,GAHe3E,EAAeyE,IAAc,IAGhB3I,OAAO8I,GACvC,IAAI3I,KAAK2I,EAAK1I,UAAYwI,GAI5B,GAA4B,IAAxBC,EAAa/H,OACf,OAAO2H,EAMT,OAFqBI,EAAaE,MAAMD,GAA0B,MAAlBA,EAAKE,UAE/BP,EAAkCA,CAC1D,EAGMQ,GAAmBzB,EAAAA,EAAAA,SAAQ,IACxB3H,EAASwB,IAAKpB,IAEnB,MAAMiJ,EAAmB,IAAI/I,KAAKF,EAAQwD,WACpC0F,EAAiB,IAAIhJ,KAAKF,EAAQG,SAClCkI,EAAU,IAAInI,KAAK2H,GAEnBsB,EAAWxH,KAAK4G,OAAOU,EAAmBZ,GAAW3F,GACrD0G,EAAUzH,KAAK4G,OAAOW,EAAiBb,GAAW3F,GAClD2G,EAAU1H,KAAK0D,IAAI,EAAG+D,EAAUD,EAAW,GAE3CG,GAAcrF,EAAejE,EAAQuJ,KAAO,IAC/CxJ,OAAO8I,GAAQA,EAAKW,aACpBC,KAAK,CAACpH,EAAGqH,IAAM,IAAIxJ,KAAKmC,EAAEmB,WAAa,IAAItD,KAAKwJ,EAAElG,YAClDpC,IAAI,CAACuI,EAAWpH,KAEf,MAAMqH,EAAqB,IAAI1J,KAAKyJ,EAAUnG,WACxCqG,EAAYlI,KAAK4G,OAAOqB,EAAqBvB,GAAW3F,GAC9D,OAAAoH,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKH,GAAS,IACZI,OAAQF,EAAY5C,EACpB+C,OAAQzH,EAAQ,MAItB,MAAO,CACLgH,GAAIvJ,EAAQuJ,GACZjI,KAAMtB,EAAQsB,KACdkC,UAAWxD,EAAQwD,UACnBrD,QAASH,EAAQG,QACjB4J,OAAQZ,EAAWlC,EACnBgD,QAASZ,EAAUpC,EACnBiD,mBAAoBlK,EAAQkK,mBAC5BC,cAAe1B,EAAsBzI,EAAQuJ,IAC7CD,aACAxB,UAAWuB,KAGd,CAACzJ,EAAUiI,EAA0BZ,EAAU5D,EAAiBY,IAG7DmG,GAAkB7C,EAAAA,EAAAA,SAAQ,KAC9B,MAAM8C,EAAU,GACVlH,EAAQ,IAAIjD,KAAK2H,GACjBzE,EAAM,IAAIlD,KAAKyC,EAAM2E,EAAalE,MAElCkH,EAAM,IAAIpK,KAAKiD,GACrB,KAAOmH,GAAOlH,GAAK,CACjB,MAAMmH,EAAa,IAAIrK,KAAKoK,GACtBE,EAAW,IAAItK,KAAKoK,GAC1BE,EAAS9G,QAAQ8G,EAAS7G,UAAY,GAEtC,MAAM8G,EAAY9I,KAAK+F,IAAI,EAAGxE,EAAkBqH,EAAY3G,EAAQR,EAAK,EAAGC,GAAkBA,IAE9FgH,EAAQvJ,KAAK,CACX4J,MAAM,KAADxJ,OAAOqJ,EAAW5G,UAAS,UAAAzC,OAAIsJ,EAAS7G,WAC7CgH,IAAKJ,EAAWK,mBAAmB,KAAM,CAAEC,MAAO,UAClDhF,MAAO4E,EAAYxD,IAGrBqD,EAAI5G,QAAQ4G,EAAI3G,UAAY,EAC9B,CAEA,OAAO0G,GACN,CAACxC,EAA0BP,EAAalE,IAAK6D,EAAU5D,IAmB1D,OACEpB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAC,wCAG3CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4CAA4CyD,MAAO,CAAEmF,SAAU,uBAAwB3I,UAGpGC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4DAA2DC,UAGxEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAG3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCC,SAAA,EAEnDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sDAAqDC,UAClEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sCAAqCC,SAAC,iBAMvDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qCAAoCC,UACjDC,EAAAA,EAAAA,KAAA,OACE2I,IAAK7D,EACL8D,SA1CQC,IAClB7D,EAAW3D,UAAY4D,EAAY5D,UACrC4D,EAAY5D,SAAU,EACtB2D,EAAW3D,QAAQyH,WAAaD,EAAEE,cAAcD,WAChDE,WAAW,KAAQ/D,EAAY5D,SAAU,GAAU,MAuCvCvB,UAAU,mFAAkFC,UAE5FC,EAAAA,EAAAA,KAAA,OACEF,UAAU,OACVyD,MAAO,CAAEE,MAAOoC,GAAe9F,SAE9BiI,EAAgBhJ,IAAI,CAACiK,EAAQ9I,KAC5BN,EAAAA,EAAAA,MAAA,OAEEC,UAAU,gFACVyD,MAAO,CAAEE,MAAOwF,EAAOxF,MAAOC,SAAUuF,EAAOxF,OAAQ1D,SAAA,EAEvDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SAAEkJ,EAAOX,SACrCtI,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAEkJ,EAAOV,QALlCpI,cAcjBN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAE9CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,UAChDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,WAAWyD,MAAO,CAAER,OAAQ,SAAUhD,SAClD6G,EAAiB5H,IAAI,CAACpB,EAASuC,KAC9BH,EAAAA,EAAAA,KAAA,OAEEF,UAAU,wEACVyD,MAAO,CACL2F,IAvNF,GAuN0B,GAAL/I,EACnB4C,OAzNR,GA0NQU,MAAO,QACP1D,SAEDnC,EAAQsB,MARJtB,EAAQuJ,UAerBnH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qCAAoCC,UACjDC,EAAAA,EAAAA,KAAA,OACE2I,IAAK3D,EACL4D,SAjFSC,IACnB/D,EAAUzD,UAAY4D,EAAY5D,UACpC4D,EAAY5D,SAAU,EACtByD,EAAUzD,QAAQyH,WAAaD,EAAEE,cAAcD,WAC/CE,WAAW,KAAQ/D,EAAY5D,SAAU,GAAU,MA8EvCvB,UAAU,mGACVyD,MAAO,CAAER,OAAQ,SAAUhD,UAE3BF,EAAAA,EAAAA,MAAA,OAAK0D,MAAO,CAAEE,MAAOoC,EAAcsD,SAAU,YAAapJ,SAAA,CAEvD+F,EAAc,GAAKA,EAAcD,IAChC7F,EAAAA,EAAAA,KAAA,OACEF,UAAU,iCACVyD,MAAO,CACL6F,KAAMtD,EACNoD,IAAK,EACLnG,OAAO,GAADjE,OAAoB,GAAftB,EAASiB,OAlPxB,GAkP0D,OACtDsB,UAEFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kFAAiFC,SAAC,cAOpG6G,EAAiB5H,IAAI,CAACpB,EAASuC,KAC9BH,EAAAA,EAAAA,KAAA,OAEEF,UAAU,WACVyD,MAAO,CACL6F,KAAMxL,EAAQ+J,OACduB,IAlQJ,GAkQ4B,GAAL/I,EACnBsD,MAAO7F,EAAQiK,QACf9E,OAAQsG,IACRtJ,UAEFC,EAAAA,EAAAA,KAAA,OACEF,UAAU,gFACVyD,MAAO,CAAEC,gBAAiB5F,EAAQmK,eAAgBhI,SAGjDnC,EAAQsJ,WAAWlI,IAAKuI,IACvBvH,EAAAA,EAAAA,KAAA,OAEEF,UAAU,qLACVyD,MAAO,CACL6F,KAAM7B,EAAUI,OAAS/J,EAAQ+J,QAEnC/I,MAAK,QAAAE,OAAUyI,EAAUK,OAAM,MAAA9I,OAAKyI,EAAUrI,MAAOa,SAEpDwH,EAAUK,QAPNL,EAAUJ,QAhBhBvJ,EAAQuJ,uBAyC/BtH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kDAAiDC,SAAA,EAC9DF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,WAAS,IAAIjC,KAAKoH,EAAanE,OAAOyH,mBAAmB,UAC/D3I,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,QAAM,IAAIjC,KAAKoH,EAAalE,KAAKwH,mBAAmB,gBAO5Dc,EAAmBA,KACvB,MAAMlL,EAAcZ,EAASsG,OAAO,CAACC,EAAK9E,IAAM8E,EAAM9E,EAAEZ,OAAQ,GAG1DkL,EAFmB/L,EAASsG,OAAO,CAACC,EAAK9E,IAAM8E,EAAM9E,EAAEuK,mBAAoB,GACzDhM,EAASsG,OAAO,CAACC,EAAK9E,IAAM8E,EAAM9E,EAAEwK,kBAAmB,GAG/E,OACE5J,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAC,uDAE3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,CAAC,KAC7C3B,EAAc,KAAMiB,QAAQ,GAAG,QAEpCW,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,0BAGzCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,CAAC,KAC9CwJ,EAAgB,KAAMlK,QAAQ,GAAG,QAEtCW,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yBAAwBC,SAAC,4BAK5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,UAChDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,sBAAqBC,SAAC,uCAGvCvC,EAASwB,IAAI,CAACpB,EAASuC,KACtB,MAAMuJ,EAAc9L,EAAQS,OAASD,EAAe,IACpD,OACEyB,EAAAA,EAAAA,MAAA,OAAsBC,UAAU,oBAAmBC,SAAA,EACjDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sCAAqCC,SAAEnC,EAAQsB,QAC9Dc,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,UACpDF,EAAAA,EAAAA,MAAA,OACEC,UAAU,qFACVyD,MAAO,CAAEE,MAAM,GAAD3E,OAAK4K,EAAU,KAAKhG,SAAU,QAAS3D,SAAA,CAEpD2J,EAAWrK,QAAQ,GAAG,YAI7BQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,CAAC,KAClDnC,EAAQS,OAAS,KAAMgB,QAAQ,GAAG,SAb/BzB,EAAQuJ,aAuB9B,OACEtH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,CACnD+B,EAAWrD,OAAS,IACnBuB,EAAAA,EAAAA,KAAC2D,EAAc,CACbf,KAAMd,EACNlD,MAAM,4CAITqD,EAAaxD,OAAS,IACrBuB,EAAAA,EAAAA,KAAC2D,EAAc,CACbf,KAAMX,EACNrD,MAAM,4CAMXsD,EAAWzD,OAAS,IACnBuB,EAAAA,EAAAA,KAAC0C,EAAc,CACbE,KAAMV,EACNtD,MAAM,6CACNiE,SAAS,SACTC,SAAS,WAKbjD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,CACnDsC,EAAsB5D,OAAS,IAC9BuB,EAAAA,EAAAA,KAAC2D,EAAc,CACbf,KAAMP,EACNzD,MAAM,yCAIT6D,EAAehE,OAAS,IACvBuB,EAAAA,EAAAA,KAAC2D,EAAc,CACbf,KAAMH,EACN7D,MAAM,sCAMX2D,EAAiB9D,OAAS,IACzBuB,EAAAA,EAAAA,KAAC0C,EAAc,CACbE,KAAML,EACN3D,MAAM,oCACNiE,SAAS,WAKb7C,EAAAA,EAAAA,KAAC4E,EAAiB,KAGlB5E,EAAAA,EAAAA,KAACsJ,EAAgB,O","sources":["components/CorporateAlerts.js","components/PortfolioCharts.js"],"sourcesContent":["import React from 'react';\n\nconst CorporateAlerts = ({ projects, portfolioMetrics = {} }) => {\n  \n  // Identificar proyectos crÃ­ticos\n  const criticalProjects = projects.filter(project => {\n    // AquÃ­ deberÃ­amos tener las mÃ©tricas EVM de cada proyecto\n    // Por ahora, usamos criterios bÃ¡sicos\n    const isOverdue = new Date(project.endDate) < new Date() && project.status !== 'completed';\n    const isHighPriority = project.priority === 'high';\n    return isOverdue || (isHighPriority && project.status === 'active');\n  });\n\n  // Proyectos con presupuesto alto\n  const highBudgetProjects = projects.filter(project => {\n    // Verificar que portfolioMetrics.totalBudget exista y sea vÃ¡lido\n    if (!portfolioMetrics?.totalBudget || portfolioMetrics.totalBudget <= 0) {\n      return false; // No mostrar alertas si no hay presupuesto total\n    }\n    return project.budget > portfolioMetrics.totalBudget * 0.3;\n  });\n\n  // Proyectos prÃ³ximos a vencer\n  const upcomingDeadlines = projects.filter(project => {\n    const daysToEnd = (new Date(project.endDate) - new Date()) / (1000 * 60 * 60 * 24);\n    return daysToEnd > 0 && daysToEnd <= 30 && project.status === 'active';\n  });\n\n  // Alertas del sistema\n  const alerts = [];\n\n  // Alerta de proyectos crÃ­ticos\n  if (criticalProjects.length > 0) {\n    alerts.push({\n      type: 'critical',\n      title: 'Proyectos CrÃ­ticos',\n      message: `${criticalProjects.length} proyecto(s) requieren atenciÃ³n inmediata`,\n      details: criticalProjects.map(p => p.name),\n      icon: 'ðŸš¨',\n      color: 'red'\n    });\n  }\n\n  // Alerta de presupuesto concentrado\n  if (highBudgetProjects.length > 0) {\n    alerts.push({\n      type: 'budget',\n      title: 'ConcentraciÃ³n de Presupuesto',\n      message: `${highBudgetProjects.length} proyecto(s) concentran >30% del presupuesto total`,\n      details: highBudgetProjects.map(p => `${p.name}: $${(p.budget / 1000).toFixed(0)}K`),\n      icon: 'ðŸ’°',\n      color: 'yellow'\n    });\n  }\n\n  // Alerta de deadlines prÃ³ximos\n  if (upcomingDeadlines.length > 0) {\n    alerts.push({\n      type: 'deadline',\n      title: 'Deadlines PrÃ³ximos',\n      message: `${upcomingDeadlines.length} proyecto(s) terminan en los prÃ³ximos 30 dÃ­as`,\n      details: upcomingDeadlines.map(p => {\n        const days = Math.ceil((new Date(p.endDate) - new Date()) / (1000 * 60 * 60 * 24));\n        return `${p.name}: ${days} dÃ­as`;\n      }),\n      icon: 'â°',\n      color: 'blue'\n    });\n  }\n\n  // Alerta de capacidad del portfolio\n  if (portfolioMetrics?.activeProjects > 5) {\n    alerts.push({\n      type: 'capacity',\n      title: 'Alta Carga de Proyectos',\n      message: `${portfolioMetrics.activeProjects} proyectos activos pueden sobrecargar recursos`,\n      details: ['Considerar priorizaciÃ³n de proyectos', 'Evaluar capacidad de recursos'],\n      icon: 'âš¡',\n      color: 'purple'\n    });\n  }\n\n  // Alerta de Ã©xito\n  if (portfolioMetrics?.completedProjects > 0 && criticalProjects.length === 0) {\n    alerts.push({\n      type: 'success',\n      title: 'Portfolio Saludable',\n      message: `${portfolioMetrics.completedProjects} proyecto(s) completado(s) sin alertas crÃ­ticas`,\n      details: ['Excelente gestiÃ³n del portfolio', 'Continuar con las mejores prÃ¡cticas'],\n      icon: 'âœ…',\n      color: 'green'\n    });\n  }\n\n  const getAlertColor = (color) => {\n    switch(color) {\n      case 'red': return 'bg-red-50 border-red-500 text-red-700';\n      case 'yellow': return 'bg-yellow-50 border-yellow-500 text-yellow-700';\n      case 'blue': return 'bg-blue-50 border-blue-500 text-blue-700';\n      case 'purple': return 'bg-purple-50 border-purple-500 text-purple-700';\n      case 'green': return 'bg-green-50 border-green-500 text-green-700';\n      default: return 'bg-gray-50 border-gray-500 text-gray-700';\n    }\n  };\n\n  const getIconColor = (color) => {\n    switch(color) {\n      case 'red': return 'text-red-500';\n      case 'yellow': return 'text-yellow-500';\n      case 'blue': return 'text-blue-500';\n      case 'purple': return 'text-purple-500';\n      case 'green': return 'text-green-500';\n      default: return 'text-gray-500';\n    }\n  };\n\n  if (alerts.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">ðŸ”” Alertas Corporativas</h3>\n        <div className=\"text-center py-8 text-gray-500\">\n          <div className=\"text-4xl mb-2\">âœ…</div>\n          <div>No hay alertas activas</div>\n          <div className=\"text-sm mt-1\">El portfolio estÃ¡ funcionando correctamente</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n        ðŸ”” Alertas Corporativas\n        <span className=\"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full\">\n          {alerts.filter(a => a.type === 'critical').length}\n        </span>\n      </h3>\n      \n      <div className=\"space-y-4\">\n        {alerts.map((alert, index) => (\n          <div\n            key={index}\n            className={`border-l-4 p-4 rounded-lg ${getAlertColor(alert.color)}`}\n          >\n            <div className=\"flex items-start\">\n              <span className={`text-xl mr-3 ${getIconColor(alert.color)}`}>\n                {alert.icon}\n              </span>\n              <div className=\"flex-1\">\n                <div className=\"font-semibold mb-1\">{alert.title}</div>\n                <div className=\"text-sm mb-2\">{alert.message}</div>\n                \n                {alert.details && alert.details.length > 0 && (\n                  <div className=\"text-xs space-y-1\">\n                    {alert.details.map((detail, detailIndex) => (\n                      <div key={detailIndex} className=\"flex items-center\">\n                        <span className=\"w-2 h-2 bg-current rounded-full mr-2 opacity-50\"></span>\n                        {detail}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Resumen de alertas */}\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <div className=\"flex items-center justify-between text-sm\">\n          <span className=\"font-medium text-gray-700\">Resumen de Alertas:</span>\n          <div className=\"flex space-x-4\">\n            <span className=\"text-red-600\">\n              ðŸš¨ {alerts.filter(a => a.type === 'critical').length} CrÃ­ticas\n            </span>\n            <span className=\"text-yellow-600\">\n              âš ï¸ {alerts.filter(a => a.color === 'yellow').length} Advertencias\n            </span>\n            <span className=\"text-blue-600\">\n              â„¹ï¸ {alerts.filter(a => a.color === 'blue').length} Informativas\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CorporateAlerts;\n","import React, { useMemo, useRef } from 'react';\n\n// ===== Utilidades de tiempo =====\nconst DAY = 1000 * 60 * 60 * 24;\n\n\n// ===== Funciones auxiliares para el Gantt de proyectos =====\nconst toISO = (date) => {\n  if (!date) return new Date().toISOString().split('T')[0];\n  if (typeof date === 'string') return date;\n  return date.toISOString().split('T')[0];\n};\n\nconst isWorkingDay = (date) => {\n  const day = date.getDay();\n  return day !== 0 && day !== 6; // No es domingo (0) ni sÃ¡bado (6)\n};\n\nconst diffDaysExclusive = (start, end, includeWeekends = false) => {\n  if (!start || !end) return 0;\n  \n  const startDate = new Date(start);\n  const endDate = new Date(end);\n  \n  if (includeWeekends) {\n    return Math.ceil((endDate - startDate) / DAY);\n  } else {\n    let days = 0;\n    const current = new Date(startDate);\n    \n    while (current < endDate) {\n      if (isWorkingDay(current)) {\n        days++;\n      }\n      current.setDate(current.getDate() + 1);\n    }\n    \n    return days;\n  }\n};\n\nconst addDays = (date, days, includeWeekends = false) => {\n  const result = new Date(date);\n  \n  if (includeWeekends) {\n    result.setDate(result.getDate() + days);\n    return toISO(result);\n  } else {\n    let addedDays = 0;\n    \n    while (addedDays < days) {\n      result.setDate(result.getDate() + 1);\n      if (isWorkingDay(result)) {\n        addedDays++;\n      }\n    }\n    \n    return toISO(result);\n  }\n};\n\nconst findColumnIndex = (targetDate, referenceDate, includeWeekends = false) => {\n  if (!targetDate || !referenceDate) return 0;\n  \n  const target = new Date(targetDate);\n  const reference = new Date(referenceDate);\n  \n  if (includeWeekends) {\n    return Math.ceil((target - reference) / DAY);\n  } else {\n    let current = new Date(reference);\n    let index = 0;\n    \n    while (current <= target) {\n      if (isWorkingDay(current)) {\n        index++;\n      }\n      current.setDate(current.getDate() + 1);\n    }\n    \n    return index;\n  }\n};\n\nconst PortfolioCharts = ({ projects, portfolioMetrics = {}, workPackages = [], risks = [], tasksByProject = {} }) => {\n  \n  // Datos para grÃ¡fico de distribuciÃ³n por estado\n  const statusData = [\n    { name: 'Activos', count: portfolioMetrics?.activeProjects || projects.filter(p => p.status === 'active').length, color: '#3B82F6' },\n    { name: 'Completados', count: portfolioMetrics?.completedProjects || projects.filter(p => p.status === 'completed').length, color: '#10B981' },\n    { name: 'En Pausa', count: projects.filter(p => p.status === 'on-hold').length, color: '#F59E0B' },\n    { name: 'Cancelados', count: projects.filter(p => p.status === 'cancelled').length, color: '#EF4444' }\n  ].filter(item => item.count > 0);\n\n  // Datos para grÃ¡fico de distribuciÃ³n por prioridad\n  const priorityData = [\n    { name: 'Alta', count: projects.filter(p => p.priority === 'high').length, color: '#EF4444' },\n    { name: 'Media', count: projects.filter(p => p.priority === 'medium').length, color: '#F59E0B' },\n    { name: 'Baja', count: projects.filter(p => p.priority === 'low').length, color: '#10B981' }\n  ].filter(item => item.count > 0);\n\n  // Datos para grÃ¡fico de presupuesto por proyecto (solo activos)\n  const budgetData = projects.filter(p => p.status === 'active').map((project, index) => {\n    const colors = ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#06B6D4'];\n    return {\n      name: project.name.length > 20 ? project.name.substring(0, 20) + '...' : project.name,\n      budget: project.budget / 1000,\n      status: project.status,\n      color: colors[index % colors.length] // Asignar color Ãºnico a cada proyecto\n    };\n  });\n\n  // Nuevos datos para work packages\n  const workPackageStatusData = [\n    { name: 'Completados', count: workPackages.filter(wp => wp.status === 'completed').length, color: '#10B981' },\n    { name: 'En Progreso', count: workPackages.filter(wp => wp.status === 'in-progress').length, color: '#3B82F6' },\n    { name: 'Pendientes', count: workPackages.filter(wp => wp.status === 'pending').length, color: '#F59E0B' },\n    { name: 'Retrasados', count: workPackages.filter(wp => wp.status === 'delayed').length, color: '#EF4444' }\n  ].filter(item => item.count > 0);\n\n  // Datos para riesgos\n  const riskPriorityData = [\n    { name: 'Alta', count: risks.filter(r => r.priority === 'high').length, color: '#EF4444' },\n    { name: 'Media', count: risks.filter(r => r.priority === 'medium').length, color: '#F59E0B' },\n    { name: 'Baja', count: risks.filter(r => r.priority === 'low').length, color: '#10B981' }\n  ].filter(item => item.count > 0);\n\n  const riskStatusData = [\n    { name: 'Activos', count: risks.filter(r => r.status === 'active').length, color: '#EF4444' },\n    { name: 'Mitigados', count: risks.filter(r => r.status === 'mitigated').length, color: '#10B981' },\n    { name: 'Cerrados', count: risks.filter(r => r.status === 'closed').length, color: '#6B7280' }\n  ].filter(item => item.count > 0);\n\n  // FunciÃ³n para crear grÃ¡fico de barras simple\n  const SimpleBarChart = ({ data, title, valueKey, colorKey = 'color', height = 200 }) => {\n    const maxValue = Math.max(...data.map(item => item[valueKey]));\n    \n    // FunciÃ³n para obtener color basado en el tipo de dato\n    const getBarColor = (item, index) => {\n      if (item[colorKey]) return item[colorKey];\n      \n      // Colores por defecto para diferentes tipos de datos\n      const defaultColors = ['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#06B6D4'];\n      return defaultColors[index % defaultColors.length];\n    };\n    \n    return (\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\n        <div className=\"space-y-3\">\n          {data.map((item, index) => {\n            const barColor = getBarColor(item, index);\n            const barWidth = maxValue > 0 ? `${(item[valueKey] / maxValue) * 100}%` : '0%';\n            const displayValue = typeof item[valueKey] === 'number' ? item[valueKey].toFixed(0) : item[valueKey];\n            \n            return (\n              <div key={index} className=\"flex items-center\">\n                <div className=\"w-24 text-sm text-gray-600 truncate\">{item.name}</div>\n                <div className=\"flex-1 mx-3\">\n                  <div className=\"bg-gray-200 rounded-full h-6 relative\">\n                    <div\n                      className=\"h-6 rounded-full flex items-center justify-end pr-2 text-white text-xs font-medium transition-all duration-300\"\n                      style={{\n                        backgroundColor: barColor,\n                        width: barWidth,\n                        minWidth: '40px'\n                      }}\n                    >\n                      {displayValue}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-16 text-sm text-gray-600 text-right font-medium\">\n                  {displayValue}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  // FunciÃ³n para crear grÃ¡fico de dona simple\n  const SimplePieChart = ({ data, title }) => {\n    const total = data.reduce((sum, item) => sum + item.count, 0);\n    let currentAngle = 0;\n    \n    return (\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\n        <div className=\"flex items-center justify-center\">\n          <div className=\"relative\">\n            <svg width=\"150\" height=\"150\" className=\"transform -rotate-90\">\n              {data.map((item, index) => {\n                const percentage = (item.count / total) * 100;\n                // Convertir porcentaje a grados (360 grados = 100%)\n                const angleInDegrees = (percentage / 100) * 360;\n                // Convertir grados a radianes para el cÃ¡lculo de stroke-dasharray\n                const circumference = 2 * Math.PI * 60; // 2Ï€r donde r=60\n                const strokeLength = (angleInDegrees / 360) * circumference;\n                const strokeDasharray = `${strokeLength} ${circumference - strokeLength}`;\n                const strokeDashoffset = -currentAngle;\n                currentAngle += strokeLength;\n                \n                return (\n                  <circle\n                    key={index}\n                    cx=\"75\"\n                    cy=\"75\"\n                    r=\"60\"\n                    fill=\"transparent\"\n                    stroke={item.color}\n                    strokeWidth=\"20\"\n                    strokeDasharray={strokeDasharray}\n                    strokeDashoffset={strokeDashoffset}\n                    className=\"transition-all duration-500\"\n                  />\n                );\n              })}\n            </svg>\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-gray-800\">{total}</div>\n                <div className=\"text-xs text-gray-600\">Total</div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"ml-6 space-y-2\">\n            {data.map((item, index) => (\n              <div key={index} className=\"flex items-center\">\n                <div\n                  className=\"w-3 h-3 rounded-full mr-2\"\n                  style={{ backgroundColor: item.color }}\n                ></div>\n                <div className=\"text-sm text-gray-700\">\n                  {item.name}: {item.count} ({((item.count / total) * 100).toFixed(1)}%)\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Funciones auxiliares para el Timeline\n  const getStartOfWeek = (date) => {\n    const d = new Date(date);\n    const day = d.getDay();\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1); // Ajustar para que lunes sea el primer dÃ­a\n    return new Date(d.setDate(diff));\n  };\n\n  const getWeekNumber = (date, startWeek) => {\n    const weekStart = getStartOfWeek(new Date(date));\n    const startWeekStart = getStartOfWeek(new Date(startWeek));\n    const diffTime = weekStart.getTime() - startWeekStart.getTime();\n    const diffWeeks = Math.floor(diffTime / (7 * 24 * 60 * 60 * 1000));\n    return Math.max(0, diffWeeks);\n  };\n\n  // NUEVAS FUNCIONES: Para obtener nÃºmeros reales de semana ISO\n  const getISOWeekNumber = (date) => {\n    const d = new Date(date);\n    const dayOfWeek = d.getDay() || 7; // Convertir domingo (0) a 7\n    d.setDate(d.getDate() + 4 - dayOfWeek); // Ir al jueves de esta semana\n    \n    const firstDayOfYear = new Date(d.getFullYear(), 0, 1);\n    const days = Math.floor((d - firstDayOfYear) / (24 * 60 * 60 * 1000)) + 1;\n    \n    return Math.ceil(days / 7);\n  };\n\n  const getWeekYear = (date) => {\n    const d = new Date(date);\n    const dayOfWeek = d.getDay() || 7;\n    d.setDate(d.getDate() + 4 - dayOfWeek);\n    return d.getFullYear();\n  };\n\n  const getWeekLabel = (date, previousYear = null) => {\n    const weekNum = getISOWeekNumber(date);\n    const year = getWeekYear(date);\n    \n    // Mostrar aÃ±o solo cuando cambia\n    if (previousYear === null || year !== previousYear) {\n      return `Semana ${weekNum} (${year})`;\n    }\n    return `Semana ${weekNum}`;\n  };\n\n  const getProjectMilestones = (projectId) => {\n    const projectTasks = tasksByProject[projectId] || [];\n    return projectTasks\n      .filter(task => task.isMilestone)\n      .sort((a, b) => new Date(a.startDate) - new Date(b.startDate));\n  };\n\n  const calculateProjectProgress = (projectId, currentDate = new Date()) => {\n    const projectTasks = tasksByProject[projectId] || [];\n    const today = new Date(currentDate);\n    \n    // Tareas planificadas para completar hasta hoy\n    const plannedTasks = projectTasks.filter(task => \n      new Date(task.endDate) <= today\n    );\n    \n    // Tareas completadas hasta hoy\n    const completedTasks = projectTasks.filter(task => \n      task.progress === 100 && new Date(task.endDate) <= today\n    );\n    \n    if (plannedTasks.length === 0) return 100;\n    \n    return Math.round((completedTasks.length / plannedTasks.length) * 100);\n  };\n\n  const getProgressColor = (progressPercentage) => {\n    if (progressPercentage >= 100) return '#10B981'; // Verde\n    if (progressPercentage >= 80) return '#F59E0B';  // Amarillo\n    return '#EF4444'; // Rojo\n  };\n\n  // ===== FUNCIONES ESPECÃFICAS PARA EL GANTT DE PROYECTOS =====\n  \n  // FunciÃ³n para obtener hitos de un proyecto con posicionamiento en pÃ­xeles - CORREGIDO: Usar dÃ­as calendario\n  const getProjectMilestonesForGantt = (projectId, referenceDate, pxPerDay, includeWeekends = false) => {\n    const projectTasks = tasksByProject[projectId] || [];\n    const milestones = projectTasks\n      .filter(task => task.isMilestone)\n      .sort((a, b) => new Date(a.startDate) - new Date(b.startDate))\n      .map((milestone, index) => {\n        // CORRECCIÃ“N: Usar dÃ­as calendario para que coincida con la generaciÃ³n de headers semanales\n        const milestoneStartDate = new Date(milestone.startDate);\n        const refDate = new Date(referenceDate);\n        const leftDays = Math.floor((milestoneStartDate - refDate) / DAY);\n        return {\n          id: milestone.id,\n          name: milestone.name,\n          startDate: milestone.startDate,\n          leftPx: leftDays * pxPerDay,\n          number: index + 1\n        };\n      });\n    \n    return milestones;\n  };\n\n  // FunciÃ³n para generar barras del Gantt de proyectos - CORREGIDO: Usar dÃ­as calendario\n  const generateProjectGanttBars = (projects, referenceDate, pxPerDay, includeWeekends = false) => {\n    return projects.map((project) => {\n      const projectStartDate = project.startDate;\n      const projectEndDate = project.endDate;\n      \n      // CORRECCIÃ“N: Usar dÃ­as calendario para que coincida con la generaciÃ³n de headers semanales\n      const startDate = new Date(projectStartDate);\n      const endDate = new Date(projectEndDate);\n      const refDate = new Date(referenceDate);\n      \n      const leftDays = Math.floor((startDate - refDate) / DAY);\n      const endDays = Math.floor((endDate - refDate) / DAY);\n      const durDays = Math.max(1, endDays - leftDays + 1);\n      \n      // Obtener hitos del proyecto\n      const milestones = getProjectMilestonesForGantt(project.id, referenceDate, pxPerDay, includeWeekends);\n      \n      // Calcular progreso del proyecto\n      const progressPercentage = calculateProjectProgress(project.id);\n      const progressColor = getProgressColor(progressPercentage);\n      \n      return {\n        id: project.id,\n        name: project.name,\n        startDate: projectStartDate,\n        endDate: projectEndDate,\n        leftPx: leftDays * pxPerDay,\n        widthPx: durDays * pxPerDay,\n        progressPercentage,\n        progressColor,\n        milestones,\n        totalDays: durDays\n      };\n    });\n  };\n\n  // FunciÃ³n para generar encabezados del timeline (reutilizada del Gantt original)\n  const generateProjectTimelineHeaders = (startDate, endDate, pxPerDay, includeWeekends = false) => {\n    const headers = [];\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    \n    // Usar escala de semanas para mejor visualizaciÃ³n\n    const cur = new Date(start);\n    while (cur <= end) {\n      const labelStart = new Date(cur);\n      const labelEnd = new Date(cur);\n      labelEnd.setDate(labelEnd.getDate() + 6);\n      \n      const remaining = Math.min(7, diffDaysExclusive(labelStart, addDays(end, 1, includeWeekends), includeWeekends));\n      \n      headers.push({ \n        label: `S ${labelStart.getDate()}â€”${labelEnd.getDate()}`, \n        sub: labelStart.toLocaleDateString('es', { month: 'short' }), \n        width: remaining * pxPerDay \n      });\n      \n      cur.setDate(cur.getDate() + 7);\n    }\n    \n    return headers;\n  };\n\n  const ProjectGanttChart = () => {\n    // ConfiguraciÃ³n del Gantt\n    const ROW_H = 50;\n    const PADDING_TOP = 10;\n    const pxPerDay = 20;\n    const includeWeekends = false;\n    \n    // Refs para sincronizaciÃ³n de scroll\n    const headerRef = useRef(null);\n    const contentRef = useRef(null);\n    const isScrolling = useRef(false);\n    \n    // Calcular fechas del proyecto\n    const projectDates = useMemo(() => {\n      if (projects.length === 0) return { start: new Date(), end: new Date() };\n      \n      const dates = projects.flatMap((p) => [new Date(p.startDate), new Date(p.endDate)]);\n      const projectStart = new Date(Math.min(...dates.map((d) => d.getTime())));\n      const projectEnd = new Date(Math.max(...dates.map((d) => d.getTime())));\n      \n      return { start: projectStart, end: projectEnd };\n    }, [projects]);\n    \n    // Fecha de referencia del timeline\n    const getTimelineReferenceDate = useMemo(() => {\n      return toISO(projectDates.start);\n    }, [projectDates.start]);\n    \n    // Calcular total de dÃ­as y ancho del grÃ¡fico\n    const totalDays = useMemo(() => {\n      const pStart = getTimelineReferenceDate;\n      const pEnd = toISO(projectDates.end);\n      return Math.max(1, diffDaysExclusive(pStart, addDays(pEnd, 1, includeWeekends), includeWeekends));\n    }, [getTimelineReferenceDate, projectDates.end, includeWeekends]);\n    \n    const chartWidthPx = useMemo(() => {\n      return totalDays * pxPerDay;\n    }, [totalDays]);\n    \n    // LÃ­nea \"Hoy\" - CORREGIDO: Usar dÃ­as calendario para coincidir con headers semanales\n    const todayLeftPx = useMemo(() => {\n      const todayISO = toISO(new Date());\n      // CORRECCIÃ“N: Usar dÃ­as calendario para que coincida con la generaciÃ³n de headers semanales\n      const todayDate = new Date(todayISO);\n      const refDate = new Date(getTimelineReferenceDate);\n      const daysDifference = Math.floor((todayDate - refDate) / DAY);\n      return Math.min(Math.max(0, daysDifference * pxPerDay), chartWidthPx);\n    }, [getTimelineReferenceDate, pxPerDay, chartWidthPx]);\n    \n    // Colores semÃ¡nticos para el estado de cumplimiento\n    const PROJECT_STATUS_COLORS = {\n      COMPLETED: '#10B981',    // Verde - Todas las tareas vencidas completadas\n      OVERDUE: '#EF4444',      // Rojo - Tareas vencidas sin completar  \n      NO_TASKS: '#4A5568'      // Gris Oxford - Sin tareas vencidas\n    };\n\n    // FunciÃ³n para evaluar el estado de cumplimiento de tareas del proyecto\n    const getProjectStatusColor = (projectId, currentDate = new Date()) => {\n      const projectTasks = tasksByProject[projectId] || [];\n      \n      // Tareas que debieron cumplirse antes de hoy\n      const overdueTasks = projectTasks.filter(task => \n        new Date(task.endDate) <= currentDate\n      );\n      \n      // Si no hay tareas vencidas, color gris Oxford\n      if (overdueTasks.length === 0) {\n        return PROJECT_STATUS_COLORS.NO_TASKS;\n      }\n      \n      // Verificar si todas las tareas vencidas estÃ¡n completadas\n      const allCompleted = overdueTasks.every(task => task.progress === 100);\n      \n      return allCompleted ? PROJECT_STATUS_COLORS.COMPLETED : PROJECT_STATUS_COLORS.OVERDUE;\n    };\n    \n    // Generar barras del Gantt - CORREGIDO: Usar dÃ­as calendario para coincidir con headers semanales\n    const projectGanttBars = useMemo(() => {\n      return projects.map((project) => {\n        // CORRECCIÃ“N: Usar dÃ­as calendario para que coincida con la generaciÃ³n de headers semanales\n        const projectStartDate = new Date(project.startDate);\n        const projectEndDate = new Date(project.endDate);\n        const refDate = new Date(getTimelineReferenceDate);\n        \n        const leftDays = Math.floor((projectStartDate - refDate) / DAY);\n        const endDays = Math.floor((projectEndDate - refDate) / DAY);\n        const durDays = Math.max(1, endDays - leftDays + 1);\n        \n        const milestones = (tasksByProject[project.id] || [])\n          .filter(task => task.isMilestone)\n          .sort((a, b) => new Date(a.startDate) - new Date(b.startDate))\n          .map((milestone, index) => {\n            // CORRECCIÃ“N: Usar dÃ­as calendario para que coincida con la generaciÃ³n de headers semanales\n            const milestoneStartDate = new Date(milestone.startDate);\n            const mLeftDays = Math.floor((milestoneStartDate - refDate) / DAY);\n            return {\n              ...milestone,\n              leftPx: mLeftDays * pxPerDay,\n              number: index + 1 // NumeraciÃ³n consecutiva por proyecto\n            };\n          });\n        \n        return {\n          id: project.id,\n          name: project.name,\n          startDate: project.startDate,\n          endDate: project.endDate,\n          leftPx: leftDays * pxPerDay,\n          widthPx: durDays * pxPerDay,\n          progressPercentage: project.progressPercentage,\n          progressColor: getProjectStatusColor(project.id), // Usar nueva lÃ³gica de colores\n          milestones,\n          totalDays: durDays\n        };\n      });\n    }, [projects, getTimelineReferenceDate, pxPerDay, includeWeekends, tasksByProject]);\n    \n    // Generar encabezados del timeline\n    const timelineHeaders = useMemo(() => {\n      const headers = [];\n      const start = new Date(getTimelineReferenceDate);\n      const end = new Date(toISO(projectDates.end));\n      \n      const cur = new Date(start);\n      while (cur <= end) {\n        const labelStart = new Date(cur);\n        const labelEnd = new Date(cur);\n        labelEnd.setDate(labelEnd.getDate() + 6);\n        \n        const remaining = Math.min(7, diffDaysExclusive(labelStart, addDays(end, 1, includeWeekends), includeWeekends));\n        \n        headers.push({ \n          label: `S ${labelStart.getDate()}â€”${labelEnd.getDate()}`, \n          sub: labelStart.toLocaleDateString('es', { month: 'short' }), \n          width: remaining * pxPerDay \n        });\n        \n        cur.setDate(cur.getDate() + 7);\n      }\n      \n      return headers;\n    }, [getTimelineReferenceDate, projectDates.end, pxPerDay, includeWeekends]);\n    \n    // Funciones de sincronizaciÃ³n de scroll\n    const onHeaderScroll = (e) => {\n      if (contentRef.current && !isScrolling.current) {\n        isScrolling.current = true;\n        contentRef.current.scrollLeft = e.currentTarget.scrollLeft;\n        setTimeout(() => { isScrolling.current = false; }, 10);\n      }\n    };\n    \n    const onContentScroll = (e) => {\n      if (headerRef.current && !isScrolling.current) {\n        isScrolling.current = true;\n        headerRef.current.scrollLeft = e.currentTarget.scrollLeft;\n        setTimeout(() => { isScrolling.current = false; }, 10);\n      }\n    };\n\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">ðŸ“… Timeline de Proyectos</h3>\n        \n        {/* ðŸ”´ CONTENEDOR PRINCIPAL ROJO - SIN BORDES */}\n        <div className=\"rounded-lg p-2 max-w-full overflow-hidden\" style={{ maxWidth: 'calc(100vw - 150px)' }}>\n          \n          {/* ðŸ”µ CONTENEDOR PRINCIPAL INTERNO AZUL - SIN BORDES */}\n          <div className=\"rounded-lg p-2 max-w-full overflow-x-auto overflow-hidden\">\n            \n            {/* ðŸŸ¢ CONTENEDOR 1 VERDE - SIN BORDES */}\n            <div className=\"rounded-lg p-2 flex flex-col\">\n              \n              {/* FILA 1: Header \"Proyectos\" + Contenedor 2 (Headers de fechas) */}\n              <div className=\"flex mb-2 max-w-full overflow-hidden\">\n                {/* ðŸŸ¡ COLUMNA FIJA AMARILLO - Sin bordes ni color de fondo */}\n                <div className=\"rounded-lg p-2 w-64 flex-shrink-0 flex items-center\">\n                  <div className=\"text-sm font-semibold text-gray-700\">\n                    Proyectos\n                  </div>\n                </div>\n                \n                {/* ðŸ©· CONTENEDOR 2: HEADERS ROSA - Sin bordes */}\n                <div className=\"rounded-lg p-2 flex-1 ml-2 min-w-0\">\n                  <div \n                    ref={headerRef}\n                    onScroll={onHeaderScroll}\n                    className=\"overflow-x-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200\"\n                  >\n                    <div \n                      className=\"flex\"\n                      style={{ width: chartWidthPx }}\n                    >\n                      {timelineHeaders.map((header, index) => (\n                        <div\n                          key={index}\n                          className=\"text-xs text-gray-600 text-center border-r border-gray-200 flex-shrink-0 py-2\"\n                          style={{ width: header.width, minWidth: header.width }}\n                        >\n                          <div className=\"font-medium\">{header.label}</div>\n                          <div className=\"text-gray-400\">{header.sub}</div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* FILA 2: Lista de proyectos + Contenedor 3 (Contenido/Barras) */}\n              <div className=\"flex max-w-full overflow-hidden\">\n                {/* ðŸŸ¡ COLUMNA FIJA AMARILLO - Lista de nombres de proyectos - Sin bordes */}\n                <div className=\"rounded-lg p-2 w-64 flex-shrink-0\">\n                  <div className=\"relative\" style={{ height: '400px' }}>\n                    {projectGanttBars.map((project, index) => (\n                      <div\n                        key={project.id}\n                        className=\"absolute text-sm font-medium text-gray-700 truncate flex items-center\"\n                        style={{ \n                          top: PADDING_TOP + index * (ROW_H + 8),\n                          height: ROW_H,\n                          width: '100%'\n                        }}\n                      >\n                        {project.name}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                {/* ðŸŸ  CONTENEDOR 3: CONTENIDO NARANJA - Sin bordes */}\n                <div className=\"rounded-lg p-2 flex-1 ml-2 min-w-0\">\n                  <div \n                    ref={contentRef}\n                    onScroll={onContentScroll}\n                    className=\"overflow-x-auto overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200\"\n                    style={{ height: '400px' }}\n                  >\n                    <div style={{ width: chartWidthPx, position: 'relative' }}>\n                      {/* LÃ­nea \"Hoy\" */}\n                      {todayLeftPx > 0 && todayLeftPx < chartWidthPx && (\n                        <div\n                          className=\"absolute z-10 w-0.5 bg-red-500\"\n                          style={{\n                            left: todayLeftPx,\n                            top: 0,\n                            height: `${projects.length * (ROW_H + 8) + PADDING_TOP}px`\n                          }}\n                        >\n                          <div className=\"bg-red-500 text-white text-xs px-1 py-0.5 rounded -mt-2 -ml-6 whitespace-nowrap\">\n                            HOY 500\n                          </div>\n                        </div>\n                      )}\n                      \n                      {/* Barras de proyectos */}\n                      {projectGanttBars.map((project, index) => (\n                        <div\n                          key={project.id}\n                          className=\"absolute\"\n                          style={{\n                            left: project.leftPx,\n                            top: PADDING_TOP + index * (ROW_H + 8),\n                            width: project.widthPx,\n                            height: ROW_H - 4\n                          }}\n                        >\n                          <div\n                            className=\"relative rounded flex items-center px-2 text-white text-xs font-medium h-full\"\n                            style={{ backgroundColor: project.progressColor }}\n                          >\n                            {/* Hitos del proyecto - Numerados consecutivamente */}\n                            {project.milestones.map((milestone) => (\n                              <div\n                                key={milestone.id}\n                                className=\"absolute top-1/2 transform -translate-y-1/2 bg-white border-2 border-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold text-blue-600 shadow-sm z-10\"\n                                style={{\n                                  left: milestone.leftPx - project.leftPx\n                                }}\n                                title={`Hito ${milestone.number}: ${milestone.name}`}\n                              >\n                                {milestone.number}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n                \n              </div>\n              \n            </div>\n            \n          </div>\n        </div>\n        \n        {/* Leyenda */}\n        <div className=\"mt-4 text-xs text-gray-500 flex justify-between\">\n          <span>Inicio: {new Date(projectDates.start).toLocaleDateString('es')}</span>\n          <span>Fin: {new Date(projectDates.end).toLocaleDateString('es')}</span>\n        </div>\n      </div>\n    );\n  };\n\n  // MÃ©tricas financieras consolidadas\n  const FinancialMetrics = () => {\n    const totalBudget = projects.reduce((sum, p) => sum + p.budget, 0);\n    const totalContingency = projects.reduce((sum, p) => sum + p.contingencyReserve, 0);\n    const totalManagement = projects.reduce((sum, p) => sum + p.managementReserve, 0);\n    const totalReserves = totalContingency + totalManagement;\n    \n    return (\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">ðŸ’° MÃ©tricas Financieras Consolidadas</h3>\n        \n        <div className=\"grid grid-cols-2 gap-4 mb-6\">\n          <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-blue-600\">\n              ${(totalBudget / 1000).toFixed(0)}K\n            </div>\n            <div className=\"text-sm text-blue-600\">Presupuesto Total</div>\n          </div>\n          \n          <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-green-600\">\n              ${(totalReserves / 1000).toFixed(0)}K\n            </div>\n            <div className=\"text-sm text-green-600\">Reservas Totales</div>\n          </div>\n        </div>\n\n        {/* DistribuciÃ³n del presupuesto */}\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-sm font-medium\">DistribuciÃ³n del Presupuesto:</span>\n          </div>\n          \n          {projects.map((project, index) => {\n            const percentage = (project.budget / totalBudget) * 100;\n            return (\n              <div key={project.id} className=\"flex items-center\">\n                <div className=\"w-24 text-sm text-gray-600 truncate\">{project.name}</div>\n                <div className=\"flex-1 mx-3\">\n                  <div className=\"bg-gray-200 rounded-full h-4 relative\">\n                    <div\n                      className=\"h-4 bg-blue-500 rounded-full flex items-center justify-end pr-2 text-white text-xs\"\n                      style={{ width: `${percentage}%`, minWidth: '40px' }}\n                    >\n                      {percentage.toFixed(1)}%\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-16 text-sm text-gray-600 text-right\">\n                  ${(project.budget / 1000).toFixed(0)}K\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* GrÃ¡ficos principales */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {statusData.length > 0 && (\n          <SimplePieChart\n            data={statusData}\n            title=\"ðŸ“Š DistribuciÃ³n por Estado\"\n          />\n        )}\n        \n        {priorityData.length > 0 && (\n          <SimplePieChart\n            data={priorityData}\n            title=\"âš¡ DistribuciÃ³n por Prioridad\"\n          />\n        )}\n      </div>\n\n      {/* GrÃ¡fico de presupuestos */}\n      {budgetData.length > 0 && (\n        <SimpleBarChart\n          data={budgetData}\n          title=\"ðŸ’° Presupuesto por Proyecto (K$)\"\n          valueKey=\"budget\"\n          colorKey=\"color\"\n        />\n      )}\n\n      {/* Nuevos grÃ¡ficos de Work Packages y Riesgos */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {workPackageStatusData.length > 0 && (\n          <SimplePieChart\n            data={workPackageStatusData}\n            title=\"ðŸ“‹ Estado de Work Packages\"\n          />\n        )}\n        \n        {riskStatusData.length > 0 && (\n          <SimplePieChart\n            data={riskStatusData}\n            title=\"âš ï¸ Estado de Riesgos\"\n          />\n        )}\n      </div>\n\n      {/* GrÃ¡fico de prioridad de riesgos */}\n      {riskPriorityData.length > 0 && (\n        <SimpleBarChart\n          data={riskPriorityData}\n          title=\"ðŸŽ¯ Prioridad de Riesgos\"\n          valueKey=\"count\"\n        />\n      )}\n\n      {/* Timeline de proyectos */}\n      <ProjectGanttChart />\n\n      {/* MÃ©tricas financieras */}\n      <FinancialMetrics />\n    </div>\n  );\n};\n\nexport default PortfolioCharts;\n"],"names":["_ref","projects","portfolioMetrics","criticalProjects","filter","project","isOverdue","Date","endDate","status","isHighPriority","priority","highBudgetProjects","totalBudget","budget","upcomingDeadlines","daysToEnd","alerts","length","push","type","title","message","concat","details","map","p","name","icon","color","toFixed","days","Math","ceil","activeProjects","completedProjects","getAlertColor","getIconColor","_jsxs","className","children","_jsx","a","alert","index","detail","detailIndex","DAY","toISO","date","toISOString","split","isWorkingDay","day","getDay","diffDaysExclusive","start","end","includeWeekends","arguments","undefined","startDate","current","setDate","getDate","addDays","result","addedDays","workPackages","risks","tasksByProject","statusData","count","item","priorityData","budgetData","colors","substring","workPackageStatusData","wp","riskPriorityData","r","riskStatusData","SimpleBarChart","_ref2","data","valueKey","colorKey","height","maxValue","max","barColor","getBarColor","defaultColors","barWidth","displayValue","style","backgroundColor","width","minWidth","SimplePieChart","_ref3","total","reduce","sum","currentAngle","angleInDegrees","circumference","PI","strokeLength","strokeDasharray","strokeDashoffset","cx","cy","fill","stroke","strokeWidth","ProjectGanttChart","pxPerDay","headerRef","useRef","contentRef","isScrolling","projectDates","useMemo","dates","flatMap","min","d","getTime","getTimelineReferenceDate","totalDays","pStart","pEnd","chartWidthPx","todayLeftPx","todayISO","todayDate","refDate","daysDifference","floor","PROJECT_STATUS_COLORS","getProjectStatusColor","projectId","currentDate","overdueTasks","task","every","progress","projectGanttBars","projectStartDate","projectEndDate","leftDays","endDays","durDays","milestones","id","isMilestone","sort","b","milestone","milestoneStartDate","mLeftDays","_objectSpread","leftPx","number","widthPx","progressPercentage","progressColor","timelineHeaders","headers","cur","labelStart","labelEnd","remaining","label","sub","toLocaleDateString","month","maxWidth","ref","onScroll","e","scrollLeft","currentTarget","setTimeout","header","top","position","left","ROW_H","FinancialMetrics","totalReserves","contingencyReserve","managementReserve","percentage"],"sourceRoot":""}