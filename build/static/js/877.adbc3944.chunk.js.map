{"version":3,"file":"static/js/877.adbc3944.chunk.js","mappings":"wJAOO,MAAMA,EAAY,CACvBC,MAAO,QACPC,MAAO,QACPC,aAAc,4BACdC,YAAa,4BAIFC,EAAmB,CAE9BC,UAAW,YACXC,QAAS,UACTC,gBAAiB,kBAGjBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,eAAgB,iBAGhBC,cAAe,gBACfC,oBAAqB,sBACrBC,YAAa,cAGbC,QAAS,WAIEC,EAAyB,CACpC,CAACX,EAAiBC,WAAY,CAC5BW,MAAO,YACPC,YAAa,gEACbC,KAAM,eACNC,MAAO,SACPC,MAAO,iCAET,CAAChB,EAAiBE,SAAU,CAC1BU,MAAO,eACPC,YAAa,uCACbC,KAAM,eACNC,MAAO,OACPC,MAAO,6BAET,CAAChB,EAAiBG,iBAAkB,CAClCS,MAAO,kBACPC,YAAa,+CACbC,KAAM,eACNC,MAAO,SACPC,MAAO,iCAET,CAAChB,EAAiBI,iBAAkB,CAClCQ,MAAO,qBACPC,YAAa,wCACbC,KAAM,eACNC,MAAO,QACPC,MAAO,+BAET,CAAChB,EAAiBK,iBAAkB,CAClCO,MAAO,qBACPC,YAAa,4BACbC,KAAM,SACNC,MAAO,SACPC,MAAO,iCAET,CAAChB,EAAiBM,gBAAiB,CACjCM,MAAO,sBACPC,YAAa,4CACbC,KAAM,eACNC,MAAO,OACPC,MAAO,6BAET,CAAChB,EAAiBO,eAAgB,CAChCK,MAAO,gBACPC,YAAa,kCACbC,KAAM,eACNC,MAAO,OACPC,MAAO,6BAET,CAAChB,EAAiBQ,qBAAsB,CACtCI,MAAO,2BACPC,YAAa,gCACbC,KAAM,eACNC,MAAO,SACPC,MAAO,iCAET,CAAChB,EAAiBS,aAAc,CAC9BG,MAAO,oBACPC,YAAa,8CACbC,KAAM,eACNC,MAAO,OACPC,MAAO,6BAET,CAAChB,EAAiBU,SAAU,CAC1BE,MAAO,UACPC,YAAa,iCACbC,KAAM,eACNC,MAAO,QACPC,MAAO,gCAMEC,EAA4B,CAEvC,CAACtB,EAAUC,OAAQ,CACjBsB,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAMC,IAAUC,SAAUD,KAC3CE,WAAY,kBACZC,MAAO,aAIT,CAACpC,EAAUE,OAAQ,CACjBqB,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAMC,IAAUC,SAAUD,KAC3CE,WAAY,kBACZC,MAAO,aAIT,CAACpC,EAAUG,cAAe,CAExBkC,QAAS,CACPd,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,cACZC,MAAO,SAIT,CAAC/B,EAAiBC,WAAY,CAC5BiB,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAMC,IAAUC,SAAUD,KAC3CE,WAAY,kBACZC,MAAO,aAGT,CAAC/B,EAAiBE,SAAU,CAC1BgB,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,IAAQE,SAAU,IACzCC,WAAY,UACZC,MAAO,QAGT,CAAC/B,EAAiBG,iBAAkB,CAClCe,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,KAAOE,SAAU,IACxCC,WAAY,kBACZC,MAAO,UAGT,CAAC/B,EAAiBI,iBAAkB,CAClCc,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,IAAQE,SAAU,GACzCC,WAAY,kBACZC,MAAO,eAGT,CAAC/B,EAAiBK,iBAAkB,CAClCa,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,kBACZC,MAAO,eAGT,CAAC/B,EAAiBM,gBAAiB,CACjCY,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,iBACZC,MAAO,aAGT,CAAC/B,EAAiBO,eAAgB,CAChCW,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,gBACZC,MAAO,eAGT,CAAC/B,EAAiBQ,qBAAsB,CACtCU,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,sBACZC,MAAO,eAGT,CAAC/B,EAAiBS,aAAc,CAC9BS,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,cACZC,MAAO,UAKX,CAACpC,EAAUI,aAAc,CACvBiC,QAAS,CACPd,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,WACZC,MAAO,YAGT,CAAC/B,EAAiBU,SAAU,CAC1BQ,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,UACZC,MAAO,WAWAE,EAA2B,SAACC,GAAoC,IAA3BC,EAAcC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAEjE,IAAKF,EACH,MAAO,CACLhB,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,OACZC,MAAO,QAIX,MAAMQ,EAAkBtB,EAA0BiB,GAElD,OAAKK,EAKDL,IAAYvC,EAAUC,OAASsC,IAAYvC,EAAUE,MAChD0C,EAILJ,GAAkBI,EAAgBJ,GAC7BI,EAAgBJ,GAIlBI,EAAgBP,SAAWO,EAdzBtB,EAA0BtB,EAAUI,aAAaiC,OAe5D,EA0BaQ,EAA0BL,IAAoB,IAADM,EACxD,OAAKN,GACwC,QAAtCM,EAAA9B,EAAuBwB,UAAe,IAAAM,OAAA,EAAtCA,EAAwC7B,QAASuB,EAD5B,wB,gHCxXvB,MAAMO,EAAqBC,UAW3B,IAXkC,UACvCC,EAAS,OACTC,EAAM,SACNC,EAAQ,aACRC,EAAY,YACZC,EAAW,iBACXC,EAAgB,MAChBC,EAAK,QACLC,EAAO,SACPC,EAAW,SAAQ,SACnBC,EAAW,CAAC,GACbC,EACC,IACsBC,EAAAA,QAAgBC,iBAApC,MACMC,EAAQF,EAAAA,QAAgBG,yBAE9B,IAAKD,EAEH,OADAE,QAAQC,KAAK,mEACN,CAAEC,SAAS,EAAOC,MAAO,gCAGlC,MAAMC,EAAe,CACnBC,gBAAiBP,EACjBQ,QAASpB,EACTqB,WAAYtB,EACZuB,UAAWrB,EACXsB,cAAerB,EACfsB,aAAcrB,EACdsB,kBAAmBrB,EACnBC,MAAOA,EACPC,QAASA,EACTC,SAAUA,EACVmB,OAAQ,SACRlB,SAAUA,EACVmB,WAAW,+BAADC,OAAiC3B,GAC3C4B,YAAY,IAAIC,MAAOC,gBAGnB,KAAEC,EAAI,MAAEf,SAAgBP,EAAAA,QAAgBuB,SAC3CC,KAAK,wBACLC,OAAOjB,GACPkB,SACAC,SAEH,OAAIpB,GACFH,QAAQG,MAAM,iCAA+BA,GACtC,CAAED,SAAS,EAAOC,UAGpB,CAAED,SAAS,EAAMgB,OAC1B,CAAE,MAAOf,GAEP,OADAH,QAAQG,MAAM,4CAA0CA,GACjD,CAAED,SAAS,EAAOC,QAC3B,GAQWqB,EAAyBxC,UACpC,IAEE,MAAQkC,MAAM,QAAEO,UAAoB7B,EAAAA,QAAgBuB,SAASO,KAAKC,aAElE,GAAY,OAAPF,QAAO,IAAPA,IAAAA,EAASG,KAEZ,OADA5B,QAAQC,KAAK,+DACN,GAGT,MAAM,KAAEiB,EAAI,MAAEf,SAAgBP,EAAAA,QAAgBuB,SAC3CC,KAAK,wBACLE,OAAO,KACPO,GAAG,aAAc5C,GACjB4C,GAAG,SAAU,UACbC,MAAM,aAAc,CAAEC,WAAW,IAEpC,OAAI5B,GACFH,QAAQG,MAAM,mCAAoCA,GAC3C,IAGFe,GAAQ,EACjB,CAAE,MAAOf,GAEP,OADAH,QAAQG,MAAM,8CAA+CA,GACtD,EACT,GAQW6B,EAAahD,UACxB,IACE,MAAM,MAAEmB,SAAgBP,EAAAA,QAAgBuB,SACrCC,KAAK,wBACLa,OAAO,CACNrB,OAAQ,OACRsB,SAAS,IAAIlB,MAAOC,cACpBkB,YAAY,IAAInB,MAAOC,gBAExBY,GAAG,KAAMO,GAEZ,OAAIjC,GACFH,QAAQG,MAAM,gDAA2CA,GAClD,CAAED,SAAS,EAAOC,UAGpB,CAAED,SAAS,EACpB,CAAE,MAAOC,GAEP,OADAH,QAAQG,MAAM,6CAA2CA,GAClD,CAAED,SAAS,EAAOC,QAC3B,GAQWkC,EAAgBrD,UAC3B,IACE,MAAM,MAAEmB,SAAgBP,EAAAA,QAAgBuB,SACrCC,KAAK,wBACLa,OAAO,CACNrB,OAAQ,OACRsB,SAAS,IAAIlB,MAAOC,cACpBkB,YAAY,IAAInB,MAAOC,gBAExBY,GAAG,aAAc5C,GACjB4C,GAAG,SAAU,UAEhB,OAAI1B,GACFH,QAAQG,MAAM,uCAAqCA,GAC5C,CAAED,SAAS,EAAOC,UAGpB,CAAED,SAAS,EACpB,CAAE,MAAOC,GAEP,OADAH,QAAQG,MAAM,kDAAgDA,GACvD,CAAED,SAAS,EAAOC,QAC3B,GAQWmC,EAAiBtD,UAC5B,IAEE,MAAQkC,MAAM,QAAEO,UAAoB7B,EAAAA,QAAgBuB,SAASO,KAAKC,aAElE,GAAY,OAAPF,QAAO,IAAPA,IAAAA,EAASG,KAEZ,OADA5B,QAAQC,KAAK,uDACN,EAGT,MAAM,MAAEsC,EAAK,MAAEpC,SAAgBP,EAAAA,QAAgBuB,SAC5CC,KAAK,wBACLE,OAAO,IAAK,CAAEiB,MAAO,QAASC,MAAM,IACpCX,GAAG,aAAc5C,GACjB4C,GAAG,SAAU,UAEhB,OAAI1B,GACFH,QAAQG,MAAM,2BAA4BA,GACnC,GAGFoC,GAAS,CAClB,CAAE,MAAOpC,GAEP,OADAH,QAAQG,MAAM,sCAAuCA,GAC9C,CACT,GAOWsC,EAAuBzD,UAAsD,IAA/C,UAAEC,EAAS,OAAEC,EAAM,OAAEwD,EAAM,WAAEC,GAAYC,EAClF,OAAO7D,EAAmB,CACxBE,YACAC,SACAC,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBC,YAAaqD,EAAOnD,MACpBD,iBAAkB,WAClBC,MAAO,kBACPC,QAAQ,GAADsB,OAAK6B,EAAU,+BAAA7B,OAA8B4B,EAAOnD,MAAK,KAChEE,SAAU,OACVC,SAAU,CAAEiD,aAAYG,aAAcJ,EAAO9B,WAQpCmC,EAAyB/D,UAA0C,IAAnC,UAAEC,EAAS,OAAEC,EAAM,OAAEwD,GAAQM,EACxE,OAAOjE,EAAmB,CACxBE,YACAC,SACAC,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBC,YAAaqD,EAAOnD,MACpBD,iBAAkB,oBAClBC,MAAO,0BACPC,QAAQ,cAADsB,OAAgB4B,EAAOnD,MAAK,+BACnCE,SAAU,SACVC,SAAU,CACRuD,WAAYP,EAAOQ,WACnBC,eAAgBT,EAAOU,mBAShBC,EAAwBrE,UAA0C,IAAnC,UAAEC,EAAS,OAAEC,EAAM,OAAEwD,GAAQY,EACvE,OAAOvE,EAAmB,CACxBE,YACAC,SACAC,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBC,YAAaqD,EAAOnD,MACpBD,iBAAkB,oBAClBC,MAAO,qBACPC,QAAQ,wCAADsB,OAA0C4B,EAAOnD,MAAK,KAC7DE,SAAU,OACVC,SAAU,CAAEoD,aAAcJ,EAAO9B,WAQxB2C,EAAsBvE,UAA2E,IAApE,UAAEC,EAAS,OAAEC,EAAM,OAAEwD,EAAM,UAAEc,EAAS,UAAEC,EAAS,UAAEC,GAAWC,EACtG,OAAO5E,EAAmB,CACxBE,YACAC,SACAC,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBC,YAAaqD,EAAOnD,MACpBD,iBAAkB,iBAClBC,MAAO,+BACPC,QAAQ,cAADsB,OAAgB4B,EAAOnD,MAAK,iBAAAuB,OAAa0C,EAAS,OAAA1C,OAAM2C,GAC/DhE,SAAU,SACVC,SAAU,CAAE8D,YAAWC,YAAWC,e,iFCzQ/B,MAsFP,EAtFoCE,CAACC,EAAkBC,KAmF9C,CAAEC,sBAlFoBC,EAAAA,EAAAA,aAAY,CAACtB,EAAQuB,KAChD,IAAKH,IAAoBG,EAEvB,OADAjE,QAAQC,KAAK,0EACN,KAGT,MAAMiE,GAAOC,EAAAA,EAAAA,GAAA,GAAQF,GAGrB,GAAIvB,EAAOQ,WAAY,CACrB,MAAMD,EAAamB,WAAW1B,EAAOQ,YACrCgB,EAAQG,QAAUH,EAAQG,QAAU,GAAKpB,EACzCiB,EAAQI,cAAgB,IAClBJ,EAAQI,eAAiB,GAC7B,CACEC,MAAM,IAAIvD,MAAOC,cACjBuD,OAAQvB,EACRwB,OAAO,UAAD3D,OAAY4B,EAAOtD,aAAY,MAAA0B,OAAK4B,EAAOnD,OACjDmF,KAAM,iBACNvF,SAAUuD,EAAOG,IAGvB,CAGA,GAAIH,EAAOU,gBAAkBc,EAAQS,QAAS,CAC5C,MAAMxB,EAAiBiB,WAAW1B,EAAOU,gBACnCwB,EAAiB,IAAI5D,KAAKkD,EAAQS,SAClCE,EAAa,IAAI7D,KAAK4D,EAAeE,UAA8B,GAAjB3B,EAAsB,GAAK,GAAK,KAExFe,EAAQa,gBAAkB,IACpBb,EAAQa,iBAAmB,GAC/B,CACER,MAAM,IAAIvD,MAAOC,cACjB+D,KAAM7B,EACNsB,OAAO,UAAD3D,OAAY4B,EAAOtD,aAAY,MAAA0B,OAAK4B,EAAOnD,OACjD0F,WAAYf,EAAQS,QACpBE,WAAYA,EAAW5D,cAAciE,MAAM,KAAK,GAChD/F,SAAUuD,EAAOG,KAIrBqB,EAAQS,QAAUE,EAAW5D,cAAciE,MAAM,KAAK,EACxD,CAoCA,MAjCwB,UAApBxC,EAAOyC,UAAwBzC,EAAO0C,cACxClB,EAAQmB,aAAe,IACjBnB,EAAQmB,cAAgB,GAC5B,CACEd,MAAM,IAAIvD,MAAOC,cACjB9B,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBlC,YAAawF,EAAO0C,YACpBxE,OAAQ,iBAMdsD,EAAQoB,eAAiB,IACnBpB,EAAQoB,gBAAkB,GAC9B,CACEnG,SAAUuD,EAAOG,GACjBzD,aAAcsD,EAAOtD,aACrBG,MAAOmD,EAAOnD,MACdgG,aAAa,IAAIvE,MAAOC,cACxBuE,cAAe,CACbxH,KAAM0E,EAAOQ,WACbhF,SAAUwE,EAAOU,eACjBqC,MAAO/C,EAAO0C,YACdD,SAAUzC,EAAOyC,YAMvBrB,EAAgBI,GAETA,GACN,CAACJ,M,kCCvBN,MAiNA,EAjN6B4B,KAE3B,MAAM,YACJC,EAAW,eACXC,EACAC,UAAWC,EAAa,gBACxBC,EAAe,UACf9G,EAAS,OACTC,IACE8G,EAAAA,EAAAA,MAEGC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAC7C5I,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,KACZC,MAAO,OAEPc,OAAQ,KACRkH,SAAU,KACVnH,UAAW,KACXV,QAAS,KACTC,eAAgB,QAGX6H,EAAoBC,IAAyBH,EAAAA,EAAAA,WAAS,IACtDhG,EAAOoG,IAAYJ,EAAAA,EAAAA,UAAS,MAG7BK,GAAeC,EAAAA,EAAAA,SAAO,IAE5BC,EAAAA,EAAAA,WAAU,KACgB1H,WAEtB,IAAIwH,EAAaG,UAKbb,EAIJ,IAAK,IAADc,EA6BmBC,EAvBrB,GALAL,EAAaG,SAAU,EACvBL,GAAsB,GACtBC,EAAS,OAGJR,IAAoB9G,EAmBvB,YAlBAiH,EAAe,CACb3I,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,KACZC,MAAO,OACPc,OAAQ,KACRkH,SAAU,KACVnH,UAAW,KACXV,QAAS,KACTC,eAAgB,OAMpB,IAAKoH,EAmBH,YAlBAM,EAAe,CACb3I,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,KACZC,MAAO,OACPc,OAAQA,EACRkH,UAAqB,OAAXT,QAAW,IAAXA,GAA0B,QAAfkB,EAAXlB,EAAamB,qBAAa,IAAAD,OAAf,EAAXA,EAA4BE,OAAQ9H,EAC9CA,UAAWA,EACXV,QAAS,KACTC,eAAgB,OAMpB,MAAQ0C,KAAM8F,EAAY7G,MAAO8G,SAA0BrH,EAAAA,QAAgBuB,SACxEC,KAAK,wBACLE,OAAO,0CACPO,GAAG,aAAc5C,GACjB4C,GAAG,kBAAmB+D,GACtB/D,GAAG,SAAU,UACbqF,cAEH,GAAID,EAGF,OAFAjH,QAAQG,MAAM,+BAAgC8G,QAC9CV,EAAS,2BAIO,IAADY,EAAjB,IAAKH,EAoBH,OAnBAhH,QAAQC,KAAK,4DACbiG,EAAe,CACb3I,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAe,CAAEC,KAAM,EAAGE,SAAU,GACpCC,WAAY,KACZC,MAAO,OACPc,OAAQyG,EAAY9C,GACpBuD,UAAmC,QAAzBe,EAAAxB,EAAYmB,qBAAa,IAAAK,OAAA,EAAzBA,EAA2BJ,OAAQpB,EAAYyB,MACzDnI,UAAW0G,EAAYyB,MACvB7I,QAAS,KACTC,eAAgB,OAMpB,MAAMD,EAAUyI,EAAWK,KACrB7I,EAAiBwI,EAAWM,gBAE5BC,GAAwBjJ,EAAAA,EAAAA,IAAyBC,EAASC,GAGhE0H,GAAc/B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACXoD,GAAqB,IACxBrI,OAAQ8H,EAAW1G,SAAWqF,EAAY9C,GAC1CuD,UAAmC,QAAzBQ,EAAAjB,EAAYmB,qBAAa,IAAAF,OAAA,EAAzBA,EAA2BG,OAAQpB,EAAYyB,MACzDnI,UAAW0G,EAAYyB,MACvB7I,QAASA,EACTC,eAAgBA,IAGpB,CAAE,MAAO2B,GACPH,QAAQG,MAAM,4CAA6CA,GAC3DoG,EAAS,qCACX,CAAC,QACCD,GAAsB,GACtBE,EAAaG,SAAU,CACzB,GAIFa,IACC,CAACzB,EAAiB9G,EAAW2G,EAAgBE,EAAeH,EAAazG,IAoC5E,MAAO,CACL+G,cACAwB,QAJc3B,GAAiBO,EAK/BlG,QACAuH,yBAnB+BA,CAACzE,EAAYE,KAC5C,IAAK8C,EAAYzI,WAAY,OAAO,EAEpC,MAAMQ,EAAOoG,WAAWnB,IAAe,EACjC/E,EAAWkG,WAAWjB,IAAmB,EAEzCwE,EAAkB3J,GAAQiI,EAAYlI,cAAcC,KACpD4J,EAAsB1J,GAAY+H,EAAYlI,cAAcG,SAElE,OAAOyJ,GAAmBC,KCpMjBC,EAA8BC,IACzC,MAAMC,EAAmBD,EAAQE,OAAOC,GACtC,CAAC,WAAY,WAAY,eAAeC,SAASD,EAAErH,SAGrD,GAAgC,IAA5BmH,EAAiBrJ,OAAc,OAAO,EAS1C,OAPkBqJ,EAAiBI,OAAO,CAACC,EAAK1F,KAC9C,MAAM2F,EAAU,IAAIrH,KAAK0B,EAAO4F,WAC1BC,EAAU,IAAIvH,KAAK0B,EAAO8F,WAEhC,OAAOJ,EADMK,KAAKC,MAAMH,EAAUF,GAAO,QAExC,GAEiBN,EAAiBrJ,QAAQiK,QAAQ,IAG1CC,EAAoBd,IAC/B,MAAMe,EAAiBf,EAAQK,OAAO,CAACW,EAAKpG,KAC1CoG,EAAIpG,EAAOyC,WAAa2D,EAAIpG,EAAOyC,WAAa,GAAK,EAC9C2D,GACN,CAAC,GAEJ,OAAOC,OAAOC,QAAQH,GACnBI,KAAK,CAACC,EAAGC,IAAMA,EAAE,GAAKD,EAAE,IACxBE,MAAM,EAAG,IAGDC,EAA8BvB,IACzC,MAAMwB,EAAoBxB,EAAQE,OAAOC,IAAM,IAADsB,EAAAC,EAC5C,GAAiB,gBAAbvB,EAAErH,SAA6BqH,EAAEwB,2BAA4B,OAAO,EAExE,MAAMC,EAAW,IAAI1I,KAAKiH,EAAEwB,4BACtBE,EAAwB,QAAlBJ,EAAGtB,EAAE2B,qBAAa,IAAAL,GAAuC,QAAvCC,EAAfD,EAAiBM,KAAKC,GAAkB,gBAAbA,EAAElJ,eAAyB,IAAA4I,OAAvC,EAAfA,EAAwDjF,KAEvE,QAAKoF,GAEE,IAAI3I,KAAK2I,IAAWD,IAC1BhL,OAEGqL,EAAmBjC,EAAQE,OAAOC,GAAkB,gBAAbA,EAAErH,QAA0BlC,OAEzE,OAAOqL,EAAmB,GAAMT,EAAoBS,EAAoB,KAAKpB,QAAQ,GAAK,G,cCvF5F,MAwNA,EAxN6B9E,IAC3B,MAAM,YAAEoC,EAAawB,QAASuC,GAAuBtE,KAC9CuE,EAAYC,IAAiB/D,EAAAA,EAAAA,WAAS,GAKvCgE,GAAqBnG,EAAAA,EAAAA,aAAY,KACrC,OAAKiC,EAAY/G,QD4FUkL,EC3FLnE,ID4FNmE,EAASlL,OAIpB,CACLA,OAAQkL,EAASlL,OACjBkH,SAAUgE,EAAShE,UAAYgE,EAASnL,UACxCA,UAAWmL,EAASnL,UACpBoL,SAAUD,EAAS7L,QACnBJ,WAAYiM,EAASjM,WACrBK,eAAgB4L,EAAS5L,eACzB8L,WAAW,IAAItJ,MAAOC,eAVf,KC9FyB,KD4FLmJ,OC1F1B,CAACnE,IAKE1I,GAAYyG,EAAAA,EAAAA,aAAY,IACrBiC,EAAY1I,YAAcyM,EAChC,CAAC/D,EAAY1I,UAAWyM,IAKrBxM,GAAawG,EAAAA,EAAAA,aAAatB,IAC9B,IAAKuD,EAAYzI,WAAY,OAAO,EAEpC,MAAMyF,EAAamB,WAAW1B,EAAOQ,aAAe,EAC9CC,EAAiBiB,WAAW1B,EAAOU,iBAAmB,EAEtDuE,EAAkB1E,GAAcgD,EAAYlI,cAAcC,KAC1D4J,EAAsBzE,GAAkB8C,EAAYlI,cAAcG,SAExE,OAAOyJ,GAAmBC,GACzB,CAAC3B,IAKExI,GAAYuG,EAAAA,EAAAA,aAAY,IACrBiC,EAAYxI,YAAcuM,EAChC,CAAC/D,EAAYxI,UAAWuM,IAKrBtM,GAAesG,EAAAA,EAAAA,aAAY,IACxBiC,EAAYvI,eAAiBsM,EACnC,CAAC/D,EAAYvI,aAAcsM,IAKxBrM,GAAeqG,EAAAA,EAAAA,aAAY,IACxBiC,EAAYtI,eAAiBqM,EACnC,CAAC/D,EAAYtI,aAAcqM,IAKxBpM,GAAYoG,EAAAA,EAAAA,aAAY,IACrBiC,EAAYrI,YAAcoM,EAChC,CAAC/D,EAAYrI,UAAWoM,IAKrBO,GAAuBvG,EAAAA,EAAAA,aAAawG,IACxC,MAAMJ,EAAWD,IACjB,OAAKC,GAELjG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKqG,GAAU,IACbC,UAAWL,EACXM,cAAeN,EAAShE,SACxBuE,eAAgBP,EAASnL,YANLuL,GAQrB,CAACL,IAKES,GAAmB5G,EAAAA,EAAAA,aAAYhF,MAAO0D,EAAQmI,EAAiBC,KACnE,GAAKpI,GAAWmI,EAAhB,CAEAX,GAAc,GACd,IACE,MAAME,EAAWD,IACjB,IAAKC,EAAU,aAET3H,EAAAA,EAAAA,IAAqB,CACzBxD,UAAW4L,EACX3L,OAAQ4L,EACRpI,OAAQA,EACRC,WAAYyH,EAAShE,UAEzB,CAAE,MAAOjG,GACPH,QAAQG,MAAM,mCAAiCA,EACjD,CAAC,QACC+J,GAAc,EAChB,CAjBuC,GAkBtC,CAACC,IAKEY,GAAiB/G,EAAAA,EAAAA,aAAYhF,MAAO0D,EAAQsI,EAAeC,KAC/D,GAAKvI,GAAWsI,EAAhB,CAEAd,GAAc,GACd,UACQnH,EAAAA,EAAAA,IAAuB,CAC3B9D,UAAW+L,EACX9L,OAAQ+L,EACRvI,OAAQA,GAEZ,CAAE,MAAOvC,GACPH,QAAQG,MAAM,mCAAiCA,EACjD,CAAC,QACC+J,GAAc,EAChB,CAbqC,GAcpC,IAKGgB,GAAmBlH,EAAAA,EAAAA,aAAYhF,MAAO0D,EAAQyI,KAClD,GAAKzI,GAAWyI,GAAoC,IAAtBA,EAAWzM,OAAzC,CAEAwL,GAAc,GACd,IACE,IAAK,MAAMkB,KAAUD,EACfC,EAAOnM,iBACHoE,EAAAA,EAAAA,IAAsB,CAC1BpE,UAAWmM,EAAOnM,UAClBC,OAAQkM,EAAOlM,OACfwD,OAAQA,GAIhB,CAAE,MAAOvC,GACPH,QAAQG,MAAM,yBAA0BA,EAC1C,CAAC,QACC+J,GAAc,EAChB,CAjB6D,GAkB5D,IAKGmB,GAAqBrH,EAAAA,EAAAA,aAAYhF,eAAO0D,EAAQc,EAAWC,GAAqC,IAA1B6H,EAAe7M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC5F,GAAKiE,EAAL,CAEAwH,GAAc,GACd,IACE,MAAME,EAAWD,IACjB,IAAKC,EAAU,OAG6D,IAADmB,EAA3E,GAAI7I,EAAOiI,gBAAkBjI,EAAOiI,iBAAmBP,EAASnL,gBACxDsE,EAAAA,EAAAA,IAAoB,CACxBtE,UAAWyD,EAAOiI,eAClBzL,OAAwB,QAAlBqM,EAAE7I,EAAO+H,iBAAS,IAAAc,OAAA,EAAhBA,EAAkBrM,OAC1BwD,OAAQA,EACRc,UAAWA,EACXC,UAAWA,EACXC,UAAW0G,EAAShE,WAKxB,IAAK,MAAMxE,KAAQ0J,EACb1J,EAAKwF,OAASxF,EAAKwF,QAAUgD,EAASnL,iBAClCsE,EAAAA,EAAAA,IAAoB,CACxBtE,UAAW2C,EAAKwF,MAChBlI,OAAQ0C,EAAKiB,GACbH,OAAQA,EACRc,UAAWA,EACXC,UAAWA,EACXC,UAAW0G,EAAShE,UAI5B,CAAE,MAAOjG,GACPH,QAAQG,MAAM,sCAAuCA,EACvD,CAAC,QACC+J,GAAc,EAChB,CApCmB,CAqCrB,EAAG,CAACC,IAEJ,MAAO,CAELlE,cACA+D,qBAGAzM,YACAC,aACAC,YACAC,eACAC,eACAC,YAGAuM,qBACAI,uBAGAK,mBACAG,iBACAG,mBACAG,qBAGApB,e,cCjOG,MAAMuB,EACL,CACJC,IAAK,CAAEC,UAAW,IAAMC,SAAU,kBAAmB1O,MAAO,mBAC5D2O,OAAQ,CAAEF,UAAW,KAAOC,SAAU,UAAW1O,MAAO,WACxD4O,KAAM,CAAEH,UAAW,IAAQC,SAAU,MAAO1O,MAAO,OACnD6O,SAAU,CAAEJ,UAAWzN,IAAU0N,SAAU,kBAAmB1O,MAAO,oBAL5DuO,EAOD,CACRC,IAAK,CAAEC,UAAW,EAAGC,SAAU,kBAAmB1O,MAAO,mBACzD2O,OAAQ,CAAEF,UAAW,GAAIC,SAAU,UAAW1O,MAAO,WACrD4O,KAAM,CAAEH,UAAW,GAAIC,SAAU,MAAO1O,MAAO,OAC/C6O,SAAU,CAAEJ,UAAWzN,IAAU0N,SAAU,kBAAmB1O,MAAO,oBAmC5D8O,EAAc,CACzB,CAAElJ,GAAI,KAAMkE,KAAM,kBAAmBM,KAAM,KAAM2E,UAAU,GAC3D,CAAEnJ,GAAI,OAAQkE,KAAM,iBAAkBM,KAAM,OAAQ2E,UAAU,GAC9D,CAAEnJ,GAAI,UAAWkE,KAAM,kBAAmBM,KAAM,UAAW2E,UAAU,GACrE,CAAEnJ,GAAI,UAAWkE,KAAM,kBAAmBM,KAAM,UAAW2E,UAAU,GACrE,CAAEnJ,GAAI,UAAWkE,KAAM,UAAWM,KAAM,UAAW2E,UAAU,I,aChD/D,MAsaA,EAtaiBrM,IAAwD,IAAvD,OAAE+C,EAAM,uBAAEuJ,EAAsB,cAAEC,GAAevM,EAEjE,MAAMwM,EAA2C,OAAtBF,QAAsB,IAAtBA,OAAsB,EAAtBA,EAAwBzN,eAEnDwB,QAAQoM,IAAI,iDAAwCD,GAEpD,MAAOE,EAAOC,IAAYnG,EAAAA,EAAAA,UACxBzD,EAAO6J,UAAYR,EAAYS,IAAIC,IAACtI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUsI,GAAC,IAAEC,KAAM,KAAMC,SAAU,GAAIC,QAAS,UAGtFlG,EAAAA,EAAAA,WAAU,KACJhE,EAAO6J,UACTD,EAAS5J,EAAO6J,WAEjB,CAAC7J,EAAO6J,WAGX,MAiBMM,EAAaA,CAACC,EAAUC,KAC5B,MAAMC,EAAeX,EAAMG,IAAIS,GAC7BA,EAAEpK,KAAOiK,GAAQ3I,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACR8I,GAAC,IAAEP,KAAMK,EAAUH,SAAS,IAAI5L,MAAOC,gBAC5CgM,GAENX,EAASU,GACTd,EAAcc,IAWV7B,EAAa,CACjB+B,GAAI,CAAEnG,KAAM,kBAAmB5J,KAAM,eAAM6O,UAAU,GACrDmB,KAAM,CAAEpG,KAAM,iBAAkB5J,KAAM,eAAM6O,UAAU,GACtDoB,QAAS,CAAErG,KAAM,kBAAmB5J,KAAM,eAAM6O,UAAU,GAC1DqB,QAAS,CAAEtG,KAAM,kBAAmB5J,KAAM,SAAK6O,UAAU,GACzDsB,QAAS,CAAEvG,KAAM,UAAW5J,KAAM,eAAM6O,UAAU,IA+D9CuB,EA3DyBC,MAC7B,IAAKnB,GAA0B,IAAjBA,EAAM3N,OAClB,MAAO,CACL+O,aAAc1E,OAAO2E,KAAKvC,GAAYzM,OACtCiP,WAAY,EACZC,aAAc,EACdC,YAAa,EACbC,aAAc,EACdC,iBAAkB,EAClBC,kBAAmB,EACnBC,iBAAkB,EAClBC,kBAAmB,EACnBC,WAAW,EACXC,aAAa,EACbC,OAAQ,WAIZ,MAAMZ,EAAepB,EAAM3N,OACrB4P,EAAejC,EAAMrE,OAAOiF,GAAKA,EAAEP,MAAMhO,OACzCkP,EAAevB,EAAMrE,OAAOiF,GAAgB,YAAXA,EAAEP,MAAoBhO,OACvDmP,EAAcxB,EAAMrE,OAAOiF,GAAgB,WAAXA,EAAEP,MAAmBhO,OACrDoP,EAAezB,EAAMrE,OAAOiF,GAAgB,YAAXA,EAAEP,MAAoBhO,OAEvDqP,EAAoBO,EAAeb,EAAgB,IAGnDO,EAAqBJ,EAAeH,EAAgB,IAIpDU,EAAYJ,GAAoB,GAIhCK,EAAcD,GAAaH,EAAoB,GAErD,IAAIK,EAAS,UAMb,OALIC,IAAiBb,IAEnBY,EAASF,GAAaC,EAAc,WAAa,YAG5C,CACLX,eACAE,WAAYW,EACZV,eACAC,cACAC,eACAC,mBACAC,oBACAC,iBAvBwBJ,EAAcJ,EAAgB,IAwBtDS,kBAvByBJ,EAAeL,EAAgB,IAwBxDU,YACAC,cACAC,WAIkBb,GAEhBe,EAAgBlC,EAAMrE,OAAOiF,GAAgB,YAAXA,EAAEP,MAAoBhO,OACxD8P,EAAiBnC,EAAMrE,OAAOiF,GAAgB,WAAXA,EAAEP,MAAmBhO,OACxD+P,EAAoBpC,EAAMrE,OAAOiF,GAAKA,EAAEjB,UAAUtN,OAExD,OACEgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,oDAAmDC,SAAA,EAC/DC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,uBAAU,2CAK3CzC,IACCuC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,oBACvCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8BAA6BC,UACzC/P,EAAAA,EAAAA,IAAuBsN,YAMhC0C,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,mDAK1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oEAAmEC,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uCAAsCC,SAAC,4CAGrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iEAAgEC,SAAA,EAC7EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,SAAErB,EAAcK,gBAClEiB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,oBACvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnCrB,EAAcS,kBAAkBrF,QAAQ,GAAG,qBAIhD+F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6DAA4DC,SAAA,EACzEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kCAAiCC,SAAErB,EAAcM,eAChEgB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,qBACvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnCrB,EAAcU,iBAAiBtF,QAAQ,GAAG,qBAI/C+F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+DAA8DC,SAAA,EAC3EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAErB,EAAcO,gBACjEe,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,0BACvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnCrB,EAAcW,kBAAkBvF,QAAQ,GAAG,wBAMlD+F,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4BAA2BC,SAAC,gEAG5CF,EAAAA,EAAAA,MAAA,QAAMC,UAAS,aAAA7N,OAAeyM,EAAcY,UAAY,iBAAmB,gBAAiBS,SAAA,CACzFrB,EAAcI,WAAW,IAAEJ,EAAcE,aAAa,cACrDF,EAAcQ,iBAAiBpF,QAAQ,GAAG,KAC3C4E,EAAcY,UAAY,UAAO,iBAGtCO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CC,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,OACEF,UAAS,mCAAA7N,OAAqCyM,EAAcY,UAAY,eAAiB,cACzFW,MAAO,CAAEC,MAAM,GAADjO,OAAKyM,EAAcQ,iBAAgB,SAGnDc,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qDACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6EAA4EC,SAAC,eAOhGF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4BAA2BC,SAAC,mEAG5CF,EAAAA,EAAAA,MAAA,QAAMC,UAAS,aAAA7N,OAAeyM,EAAca,YAAc,iBAAmB,iBAAkBQ,SAAA,CAC5FrB,EAAcK,aAAa,IAAEL,EAAcE,aAAa,cACvDF,EAAcS,kBAAkBrF,QAAQ,GAAG,KAC5C4E,EAAca,YAAc,UAAO,UAGxCM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CC,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,OACEF,UAAS,mCAAA7N,OACPyM,EAAca,YAAc,eAC5Bb,EAAcY,UAAY,gBAAkB,eAE9CW,MAAO,CAAEC,MAAM,GAADjO,OAAKyM,EAAcS,kBAAiB,SAGpDa,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qDACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6EAA4EC,SAAC,kBAQlGC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wDAAuDC,UACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,mBAGzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC5CrB,EAAcY,YACdO,EAAAA,EAAAA,MAAA,KAAGC,UAAU,cAAaC,SAAA,CAAC,+DACuBnG,KAAKC,KAAkC,GAA7B6E,EAAcE,cAAoB,OAAKF,EAAcE,aAAa,2BACpHhF,KAAKC,KAAkC,GAA7B6E,EAAcE,cAAsBF,EAAcI,WAAW,aAGlFJ,EAAcY,YAAcZ,EAAca,cACzCM,EAAAA,EAAAA,MAAA,KAAGC,UAAU,cAAaC,SAAA,CAAC,wEACkCnG,KAAKuG,MAAMzB,EAAcE,aAAe,GAAG,sBACrGF,EAAcI,WAAaJ,EAAcE,cAAY,WAAA3M,OACzCyM,EAAcE,aAAeF,EAAcI,WAAU,yBAIrEJ,EAAca,cACbM,EAAAA,EAAAA,MAAA,KAAGC,UAAU,6BAA4BC,SAAA,CAAC,8DAEvCrB,EAAcI,WAAaJ,EAAcE,cAAY,YAAA3M,OACxCyM,EAAcE,aAAeF,EAAcI,WAAU,2DAUrD,YAAzBJ,EAAcc,SACbK,EAAAA,EAAAA,MAAA,OAAKC,UAAS,gDAAA7N,OACa,aAAzByM,EAAcc,OACV,wDACA,mDACHO,SAAA,CACyB,aAAzBrB,EAAcc,OACX,iCACA,mCAEJK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,CAAC,yBACpBrB,EAAcK,aAAa,aAAWL,EAAcM,YAAY,eAAaN,EAAcO,aAAa,sBAMjIP,EAAcI,WAAa,IAAMJ,EAAcY,YAC9CU,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wEAAuEC,UACpFC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,sCAAqCC,SAAC,4GAQzDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wDAAuDC,UACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,+BAGzDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,kCAAiCC,SAAA,EAC7CF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,YAAgB,iDAAuCnG,KAAKC,KAAkC,GAA7B6E,EAAcE,cAAoB,OAAKF,EAAcE,aAAa,QACjJiB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,gBAAiB,yDAAuDnG,KAAKuG,MAAMzB,EAAcE,aAAe,GAAG,OAAKF,EAAcE,aAAa,QACjKiB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,eAAmB,oDACjCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,gBAAoB,sGAM1CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBC,SAC5BvC,EAAMG,IAAIpB,IACT,MAAM6D,GA7SSC,EA6SmB9D,EAAOvI,KA5S1CsJ,GAGe,CAClB,UAAa,YACb,QAAW,UACX,gBAAmB,KACnB,gBAAmB,UACnB,gBAAmB,UACnB,eAAkB,QAGWA,KACT+C,GAdDA,MA+Sf,OACAR,EAAAA,EAAAA,MAAA,OAAqBC,UAAU,wCAAuCC,SAAA,EACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8BAA6BC,SAAExD,EAAOrE,QACrD2H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACnCxD,EAAO/D,KAAK,IAAE+D,EAAOY,WAAY6C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,aAGrEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMtC,EAAWzB,EAAOvI,GAAI,WACrCuM,UAAWH,EACXN,UAAS,0CAAA7N,OACNmO,EAEmB,YAAhB7D,EAAOsB,KACL,0BACA,8CAHF,gDAKNnN,MAAQ0P,EAAgD,UAAlC,gCAA4CL,SACnE,oBAGDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMtC,EAAWzB,EAAOvI,GAAI,UACrCuM,UAAWH,EACXN,UAAS,0CAAA7N,OACNmO,EAEmB,WAAhB7D,EAAOsB,KACL,wBACA,4CAHF,gDAKNnN,MAAQ0P,EAAgD,WAAlC,gCAA6CL,SACpE,0BAMJxD,EAAOsB,OACNgC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL2K,YAAY,4BACZC,MAAOlE,EAAOuB,UAAY,GAC1B4C,SAAWC,GAnUCC,EAAC3C,EAAUH,KACrC,MAAMK,EAAeX,EAAMG,IAAIS,GAC7BA,EAAEpK,KAAOiK,GAAQ3I,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQ8I,GAAC,IAAEN,aAAaM,GAE3CX,EAASU,IA+TsByC,CAAoBrE,EAAOvI,GAAI2M,EAAEE,OAAOJ,OACzDX,UAAU,mGAEZD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,CAAC,WACjC,IAAI5N,KAAKoK,EAAOwB,SAAS+C,yBAlDhCvE,EAAOvI,SA2DrB6L,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mFAAkFC,SAAA,EAC/FF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCC,SAAA,EACjDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,SAAEL,KACpDM,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,gBAEzCF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kCAAiCC,SAAEJ,KAClDK,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,kBAEzCF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAEH,KACnDI,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,qBAI1CL,GAAiBE,IAChBI,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sDAAqDC,SAAC,2DAOzEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4DAA2DC,UACxEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,0BAAyBC,SAAC,kBAC1CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6CAA4CC,SAAC,mCAG3DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,0BAAyBC,SAAC,gLC5Z7CgB,EAAajQ,IAAA,IAAC,MAAEJ,EAAK,KAAEpC,EAAI,MAAEmS,EAAK,MAAElS,EAAK,QAAEyS,GAASlQ,EAAA,OACxD+O,EAAAA,EAAAA,MAAA,OAAKC,UAAS,qBAAA7N,OAAuB1D,EAAK,0BAAyBwR,SAAA,EACjEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAEzR,KAC5BuR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAErP,KACxCsP,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,SAAEU,UAGxCO,IACChB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kCAAiCC,SAC7CiB,EAAQrD,IAAI,CAACsD,EAAQC,KACpBlB,EAAAA,EAAAA,KAAA,OAAAD,SAAckB,GAAJC,UAkHpB,EA3G4BnN,IAA0B,IAAzB,OAAEF,EAAM,QAAEuB,GAASrB,EAC9C,MAAMoN,EJvB+BC,EAACvN,EAAQuB,KAC9C,MAAMhB,EAAamB,WAAW1B,EAAOQ,aAAe,EAC9CC,EAAiBiB,WAAW1B,EAAOU,iBAAmB,EAGtD8M,EAAwB,OAAPjM,QAAO,IAAPA,GAAAA,EAASI,OAAUpB,EAAagB,EAAQI,OAAU,IAAM,EACzE8L,EAAyB,OAAPlM,QAAO,IAAPA,GAAAA,EAASI,OAASJ,EAAQI,OAASpB,EAAa,EAGxE,IAAI4B,EAAa,KACbuL,EAAkB,EAEtB,GAAW,OAAPnM,QAAO,IAAPA,GAAAA,EAASU,SAAWxB,EAAiB,EAAG,CAC1C,MAAMyB,EAAiB,IAAI5D,KAAKiD,EAAQU,SACxCE,EAAa,IAAI7D,KAAK4D,EAAeE,UAA8B,GAAjB3B,EAAsB,GAAK,GAAK,KAGlFiN,EAAmBjN,EADDsF,KAAKC,MAAM9D,EAAiB,IAAI5D,KAAKiD,EAAQoM,YAAU,OACxB,GACnD,CAGA,MAAMC,EACc,GAAjBJ,EACkB,GAAlBE,GACA1N,EAAO0C,YAAc,GAAK,IAC1B1C,EAAO6N,cAAgB,GAAK,IAC5B7N,EAAO8N,gBAAkB,EAAI,GAGhC,IAAIC,EAAiB,UACjBC,EAAuB,wDAU3B,OARIJ,EAAmB,IACrBG,EAAiB,SACjBC,EAAuB,yDACdJ,EAAmB,KAC5BG,EAAiB,SACjBC,EAAuB,gEAGlB,CACL1S,KAAMiF,EACNiN,eAAgBA,EAAevH,QAAQ,GACvCwH,gBAAiBA,EAAgBxH,QAAQ,GACzCzK,SAAUiF,EACV0B,WAAYA,EAAaA,EAAW5D,cAAciE,MAAM,KAAK,GAAK,KAClEkL,gBAAiBA,EAAgBzH,QAAQ,GACzClD,MAAO/C,EAAO0C,aAAe,2BAC7BuL,qBAAsBjO,EAAOiO,sBAAwB,EACrDC,gBAAiBlO,EAAOkO,iBAAmB,EAC3CC,WAAYnO,EAAOmO,YAAc,QACjCC,MAAOpO,EAAOqO,aAAe,YAC7BC,aAActO,EAAOuO,oBAAsB,yBAC3CX,iBAAkBA,EAAiB3H,QAAQ,GAC3C8H,iBACAC,yBIhCeT,CAAwBvN,EAAQuB,GASjD,OACEyK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,yDAAwDC,SAAA,EACpEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,iBAAS,uCAK3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDC,EAAAA,EAAAA,KAACe,EAAU,CACTrQ,MAAM,mBACNpC,KAAK,eACLmS,MAAK,IAAAxO,OAAMkP,EAAShS,KAAI,KACxBZ,MAAM,oDACNyS,QAAS,CAAC,sBAAD/O,OACekP,EAASE,eAAc,+BAAApP,OACnBkP,EAASG,gBAAe,SAGtDtB,EAAAA,EAAAA,KAACe,EAAU,CACTrQ,MAAM,oBACNpC,KAAK,eACLmS,MAAK,GAAAxO,OAAKkP,EAAS9R,SAAQ,YAC3Bd,MAAM,2CACNyS,QAAS,CAAC,iBAAD/O,OACUkP,EAASI,gBAAe,KACzCJ,EAASnL,WAAU,gBAAA/D,OAAmBkP,EAASnL,YAAe,0BAGlEgK,EAAAA,EAAAA,KAACe,EAAU,CACTrQ,MAAM,qBACNpC,KAAK,eACLmS,MAAO5M,EAAO0C,YAAc,OAAS,OACrChI,MAAM,iDACNyS,QAAS,CAAC,gBAAD/O,OACSkP,EAASW,sBAAoB,gBAAA7P,OAC7BkP,EAASa,mBAM/BnC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAC,+BAClDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAElM,EAAO6N,eAAiB,iCAElE7B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAC,sCAClDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAElM,EAAO8N,iBAAmB,iCAEpE9B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAC,2CAClDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAEoB,EAASc,YAEnDpC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAC,0CAClDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAEoB,EAASgB,sBAKrDtC,EAAAA,EAAAA,MAAA,OAAKC,UAAS,yBAAA7N,QArEMoQ,EAqEoClB,EAASM,iBApE/DY,EAAQ,GAAW,8CACnBA,EAAQ,GAAW,iDACnBA,EAAQ,GAAW,iDAChB,0CAiEgFtC,SAAA,EACnFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,0BAAyBC,SAAC,oCACzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,SAAEoB,EAASM,uBAEhDzB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+CAA8CC,UAC3DC,EAAAA,EAAAA,KAAA,OACEF,UAAU,mEACVG,MAAO,CAAEC,MAAM,GAADjO,OAAK2H,KAAK0I,IAAI,IAAKnB,EAASM,kBAAiB,cAMjEzB,EAAAA,EAAAA,KAAA,OAAKF,UAAS,8BAAA7N,OACgB,YAA5BkP,EAASS,eACL,+BAC4B,WAA5BT,EAASS,eACT,iCACA,4BACH7B,UACDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SACK,YAA5BoB,EAASS,eAA+B,SAAkC,WAA5BT,EAASS,eAA8B,eAAO,YAE/F/B,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+BAA8BC,SAAC,kCAC9CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAEoB,EAASU,kCAhGnCQ,OC2P1B,EAlR2BvR,IAAmD,IAAlD,OAAE+C,EAAM,WAAE0O,EAAU,qBAAEC,GAAsB1R,EAEtE,MAAM2R,EAAe,SAAChC,GAAyB,IAAlBiC,EAAQ9S,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACtC,GAAc,OAAV6Q,QAA4B3Q,IAAV2Q,GAAiC,KAAVA,EAAc,MAAO,IAClE,MAAMkC,EAAMpN,WAAWkL,GACvB,OAAOmC,MAAMD,GAAO,IAAMA,EAAI7I,QAAQ4I,EACxC,GAEOvB,EAAU0B,IAAevL,EAAAA,EAAAA,UAAS,CACvCwL,YAAajP,EAAOQ,YAAc,GAClC0O,gBAAiBlP,EAAOU,gBAAkB,GAC1CyO,aAAcnP,EAAO0C,aAAe,GACpC0M,eAAgBpP,EAAO6N,eAAiB,GACxCwB,iBAAkBrP,EAAO8N,iBAAmB,MAGvCwB,EAAcC,IAAmB9L,EAAAA,EAAAA,UAASzD,EAAOsP,cAAgB,KACjEE,EAAaC,IAAkBhM,EAAAA,EAAAA,WAAS,IACxCiM,EAAgBC,IAAqBlM,EAAAA,EAAAA,UAAS,CACnDY,KAAM,GACN7J,YAAa,GACbc,KAAM,GACNE,SAAU,GACVoU,KAAM,CAAC,IACPC,KAAM,CAAC,MA2CT,OACE7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iFAAgFC,SAAA,EAC7FF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,8DAA6DC,SAAA,EACzEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,kBAC3BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,wCAERC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,sEAhD/B4D,MACjB,MAAMC,EACJzC,EAAS2B,aACT3B,EAAS4B,iBACT5B,EAAS6B,cACT7B,EAAS8B,gBACT9B,EAAS+B,iBAELW,EAAwBV,EAAatT,QAAU,EAErD,OAAO+T,GAAiBC,GA2CnBF,IACC3D,EAAAA,EAAAA,KAAA,UACEM,QAASiC,EACTzC,UAAU,0HAAyHC,SACpI,kCAIDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,gBAC/BF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,CAAMoD,EAAatT,OAAO,4BAMhCgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,8CAGhEC,EAAAA,EAAAA,KAAA,YACES,MAAOU,EAAS2B,YAChBpC,SAAWC,GAAMkC,GAAWvN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG6L,GAAQ,IAAE2B,YAAanC,EAAEE,OAAOJ,SACjEqD,KAAM,EACNhE,UAAU,sFACVU,YAAY,mDAIhBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,kDAGhEC,EAAAA,EAAAA,KAAA,YACES,MAAOU,EAAS4B,gBAChBrC,SAAWC,GAAMkC,GAAWvN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG6L,GAAQ,IAAE4B,gBAAiBpC,EAAEE,OAAOJ,SACrEqD,KAAM,EACNhE,UAAU,sFACVU,YAAY,uDAIhBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,+CAGhEC,EAAAA,EAAAA,KAAA,YACES,MAAOU,EAAS6B,aAChBtC,SAAWC,GAAMkC,GAAWvN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG6L,GAAQ,IAAE6B,aAAcrC,EAAEE,OAAOJ,SAClEqD,KAAM,EACNhE,UAAU,sFACVU,YAAY,oDAIhBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,yCAGhEC,EAAAA,EAAAA,KAAA,YACES,MAAOU,EAAS8B,eAChBvC,SAAWC,GAAMkC,GAAWvN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG6L,GAAQ,IAAE8B,eAAgBtC,EAAEE,OAAOJ,SACpEqD,KAAM,EACNhE,UAAU,sFACVU,YAAY,oDAIhBX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,gDAGhEC,EAAAA,EAAAA,KAAA,YACES,MAAOU,EAAS+B,iBAChBxC,SAAWC,GAAMkC,GAAWvN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG6L,GAAQ,IAAE+B,iBAAkBvC,EAAEE,OAAOJ,SACtEqD,KAAM,EACNhE,UAAU,sFACVU,YAAY,6EAMlBX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,8BAA6BC,SAAA,CAAC,8BACxBoD,EAAatT,OAAO,oBAExCmQ,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMgD,GAAe,GAC9BxD,UAAU,0FAAyFC,SACpG,mCAMHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBoD,EAAaxF,IAAI,CAACoG,EAAKC,KACtBnE,EAAAA,EAAAA,MAAA,OAA2BC,UAAU,iDAAgDC,SAAA,EACnFF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mCAAkCC,SAAA,CAAC,aACvCiE,EAAQ,EAAE,KAAGD,EAAI7L,SAE3B8H,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAEgE,EAAI1V,eAC/CwR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,yBAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CAAC,IAAE0C,EAAasB,EAAI5U,MAAM,WAExD0Q,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,0BAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CAAE0C,EAAasB,EAAI1U,SAAU,GAAG,sBAZxD0U,EAAI/P,IAAMgQ,MAoBvBX,IACCxD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wDAAuDC,SAAA,EACpEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAkCC,SAAC,uBACjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL4K,MAAO8C,EAAerL,KACtBwI,SAAWC,GAAM6C,GAAiBlO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGiO,GAAc,IAAErL,KAAMyI,EAAEE,OAAOJ,SACtED,YAAY,2BACZV,UAAU,wDAEZE,EAAAA,EAAAA,KAAA,YACES,MAAO8C,EAAelV,YACtBqS,SAAWC,GAAM6C,GAAiBlO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGiO,GAAc,IAAElV,YAAasS,EAAEE,OAAOJ,SAC7ED,YAAY,2BACZsD,KAAM,EACNhE,UAAU,wDAEZD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL4K,MAAO8C,EAAepU,KACtBuR,SAAWC,GAAM6C,GAAiBlO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGiO,GAAc,IAAEpU,KAAMwR,EAAEE,OAAOJ,SACtED,YAAY,YACZV,UAAU,iDAEZE,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL4K,MAAO8C,EAAelU,SACtBqR,SAAWC,GAAM6C,GAAiBlO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGiO,GAAc,IAAElU,SAAUsR,EAAEE,OAAOJ,SAC1ED,YAAY,mBACZV,UAAU,oDAGdD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,UACEM,QApMa2D,KAC3B,IAAKV,EAAerL,OAASqL,EAAelV,YAE1C,YADA6V,MAAM,6DAIR,MAAMH,GAAGzO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACJiO,GAAc,IACjBvP,GAAG,OAAD/B,OAASE,KAAKgS,OAChBC,SAAS,IAAIjS,MAAOC,gBAGhBiS,EAAsB,IAAIlB,EAAcY,GAC9CX,EAAgBiB,GAChB7B,EAAqB6B,GAErBb,EAAkB,CAChBtL,KAAM,GACN7J,YAAa,GACbc,KAAM,GACNE,SAAU,GACVoU,KAAM,CAAC,IACPC,KAAM,CAAC,MAETJ,GAAe,IA6KDxD,UAAU,kEAAiEC,SAC5E,oBAGDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMgD,GAAe,GAC9BxD,UAAU,mEAAkEC,SAC7E,0BAUXC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4DAA2DC,UACxEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,0BAAyBC,SAAC,kBAC1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6CAA4CC,SAAC,oCAG3DF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,oCAAmCC,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,2EACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mFACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mFACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gFCqBlB,EA9R0BjP,IAA+F,IAA9F,OAAE+C,EAAM,qBAAE2O,EAAoB,uBAAEpF,EAAsB,oBAAEkH,EAAmB,UAAEC,GAAWzT,EAEjH,MAAM2R,EAAe,SAAChC,GAAyB,IAAlBiC,EAAQ9S,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACtC,GAAc,OAAV6Q,QAA4B3Q,IAAV2Q,GAAiC,KAAVA,EAAc,MAAO,IAClE,MAAMkC,EAAMpN,WAAWkL,GACvB,OAAOmC,MAAMD,GAAO,IAAMA,EAAI7I,QAAQ4I,EACxC,GAEOS,EAAcC,IAAmB9L,EAAAA,EAAAA,UACtCzD,EAAOsP,cAAgB,CACrB,CACEnP,GAAI,EACJkE,KAAM,6BACN/I,KAAM,EACNE,SAAU,EACVoU,KAAM,CAAC,yBAA0B,gBACjCC,KAAM,CAAC,wBAAyB,2BAElC,CACE1P,GAAI,EACJkE,KAAM,8BACN/I,KAAMoG,WAAW1B,EAAOQ,aAAe,EACvChF,SAAUkG,WAAW1B,EAAOU,iBAAmB,EAC/CkP,KAAM,CAAC,uBAAqB,kCAC5BC,KAAM,CAAC,gBAAiB,sCAE1B,CACE1P,GAAI,EACJkE,KAAM,kCACN/I,KAA6C,IAAtCoG,WAAW1B,EAAOQ,aAAe,GACxChF,SAAqD,IAA1CkG,WAAW1B,EAAOU,iBAAmB,GAChDkP,KAAM,CAAC,wBAAyB,mBAChCC,KAAM,CAAC,yBAAuB,sCAK7BL,EAAaC,IAAkBhM,EAAAA,EAAAA,WAAS,IACxCkN,EAAQC,IAAanN,EAAAA,EAAAA,UAAS,CAAEY,KAAM,GAAI/I,KAAM,EAAGE,SAAU,EAAGoU,KAAM,GAAIC,KAAM,KAGjFgB,EAAuBA,KAE3B,IAAKtH,EAAwB,OAAO,EAEpC,MAAM5B,EAAW4B,EAAuBzN,eAClCgV,EAAmB9Q,EAAO8Q,iBAGhC,GAAyB,QAArBA,GAAmD,oBAArBA,EAAwC,CAExE,MADiB,CAAC,YAAa,UAAW,kBAAmB,kBAAmB,kBAAmB,kBACnFtL,SAASmC,EAC3B,CAGA,MAAyB,YAArBmJ,EACK,CAAC,YAAa,WAAWtL,SAASmC,GAIlB,oBAArBmJ,GACK,CAAC,YAAa,UAAW,mBAAmBtL,SAASmC,IA6ChE,OACEqE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,yDAAwDC,SAAA,EACpEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,iBAAS,kCAI3CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBAAgBC,SAC5BoD,EAAaxF,IAAI,CAACoG,EAAKC,KACtBnE,EAAAA,EAAAA,MAAA,OAAkBC,UAAU,oFAAmFC,SAAA,EAC7GC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,UACpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2CAA0CC,SAAA,CAAC,aAChDiE,EAAQ,EAAE,KAAGD,EAAI7L,SAE3B2H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCC,SAAA,EACnDF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,wBAAY0C,EAAasB,EAAI5U,MAAM,QACzC0Q,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,wBAAY0C,EAAasB,EAAI1U,SAAU,GAAG,uBAKtDwQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6CAA4CC,SAAA,EACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8DAA6DC,SAAA,EAC1EC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,OAAMC,SAAC,WAAQ,gBAEjCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kCAAiCC,SAC5CgE,EAAIN,KAAK9F,IAAI,CAACiH,EAAK1D,KAClBrB,EAAAA,EAAAA,MAAA,MAAYC,UAAU,mBAAkBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,OAAMC,SAAC,YACvBC,EAAAA,EAAAA,KAAA,QAAAD,SAAO6E,MAFA1D,UAOfrB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,OAAMC,SAAC,WAAQ,mBAEjCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kCAAiCC,SAC5CgE,EAAIL,KAAK/F,IAAI,CAACkH,EAAK3D,KAClBrB,EAAAA,EAAAA,MAAA,MAAYC,UAAU,mBAAkBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,OAAMC,SAAC,YACvBC,EAAAA,EAAAA,KAAA,QAAAD,SAAO8E,MAFA3D,YAUhBqD,IACCvE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qCAAoCC,SAChD2E,KACC1E,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAtEM0D,KAC/B,GAAIM,EACFA,EAAoBN,OACf,CAEL,MAAMtK,EAAUyJ,EAAaxF,IAAI,CAACoG,EAAK7C,KAAC5L,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACnCyO,GAAG,IACNe,SAAU5D,IAAM8C,KAElBZ,EAAgB1J,GAChB8I,EAAqB9I,EACvB,GA2D+BqL,CAAwBf,GACvCzD,SAAUwD,EAAIe,SACdhF,UAAS,qEAAA7N,OACP8R,EAAIe,SACA,uEACA,4CACH/E,SAEFgE,EAAIe,SAAW,sBAAmB,+CAGrC9E,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qEAAoEC,SAAC,yEAQxFwE,GAAaR,EAAIe,WACjB9E,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qCAAoCC,UACjDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6GAA4GC,SAAC,mDApExHgE,EAAI/P,OA/CMgR,MAE1B,MAAMxJ,EAAiC,OAAtB4B,QAAsB,IAAtBA,OAAsB,EAAtBA,EAAwBzN,eACzC,MAAO,CAAC,YAAa,UAAW,kBAAmB,iBAAkB,iBAAiB0J,SAASmC,IAyH5FwJ,GACE3B,GAQDxD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yDAAwDC,SAAA,EACrEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAkCC,SAAC,uBACjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL2K,YAAY,2BACZC,MAAO+D,EAAOtM,KACdwI,SAAWC,GAAM8D,GAASnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGkP,GAAM,IAAEtM,KAAMyI,EAAEE,OAAOJ,SACtDX,UAAU,wDAEZD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL2K,YAAY,YACZC,MAAO+D,EAAOrV,KACduR,SAAWC,GAAM8D,GAASnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGkP,GAAM,IAAErV,KAAMwR,EAAEE,OAAOJ,SACtDX,UAAU,iDAEZE,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL2K,YAAY,mBACZC,MAAO+D,EAAOnV,SACdqR,SAAWC,GAAM8D,GAASnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGkP,GAAM,IAAEnV,SAAUsR,EAAEE,OAAOJ,SAC1DX,UAAU,oDAGdE,EAAAA,EAAAA,KAAA,YACEQ,YAAY,8BACZC,MAAO+D,EAAOf,KACd/C,SAAWC,GAAM8D,GAASnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGkP,GAAM,IAAEf,KAAM9C,EAAEE,OAAOJ,SACtDqD,KAAM,EACNhE,UAAU,wDAEZE,EAAAA,EAAAA,KAAA,YACEQ,YAAY,iCACZC,MAAO+D,EAAOd,KACdhD,SAAWC,GAAM8D,GAASnP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGkP,GAAM,IAAEd,KAAM/C,EAAEE,OAAOJ,SACtDqD,KAAM,EACNhE,UAAU,wDAEZD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,UACEM,QAzKe2D,KAC3B,MAAMF,EAAM,CACV/P,GAAImP,EAAatT,OAAS,EAC1BqI,KAAMsM,EAAOtM,KACb/I,KAAMoG,WAAWiP,EAAOrV,OAAS,EACjCE,SAAUkG,WAAWiP,EAAOnV,WAAa,EACzCoU,KAAMe,EAAOf,KAAKpN,MAAM,MAAM8C,OAAO8L,GAAKA,EAAEC,QAC5CxB,KAAMc,EAAOd,KAAKrN,MAAM,MAAM8C,OAAOC,GAAKA,EAAE8L,QAC5CJ,UAAU,GAGNpL,EAAU,IAAIyJ,EAAcY,GAClCX,EAAgB1J,GAChB8I,EAAqB9I,GACrB+K,EAAU,CAAEvM,KAAM,GAAI/I,KAAM,EAAGE,SAAU,EAAGoU,KAAM,GAAIC,KAAM,KAC5DJ,GAAe,IA2JHxD,UAAU,2EAA0EC,SACrF,aAGDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMgD,GAAe,GAC9BxD,UAAU,mEAAkEC,SAC7E,uBAzDLC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMgD,GAAe,GAC9BxD,UAAU,kLAAiLC,SAC5L,gCA8DHC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iEAAgEC,UAC7EC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,+BAA8BC,SAAC,0EAOhDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wDAAuDC,UACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,6BAGzDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,kCAAiCC,SAAA,EAC7CF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,wBAA4B,6CAC1CF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,WAAEC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,qBAAyB,mDACvCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,2GClKlB,EAnHkCjP,IAAsC,IAArC,OAAE+C,EAAM,oBAAEyQ,GAAqBxT,EAEhE,MAAM2R,EAAe,SAAChC,GAAyB,IAAlBiC,EAAQ9S,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACtC,GAAc,OAAV6Q,QAA4B3Q,IAAV2Q,GAAiC,KAAVA,EAAc,MAAO,IAClE,MAAMkC,EAAMpN,WAAWkL,GACvB,OAAOmC,MAAMD,GAAO,IAAMA,EAAI7I,QAAQ4I,EACxC,EAEA,OAAK7O,EAAOsP,cAA+C,IAA/BtP,EAAOsP,aAAatT,QAW9CgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wFAAuFC,SAAA,EACpGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,8DAA6DC,SAAA,EACzEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,kBAC3BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,8CAERC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,uFAK5CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvBlM,EAAOsP,aAAaxF,IAAI,CAACoG,EAAKC,KAC7BhE,EAAAA,EAAAA,KAAA,OAEEF,UAAS,mDAAA7N,OACP4B,EAAOsR,sBAAwBnB,EAC3B,+BACA,4DACHjE,UAEHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,uCAAsCC,SAAA,CAAC,aAC3CiE,EAAQ,EAAE,KAAGD,EAAI7L,SAE3B8H,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qBAAoBC,SAAEgE,EAAI1V,eAEvCwR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,yBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,CAAC,IAAE0C,EAAasB,EAAI5U,MAAM,WAExE0Q,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,0BACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,CAAE0C,EAAasB,EAAI1U,SAAU,GAAG,oBAI/E0U,EAAIN,MAAQM,EAAIN,KAAK5T,OAAS,IAC7BgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4CAA2CC,SAAC,sBAC3DC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kCAAiCC,SAC5CgE,EAAIN,KAAK9F,IAAI,CAACiH,EAAK1D,KAClBrB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAY,UAAG6E,IAAN1D,SAMhB6C,EAAIL,MAAQK,EAAIL,KAAK7T,OAAS,IAC7BgQ,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,0CAAyCC,SAAC,yBACzDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kCAAiCC,SAC5CgE,EAAIL,KAAK/F,IAAI,CAACkH,EAAK3D,KAClBrB,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAY,UAAG8E,IAAN3D,aAOnBlB,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMgE,EAAoBN,GACnCzD,SAAU1M,EAAOsR,sBAAwBnB,EACzClE,UAAS,0DAAA7N,OACP4B,EAAOsR,sBAAwBnB,EAC3B,yCACA,kEACHjE,SAEFlM,EAAOsR,sBAAwBnB,EAAQ,sBAAmB,iCAzD1DD,EAAI/P,IAAMgQ,OAgErBhE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wDAAuDC,UACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,kBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,oBAGzDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAuBC,SAAC,gLA9F3CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uDAAsDC,UACnEC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kBAAiBC,SAAC,sECNjCqF,EAAatU,IAAA,IAAC,MAAEJ,EAAK,MAAE+P,EAAK,KAAEnS,EAAI,YAAED,EAAW,MAAEgX,GAAOvU,EAAA,OAC5D+O,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2DAA0DC,SAAA,EACvEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAEzR,IAC3B+W,IACCxF,EAAAA,EAAAA,MAAA,QAAMC,UAAS,uBAAA7N,OAAyBoT,EAAQ,EAAI,iBAAmB,gBAAiBtF,SAAA,CACrFsF,EAAQ,EAAI,SAAM,SAAI,IAAEzL,KAAK0L,IAAID,GAAO,WAI/CrF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,SAAEU,KACxDT,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAwCC,SAAErP,IACxDrC,IAAe2R,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAE1R,QAkD5D,EA9C+B0F,IAAkB,IAAjB,QAAEkF,GAASlF,EACzC,MAAMwR,GAAUC,EAAAA,EAAAA,SAAQ,KACtB,MAAMC,EAAexM,EAAQpJ,OACvB6V,EAAkBzM,EAAQE,OAAOC,GAAkB,aAAbA,EAAErH,QAAsC,gBAAbqH,EAAErH,QAA0BlC,OAC7F8V,EAAeF,EAAe,EAAKC,EAAkBD,EAAgB,IAAM,EAEjF,MAAO,CACLG,kBAAmB5M,EAA2BC,GAC9C0M,aAAcA,EAAa7L,QAAQ,GACnC+L,cAAe9L,EAAiBd,GAChC6M,WAAYtL,EAA2BvB,GACvCwM,eACAM,cAAe9M,EAAQE,OAAOC,GAAkB,gBAAbA,EAAErH,QAA0BlC,SAEhE,CAACoJ,IAEJ,OACE4G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uDAAsDC,SAAA,EACnEC,EAAAA,EAAAA,KAACoF,EAAU,CACT1U,MAAM,kBACN+P,MAAK,GAAAxO,OAAKsT,EAAQK,kBAAiB,YACnCtX,KAAK,eACLD,YAAY,gCAEd2R,EAAAA,EAAAA,KAACoF,EAAU,CACT1U,MAAM,wBACN+P,MAAK,GAAAxO,OAAKsT,EAAQI,aAAY,KAC9BrX,KAAK,SACLD,YAAY,6BAEd2R,EAAAA,EAAAA,KAACoF,EAAU,CACT1U,MAAM,aACN+P,MAAK,GAAAxO,OAAKsT,EAAQO,WAAU,KAC5BxX,KAAK,SACLD,YAAY,4BAEd2R,EAAAA,EAAAA,KAACoF,EAAU,CACT1U,MAAM,iBACN+P,MAAO8E,EAAQQ,cACfzX,KAAK,eACLD,YAAY,8BC4pCpB,EA7sCyByC,IAUlB,IAADkV,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAVoB,iBACxBrR,EAAgB,SAChBsR,EAAQ,aACRC,EAAY,MACZC,EAAK,eACLC,EAAc,SACdC,EAAQ,SACRC,EAAQ,UACRC,EAAS,gBACT3R,GACDnE,EACC,MAAOmI,EAAS4N,IAAcvP,EAAAA,EAAAA,UAAS,KAChCwP,EAAgBC,IAAqBzP,EAAAA,EAAAA,WAAS,IAC9C0P,EAAeC,IAAoB3P,EAAAA,EAAAA,UAAS,OAC5C4P,EAAcC,IAAmB7P,EAAAA,EAAAA,UAAS,QAC1C8P,EAAgBC,IAAqB/P,EAAAA,EAAAA,UAAS,QAC9CgQ,EAAYC,IAAiBjQ,EAAAA,EAAAA,UAAS,KACtCkQ,EAAmBC,IAAwBnQ,EAAAA,EAAAA,UAAS,OACpDoQ,EAAcC,IAAmBrQ,EAAAA,EAAAA,WAAS,IAC1CsQ,EAAoBC,IAAyBvQ,EAAAA,EAAAA,WAAS,IACtDwQ,EAAkBC,IAAuBzQ,EAAAA,EAAAA,WAAS,IAClD0Q,EAAgBC,IAAqB3Q,EAAAA,EAAAA,WAAS,IAE/C,cAAE4Q,KAAkBC,EAAAA,EAAAA,GAAYnT,IAChC,qBAAEE,IAAyBH,EAAqBC,EAAkBC,IAGlE,YACJmC,GAAW,mBACX+D,GAAkB,UAClBzM,GAAS,WACTC,GAAU,UACVC,GAAS,aACTC,GAAY,aACZC,GAAY,UACZC,GAAS,mBACTuM,GAAkB,qBAClBI,GAAoB,iBACpBK,GAAgB,eAChBG,GAAc,iBACdG,GAAgB,mBAChBG,GACApB,WAAYgN,IACVC,EAAoBrT,GAGlBsT,IAAiB9C,EAAAA,EAAAA,SAAQ,IACrB,OAARc,QAAQ,IAARA,OAAQ,EAARA,EAAUtL,KAAKiK,GAAKA,EAAEjR,KAAOgB,GAC7B,CAACsR,EAAUtR,KAIb6C,EAAAA,EAAAA,WAAU,KACkB1H,WACxB,GAAkB,OAAdmY,SAAc,IAAdA,IAAAA,GAAgBvR,eAClB,IACE,MAAMwR,QAAuBC,EAAAA,EAAoBC,QAAQH,GAAevR,gBACxEkR,GAAmBM,EAAeG,QACpC,CAAE,MAAOpX,GACPH,QAAQG,MAAM,+CAAgDA,GAC9D2W,GAAkB,EACpB,GAGJU,IACC,CAAe,OAAdL,SAAc,IAAdA,QAAc,EAAdA,GAAgBvR,kBAGpBc,EAAAA,EAAAA,WAAU,KACH7C,GACH7D,QAAQC,KAAK,sEAEd,CAAC4D,IAGJ,MAAO4T,GAAYC,KAAiBvR,EAAAA,EAAAA,UAAS,CAC3C5G,MAAO,GACPrC,YAAa,GACbya,cAAe,GACfvS,YAAa,GACbhC,eAAgB,GAChBF,WAAY,GACZqN,cAAe,GACfC,gBAAiB,GACjB/Q,SAAU,SACV0F,SAAU,QACVyS,YAAa,GACbC,eAAe,IAAI7W,MAAOC,cAAciE,MAAM,KAAK,GACnDuE,2BAA4B,GAC5BqO,YAAa,GACb9G,aAAc,KAIV+G,GAAmBA,CAACC,EAAO1I,KAC/BoI,GAAcO,IAAI9T,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU8T,GAAI,IAAE,CAACD,GAAQ1I,OAI7C5I,EAAAA,EAAAA,WAAU,KACR,IAAK7C,EAGH,OAFA7D,QAAQC,KAAK,4DACbyV,EAAW,IAIb,MAAMwC,EAAeC,aAAaC,QAAQ,mBAADtX,OAAoB+C,IAC7D,GAAIqU,EACF,IACE,MAAMG,EAAgBC,KAAKC,MAAML,GACjCxC,EAAW8C,MAAMC,QAAQJ,GAAiBA,EAAgB,GAC5D,CAAE,MAAOlY,GACPH,QAAQG,MAAM,qCAAsCA,GACpDuV,EAAW,GACb,MAEAA,EAAW,KAEZ,CAAC7R,IAGJ,MAAM6U,GAAeC,IACnB,GAAK9U,EAKL,IACEsU,aAAaS,QAAQ,mBAAD9X,OAAoB+C,GAAoByU,KAAKO,UAAUF,GAC7E,CAAE,MAAOxY,GACPH,QAAQG,MAAM,2BAA4BA,EAC5C,MAREH,QAAQC,KAAK,yDAYX6Y,GAAmB,CACvBrT,MAAO,CAAExI,MAAO,UAAWE,KAAM,eAAMC,MAAO,6BAC9Cc,SAAU,CAAEjB,MAAO,aAAcE,KAAM,eAAMC,MAAO,+BACpDY,KAAM,CAAEf,MAAO,SAAUE,KAAM,eAAMC,MAAO,iCAC5CiQ,QAAS,CAAEpQ,MAAO,UAAWE,KAAM,SAAKC,MAAO,iCAC/C2b,UAAW,CAAE9b,MAAO,WAAYE,KAAM,eAAMC,MAAO,iCACnD4b,KAAM,CAAE/b,MAAO,UAAWE,KAAM,qBAAOC,MAAO,2BAC9C6b,YAAa,CAAEhc,MAAO,gBAAiBE,KAAM,eAAMC,MAAO,iCAC1D8b,cAAe,CAAEjc,MAAO,iBAAkBE,KAAM,eAAMC,MAAO,8BAIzD+b,GAAiB,CACrBC,UAAW,CAAEnc,MAAO,aAAcE,KAAM,eAAMC,MAAO,6BACrDic,eAAgB,CAAEpc,MAAO,yBAAuBE,KAAM,eAAMC,MAAO,6BACnEkc,eAAgB,CAAErc,MAAO,yBAAuBE,KAAM,SAAKC,MAAO,+BAClEmc,YAAa,CAAEtc,MAAO,qBAAmBE,KAAM,qBAAOC,MAAO,iCAC7Doc,SAAU,CAAEvc,MAAO,qCAAsCE,KAAM,eAAMC,MAAO,mCAC5Eqc,aAAc,CAAExc,MAAO,gBAAiBE,KAAM,eAAMC,MAAO,iCAC3Dsc,YAAa,CAAEzc,MAAO,eAAgBE,KAAM,SAAKC,MAAO,+BACxDuc,SAAU,CAAE1c,MAAO,YAAaE,KAAM,SAAKC,MAAO,2BAClDwc,UAAW,CAAE3c,MAAO,YAAaE,KAAM,SAAKC,MAAO,8BAI/Cyc,GAAmB,CACvBpO,IAAK,CAAExO,MAAO,OAAQE,KAAM,eAAMC,MAAO,+BACzCwO,OAAQ,CAAE3O,MAAO,QAASE,KAAM,eAAMC,MAAO,iCAC7CyO,KAAM,CAAE5O,MAAO,OAAQE,KAAM,eAAMC,MAAO,iCAC1C0O,SAAU,CAAE7O,MAAO,aAAWE,KAAM,eAAMC,MAAO,4BAI7C0c,IAAkBzF,EAAAA,EAAAA,SAAQ,KAC9B,IAAI0F,EAAWjS,EAkBf,MAhBqB,QAAjBiO,IACFgE,EAAWA,EAAS/R,OAAOtF,GAAUA,EAAO9B,SAAWmV,IAGlC,QAAnBE,IACF8D,EAAWA,EAAS/R,OAAOtF,GAAUA,EAAOjD,WAAawW,IAGvDE,IACF4D,EAAWA,EAAS/R,OAAOtF,GACzBA,EAAOnD,MAAMya,cAAc9R,SAASiO,EAAW6D,gBAC/CtX,EAAOxF,YAAY8c,cAAc9R,SAASiO,EAAW6D,gBACrDtX,EAAOkV,YAAYoC,cAAc9R,SAASiO,EAAW6D,iBAIlDD,EAAS9Q,KAAK,CAACC,EAAGC,IAAM,IAAInI,KAAKmI,EAAE0O,eAAiB,IAAI7W,KAAKkI,EAAE2O,iBACrE,CAAC/P,EAASiO,EAAcE,EAAgBE,IAGrC8D,IAAgB5F,EAAAA,EAAAA,SAAQ,KAmBrB,CACLC,aAnBmBxM,EAAQpJ,OAoB3Bwb,eAnBqBpS,EAAQE,OAAOC,GACpC,CAAC,YAAa,gBAAiB,iBAAkB,cAAe,mBAAmBC,SAASD,EAAErH,SAC9FlC,OAkBA6V,gBAjBsBzM,EAAQE,OAAOC,GAAkB,aAAbA,EAAErH,QAAuBlC,OAkBnEyb,mBAjByBrS,EAAQE,OAAOC,GAAkB,gBAAbA,EAAErH,QAA0BlC,OAkBzE0b,gBAjBsBtS,EAAQE,OAAOC,GAAkB,aAAbA,EAAErH,QAAuBlC,OAkBnE2b,gBAfsBvS,EACrBE,OAAOC,GAAkB,aAAbA,EAAErH,QAAsC,gBAAbqH,EAAErH,QACzCuH,OAAO,CAACC,EAAKH,IAAMG,GAAOhE,WAAW6D,EAAE/E,aAAe,GAAI,GAc3DoX,oBAX0BxS,EACzBE,OAAOC,GAAkB,aAAbA,EAAErH,QAAsC,gBAAbqH,EAAErH,QACzCuH,OAAO,CAACC,EAAKH,IAAMG,GAAOhE,WAAW6D,EAAE7E,iBAAmB,GAAI,KAWhE,CAAC0E,IAGEyS,GAAqBA,KAAO,IAADC,EAE/B,IAAKjd,KAEH,YADAwV,MAAM,yCAIR,MAAM9P,EAAamB,WAAWqT,GAAWvU,aAAe,EAClDC,EAAiBiB,WAAWqT,GAAWrU,iBAAmB,GAC1D,SAAEuI,EAAQ,MAAEvN,GPrOaqc,EAACxX,EAAYE,KAC9C,IAAIwI,EAAW,kBACXvN,EAAQ,MA0BZ,OAvBI6E,GAAcuI,EAA6BM,SAASJ,WACtDC,EAAWH,EAA6BM,SAASH,SACjDvN,EAAQ,YACC6E,GAAcuI,EAA6BK,KAAKH,WACzDC,EAAWH,EAA6BK,KAAKF,SAC7CvN,EAAQ,QACC6E,GAAcuI,EAA6BI,OAAOF,YAC3DC,EAAWH,EAA6BI,OAAOD,SAC/CvN,EAAQ,UAIN+E,GAAkBqI,EAAiCM,SAASJ,WAC9DC,EAAWH,EAAiCM,SAASH,SACrDvN,EAAQ,YACC+E,GAAkBqI,EAAiCK,KAAKH,WAAuB,aAAVtN,GAC9EuN,EAAWH,EAAiCK,KAAKF,SACjDvN,EAAQ,QACC+E,GAAkBqI,EAAiCI,OAAOF,WAAuB,QAAVtN,IAChFuN,EAAWH,EAAiCI,OAAOD,SACnDvN,EAAQ,UAGH,CAAEuN,WAAUvN,UOyMWqc,CAAoBxX,EAAYE,GAGtDuX,EAAenQ,GAAqBkN,IAGpCkD,EAAgB1X,GAAc,MAASE,GAAkB,GACzDyX,EAAgBD,EAAgB,iBAAmB,iBAEnDE,GAAS1W,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACbtB,GAAG,UAAD/B,OAAYE,KAAKgS,OACnB8H,UAAWjX,EACXkX,aAA2B,OAAd5D,SAAc,IAAdA,QAAc,EAAdA,GAAgBpQ,OAAQ,cAClC2T,GAAY,IACf9Z,OAAQga,EACRpH,iBAAkB7H,EAClBqP,eAAgB5c,EAChBkK,WAAW,IAAItH,MAAOC,cACtBuH,WAAW,IAAIxH,MAAOC,cACtB7B,aAAa,OAAD0B,OAASma,OAAOnT,EAAQpJ,OAAS,GAAGwc,SAAS,EAAG,MAC5D3O,SAAU,KACVyF,aAAc,KACdmJ,wBAAwB,EACxBnH,oBAAqB,OAGjBoH,EAAiB,CAACP,KAAc/S,GACtC4N,EAAW0F,GACX1C,GAAY0C,GAGZrE,GAAc,oBAAqB,iBAAkB,CACnD5X,SAAU0b,EAAUhY,GACpBxD,YAAawb,EAAUtb,MACvBH,aAAcyb,EAAUzb,aACxBqL,UAA8B,QAArB+P,EAAEK,EAAUpQ,iBAAS,IAAA+P,OAAA,EAAnBA,EAAqBpU,SAChCoN,iBAAkB7H,EAClBgP,kBAIFjD,GAAc,CACZnY,MAAO,GACPrC,YAAa,GACbya,cAAe,GACfvS,YAAa,GACbhC,eAAgB,GAChBF,WAAY,GACZqN,cAAe,GACfC,gBAAiB,GACjB/Q,SAAU,SACV0F,SAAU,QACVyS,YAAa,GACbC,eAAe,IAAI7W,MAAOC,cAAciE,MAAM,KAAK,GACnDuE,2BAA4B,GAC5BqO,YAAa,GACb9G,aAAc,KAGhB4E,GAAkB,GAGd+E,EACF5H,MAAM,2FAENA,MAAM,4DAKJsI,GAAe3Y,GACgB,QAA5BA,EAAO8Q,kBACqB,oBAA5B9Q,EAAO8Q,kBACmB,SAA1B9Q,EAAOsY,gBACmB,aAA1BtY,EAAOsY,iBACN5W,WAAW1B,EAAOQ,aAAe,GAAK,MACtCkB,WAAW1B,EAAOU,iBAAmB,GAAK,GA6D9CkY,GAAmCA,CAACnc,EAAUoc,KAAsB,IAADC,EACvE,MAAM9Y,EAASoF,EAAQ+B,KAAK5B,GAAKA,EAAEpF,KAAO1D,GAC1C,IAAKuD,EAAQ,OAEb,GAAsB,aAAlBA,EAAO9B,OAET,YADAmS,MAAM,gFAIR,MAAMqI,EAAiBtT,EAAQ0E,IAAIvE,GAC7BA,EAAEpF,KAAO1D,GACXgF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACK8D,GAAC,IACJ+L,oBAAqBuH,EACrB3a,OAAQ,eACR4H,WAAW,IAAIxH,MAAOC,gBAGnBgH,GAGTyN,EAAW0F,GACX1C,GAAY0C,GAEZrE,GAAc,oBAAqB,uBAAwB,CACzD5X,WACAC,aAAcsD,EAAOtD,aACrBmc,mBACAE,gBAAsD,QAAvCD,EAAE9Y,EAAOsP,aAAauJ,UAAiB,IAAAC,OAAA,EAArCA,EAAuCzU,OAG1DgM,MAAM,yEAIF2I,GAA2B1c,eAAOG,EAAUsE,GAA8B,IAAD8H,EAAA,IAAlBoB,EAAQlO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACtE,MAAMiE,EAASoF,EAAQ+B,KAAK5B,GAAKA,EAAEpF,KAAO1D,GAC1C,IAAKuD,EAAQ,OAEb,MAAMc,EAAYd,EAAO9B,OAGzB,GAAkB,aAAd6C,IAA6BjG,GAAWkF,GAE1C,YADAqQ,MAAM,sFAIR,GAAkB,aAAdtP,IAA6BhG,KAE/B,YADAsV,MAAM,4CAIR,GAAkB,gBAAdtP,IAAgC/F,KAElC,YADAqV,MAAM,+CAIR,MAAM3I,EAAWD,KAEXiR,EAAiBtT,EAAQ0E,IAAIvE,IACjC,GAAIA,EAAEpF,KAAO1D,EAAU,CACrB,MAAMwc,GAAaxX,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACd8D,GAAC,IACJrH,OAAQ6C,EACR+E,WAAW,IAAIxH,MAAOC,cACtB2I,cAAe,IACT3B,EAAE2B,eAAiB,GACvB,CACEhJ,OAAQ6C,EACRc,MAAM,IAAIvD,MAAOC,cACjB0L,WACAiP,WAAmB,OAARxR,QAAQ,IAARA,OAAQ,EAARA,EAAUhE,WAAY,UACjCnH,UAAmB,OAARmL,QAAQ,IAARA,OAAQ,EAARA,EAAUnL,cAU3B,MAJkB,aAAdwE,GACFM,GAAqB4X,EAAexE,IAG/BwE,CACT,CACA,OAAO1T,IAGTyN,EAAW0F,GACX1C,GAAY0C,GAGZrE,GAAc,oBAAqB,wBAAyB,CAC1D5X,WACAqE,YACAC,YACAkJ,WACAiP,UAAmB,OAARxR,QAAQ,IAARA,OAAQ,EAARA,EAAUhE,WAIH,QAApBmF,EAAI7I,EAAO+H,iBAAS,IAAAc,GAAhBA,EAAkBtM,iBACdoM,IAAkBlH,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAD,EACjBzB,GAAM,IAAEtD,aAAcsD,EAAOtD,aAAcG,MAAOmD,EAAOnD,QAC9DiE,EACAC,EACA,CAAC,CAAE2D,MAAO1E,EAAO+H,UAAUxL,UAAW4D,GAAIH,EAAO+H,UAAUvL,SAGjE,EAgBM2c,GAA2BA,CAAC1c,EAAU6S,KAC1C,MAAMoJ,EAAiBtT,EAAQ0E,IAAI9J,GAC7BA,EAAOG,KAAO1D,GAChBgF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYzB,GAAM,IAAEsP,iBAEftP,GAGTgT,EAAW0F,GACX1C,GAAY0C,IAIRU,GAAkBC,GAClBA,EAAS,GAAW,iBACpBA,EAAS,GAAW,kBACpBA,EAAS,GAAW,kBACjB,eAGT,OACElN,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8BAA6BC,UAC1CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAC9B/K,GAWA6K,EAAAA,EAAAA,MAAAsN,EAAAA,SAAA,CAAApN,SAAA,EAEEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sHAAqHC,SAAA,EACtIC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mGACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qGAEfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2DAA0DC,UACvEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,oBAE7BF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAkCC,SAAC,uBAChDuI,KACCzI,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uEAAsEC,SAAA,CAAC,gBACjFuI,GAAepQ,YAIzB8H,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wBAAuBC,SAAC,mEAGrCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yDAAwDC,SAAA,EACrEF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,8BAA6BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,kBAChCF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,UAAQqL,GAAc3F,oBAE9B5F,EAAAA,EAAAA,MAAA,QAAMC,UAAU,8BAA6BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,YAChCF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,eAAaqL,GAAcC,sBAEnCxL,EAAAA,EAAAA,MAAA,QAAMC,UAAU,8BAA6BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,YAChCF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,cAAYqL,GAAc1F,uBAElC7F,EAAAA,EAAAA,MAAA,QAAMC,UAAU,8BAA6BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,kBAChCF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,kBAAgBqL,GAAcE,mCAM5CtL,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMyG,GAAkB,GACjCxG,UAAW7R,MAAesZ,EAC1BlI,UAAS,kIAAA7N,OACPvD,OAAgBsZ,EACZ,gEACA,gEAENtX,MAAOsX,EAAiB,oCAAuCtZ,KAAwD,GAA1C,wCAA6CqR,SAC3H,kCAIA3I,GAAY9H,aACXuQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oEAAmEC,SAAA,EAChFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,aAC/BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gCAA+BC,UAC3C/P,EAAAA,EAAAA,IAAuBoH,GAAYzH,iBAAmByH,GAAY9H,yBAS/E0Q,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,UACnBC,EAAAA,EAAAA,KAACoN,EAAsB,CAACnU,QAASA,OAInC4G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iEAAgEC,UAC7EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAEqL,GAAc3F,gBACjEzF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,yBAEzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+BAA8BC,UAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,yBAKjCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+DAA8DC,UAC3EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAEqL,GAAcC,kBACjErL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,mBAEzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6BAA4BC,UACzCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,mBAKjCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gEAA+DC,UAC5EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,CAAC,IAAEqL,GAAcI,gBAAgB1R,QAAQ,GAAG,QAC7FkG,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,0BAEzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8BAA6BC,UAC1CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,yBAKjCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iEAAgEC,UAC7EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,SAAEqL,GAAcK,uBACjEzL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,SAAC,2BAEzCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+BAA8BC,UAC3CC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,WAAUC,SAAC,4BAOnCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uEAAsEC,UACnFC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,oBAElCC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL2K,YAAY,gEACZC,MAAO6G,EACP5G,SAAWC,GAAM4G,EAAc5G,EAAEE,OAAOJ,OACxCX,UAAU,2JAKhBE,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAAA,UACEY,MAAOyG,EACPxG,SAAWC,GAAMwG,EAAgBxG,EAAEE,OAAOJ,OAC1CX,UAAU,6IAA4IC,SAAA,EAEtJC,EAAAA,EAAAA,KAAA,UAAQS,MAAM,MAAKV,SAAC,sBACnB7F,OAAOC,QAAQmQ,IAAgB3M,IAAI5J,IAAA,IAAEsZ,EAAKtb,GAAOgC,EAAA,OAChD8L,EAAAA,EAAAA,MAAA,UAAkBY,MAAO4M,EAAItN,SAAA,CAC1BhO,EAAOzD,KAAK,IAAEyD,EAAO3D,QADXif,WAOnBrN,EAAAA,EAAAA,KAAA,OAAAD,UACEF,EAAAA,EAAAA,MAAA,UACEY,MAAO2G,EACP1G,SAAWC,GAAM0G,EAAkB1G,EAAEE,OAAOJ,OAC5CX,UAAU,6IAA4IC,SAAA,EAEtJC,EAAAA,EAAAA,KAAA,UAAQS,MAAM,MAAKV,SAAC,0BACnB7F,OAAOC,QAAQ6Q,IAAkBrN,IAAIxJ,IAAA,IAAEkZ,EAAKzc,GAASuD,EAAA,OACpD0L,EAAAA,EAAAA,MAAA,UAAkBY,MAAO4M,EAAItN,SAAA,CAC1BnP,EAAStC,KAAK,IAAEsC,EAASxC,QADfif,gBAUvBrN,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACI,IAA3BkL,GAAgBpb,QACfgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDC,SAAA,EAC7DC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,kBAC/BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,SAAC,gCAGvDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAC3BuH,GAA+B,QAAjBJ,GAA6C,QAAnBE,EACrC,sDACA,0DAKR6D,GAAgBtN,IAAK9J,IAAM,IAAAyZ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACzB9N,EAAAA,EAAAA,KAAA,OAAqBF,UAAU,mGAAkGC,UAC/HC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCC,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,QAAMC,UAAS,8CAAA7N,OAAiF,QAAjFqb,EAAgDrD,GAAiBpW,EAAOyC,iBAAS,IAAAgX,OAAA,EAAjCA,EAAmC/e,OAAQwR,SAAA,CACtE,QADsEwN,EACvGtD,GAAiBpW,EAAOyC,iBAAS,IAAAiX,OAAA,EAAjCA,EAAmCjf,KAAK,IAAmC,QAAlCkf,EAACvD,GAAiBpW,EAAOyC,iBAAS,IAAAkX,OAAA,EAAjCA,EAAmCpf,UAEhFyR,EAAAA,EAAAA,MAAA,QAAMC,UAAS,8CAAA7N,OAA6E,QAA7Ewb,EAAgDnD,GAAezW,EAAO9B,eAAO,IAAA0b,OAAA,EAA7BA,EAA+Blf,OAAQwR,SAAA,CACtE,QADsE2N,EACnGpD,GAAezW,EAAO9B,eAAO,IAAA2b,OAAA,EAA7BA,EAA+Bpf,KAAK,IAA+B,QAA9Bqf,EAACrD,GAAezW,EAAO9B,eAAO,IAAA4b,OAAA,EAA7BA,EAA+Bvf,UAExEyR,EAAAA,EAAAA,MAAA,QAAMC,UAAS,8CAAA7N,OAAiF,QAAjF2b,EAAgD5C,GAAiBnX,EAAOjD,iBAAS,IAAAgd,OAAA,EAAjCA,EAAmCrf,OAAQwR,SAAA,CACtE,QADsE8N,EACvG7C,GAAiBnX,EAAOjD,iBAAS,IAAAid,OAAA,EAAjCA,EAAmCvf,KAAK,IAAmC,QAAlCwf,EAAC9C,GAAiBnX,EAAOjD,iBAAS,IAAAkd,OAAA,EAAjCA,EAAmC1f,SAI/Eoe,GAAY3Y,KACXmM,EAAAA,EAAAA,KAAA,QAAMF,UAAU,oGAAmGC,SAAC,qCAKtHC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,kCAAiCC,SAC9ClM,EAAOtD,mBAIZyP,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAElM,EAAOnD,SACjEsP,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kCAAiCC,SAAElM,EAAOxF,eAEvDwR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gDAA+CC,SAAA,EAC5DF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,kBAChCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SAAElM,EAAOkV,kBAEvClJ,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,YAChCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SAAE,IAAI5N,KAAK0B,EAAOmV,eAAe+E,2BAE/DlO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,oBAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAS,eAAA7N,OAAiBgb,GAAepZ,EAAOQ,aAAc0L,SAAA,CAAC,IAChElM,EAAOQ,YAAc,EAAE,WAG7BwL,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,yBAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAS,eAAA7N,OAAiBgb,GAAepZ,EAAOU,iBAAkBwL,SAAA,CACpElM,EAAOU,gBAAkB,EAAE,oBAKjCV,EAAO8Q,mBACN9E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,CAAC,sCAClBC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,cAAaC,SAAElM,EAAO8Q,0BAKpE9E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB5T,GACpCiM,UAAU,kEACVpP,MAAM,eAAcqP,SACrB,uBAKkB,mBAAlBlM,EAAO9B,SACNiO,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB5T,GACpCiM,UAAU,0FAAyFC,SACpG,uCAMgB,mBAAlBlM,EAAO9B,SAAgCya,GAAY3Y,KAClDgM,EAAAA,EAAAA,MAAAsN,EAAAA,SAAA,CAAApN,SAAA,CACGpR,GAAWkF,KACVmM,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMuM,GAAyBhZ,EAAOG,GAAI,WAAY,gCAC/D8L,UAAU,4FAA2FC,SACtG,mBAIFnR,OACCoR,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMuM,GAAyBhZ,EAAOG,GAAI,WAAY,oBAC/D8L,UAAU,wFAAuFC,SAClG,uBAQY,mBAAlBlM,EAAO9B,QAA+Bya,GAAY3Y,KACjDmM,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMuM,GAAyBhZ,EAAOG,GAAI,cAAe,kCAClE8L,UAAU,8FAA6FC,SACxG,oCAMgB,gBAAlBlM,EAAO9B,SACNiO,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB5T,GACpCiM,UAAU,8FAA6FC,SACxG,qCAMgB,aAAlBlM,EAAO9B,SAA0B8B,EAAOsR,sBACvCnF,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB5T,GACpCiM,UAAU,8GAA6GC,SACxH,yCAMgB,iBAAlBlM,EAAO9B,QAA6BlD,OACnCmR,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMuM,GAAyBhZ,EAAOG,GAAI,cAAe,oCAClE8L,UAAU,4FAA2FC,SACtG,gDAxIDlM,EAAOG,QAqJtB8S,IACD9G,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iFAAgFC,UAC7FC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gFAA+EC,UAC5FF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mCAAkCC,SAAC,mCACjDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMyG,GAAkB,GACjCjH,UAAU,yFAAwFC,SACnG,eAKHF,EAAAA,EAAAA,MAAA,QAAMmO,SAAWrN,IAAQA,EAAEsN,iBAAkBvC,MAAyB5L,UAAU,YAAWC,SAAA,EACzFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,yCAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACLsH,UAAQ,EACRsD,MAAOmI,GAAWlY,MAClBgQ,SAAWC,GAAMuI,GAAiB,QAASvI,EAAEE,OAAOJ,OACpDX,UAAU,mIACVU,YAAY,yCAIhBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,uCAGhEC,EAAAA,EAAAA,KAAA,UACE7C,UAAQ,EACRsD,MAAOmI,GAAWtS,SAClBoK,SAAWC,GAAMuI,GAAiB,WAAYvI,EAAEE,OAAOJ,OACvDX,UAAU,mIAAkIC,SAE3I7F,OAAOC,QAAQ8P,IAAkBtM,IAAIlJ,IAAA,IAAE4Y,EAAK/W,GAAS7B,EAAA,OACpDoL,EAAAA,EAAAA,MAAA,UAAkBY,MAAO4M,EAAItN,SAAA,CAC1BzJ,EAAShI,KAAK,IAAEgI,EAASlI,QADfif,WAOnBxN,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,wBAGhEC,EAAAA,EAAAA,KAAA,UACE7C,UAAQ,EACRsD,MAAOmI,GAAWhY,SAClB8P,SAAWC,GAAMuI,GAAiB,WAAYvI,EAAEE,OAAOJ,OACvDX,UAAU,mIAAkIC,SAE3I7F,OAAOC,QAAQ6Q,IAAkBrN,IAAI7I,IAAA,IAAEuY,EAAKzc,GAASkE,EAAA,OACpD+K,EAAAA,EAAAA,MAAA,UAAkBY,MAAO4M,EAAItN,SAAA,CAC1BnP,EAAStC,KAAK,IAAEsC,EAASxC,QADfif,WAOnBxN,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,gCAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACLsH,UAAQ,EACRsD,MAAOmI,GAAWG,YAClBrI,SAAWC,GAAMuI,GAAiB,cAAevI,EAAEE,OAAOJ,OAC1DX,UAAU,mIACVU,YAAY,kCAKlBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,6CAGhEC,EAAAA,EAAAA,KAAA,YACE7C,UAAQ,EACR2G,KAAM,EACNrD,MAAOmI,GAAWva,YAClBqS,SAAWC,GAAMuI,GAAiB,cAAevI,EAAEE,OAAOJ,OAC1DX,UAAU,+IACVU,YAAY,4FAIhBX,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,gDAGhEC,EAAAA,EAAAA,KAAA,YACE7C,UAAQ,EACR2G,KAAM,EACNrD,MAAOmI,GAAWE,cAClBpI,SAAWC,GAAMuI,GAAiB,gBAAiBvI,EAAEE,OAAOJ,OAC5DX,UAAU,+IACVU,YAAY,oFAIhBX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,wCAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL4K,MAAOmI,GAAWvU,WAClBqM,SAAWC,GAAMuI,GAAiB,aAAcvI,EAAEE,OAAOJ,OACzDX,UAAU,mIACVU,YAAY,IACZ8B,IAAI,IACJ4L,KAAK,YAITrO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,kDAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,SACL4K,MAAOmI,GAAWrU,eAClBmM,SAAWC,GAAMuI,GAAiB,iBAAkBvI,EAAEE,OAAOJ,OAC7DX,UAAU,mIACVU,YAAY,IACZ8B,IAAI,IACJ4L,KAAK,eAKXrO,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,qCAGhEC,EAAAA,EAAAA,KAAA,YACE8D,KAAM,EACNrD,MAAOmI,GAAWrS,YAClBmK,SAAWC,GAAMuI,GAAiB,cAAevI,EAAEE,OAAOJ,OAC1DX,UAAU,+IACVU,YAAY,uDAIhBX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,qCAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL4K,MAAOmI,GAAWI,cAClBtI,SAAWC,GAAMuI,GAAiB,gBAAiBvI,EAAEE,OAAOJ,OAC5DX,UAAU,yIAIdD,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,+CAA8CC,SAAC,sDAGhEC,EAAAA,EAAAA,KAAA,SACEnK,KAAK,OACL4K,MAAOmI,GAAWhO,2BAClB8F,SAAWC,GAAMuI,GAAiB,6BAA8BvI,EAAEE,OAAOJ,OACzEX,UAAU,4IAKhBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2CAA0CC,SAAA,EACvDC,EAAAA,EAAAA,KAAA,UACEnK,KAAK,SACLyK,QAASA,IAAMyG,GAAkB,GACjCjH,UAAU,yGAAwGC,SACnH,cAGDC,EAAAA,EAAAA,KAAA,UACEnK,KAAK,SACLiK,UAAU,8NAA6NC,SACxO,+CAWVyH,IACDxH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iGAAgGC,UAC7GC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qFAAoFC,UACjGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,mCAAkCC,SAAA,CAAC,qCACtByH,EAAkBjX,iBAE7CyP,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB,MACpC3H,UAAU,yFAAwFC,SACnG,eAKHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,2CACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,gBACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SAAEyH,EAAkB9W,YAElDmP,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,mBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CACmB,QADnBiG,EACzBiE,GAAiBzC,EAAkBlR,iBAAS,IAAA0P,OAAA,EAA5CA,EAA8C1X,KAAK,IAA8C,QAA7C2X,EAACgE,GAAiBzC,EAAkBlR,iBAAS,IAAA2P,OAAA,EAA5CA,EAA8C7X,aAGxGyR,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,gBACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CACmB,QADnBmG,EACzB8E,GAAiBxD,EAAkB5W,iBAAS,IAAAsV,OAAA,EAA5CA,EAA8C5X,KAAK,IAA8C,QAA7C6X,EAAC6E,GAAiBxD,EAAkB5W,iBAAS,IAAAuV,OAAA,EAA5CA,EAA8C/X,aAGxGyR,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,aACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,CACe,QADfqG,EACzBkE,GAAe9C,EAAkBzV,eAAO,IAAAqU,OAAA,EAAxCA,EAA0C9X,KAAK,IAA0C,QAAzC+X,EAACiE,GAAe9C,EAAkBzV,eAAO,IAAAsU,OAAA,EAAxCA,EAA0CjY,YAG/FoZ,EAAkB7C,mBACjB9E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,0BACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,CAAC,gBACvCyH,EAAkB7C,iBAAiB,YAAU6C,EAAkB2E,eAAe,iBAQ5FtM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,oDACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,qBACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,SAAEyH,EAAkBnZ,kBAE3CwR,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,uBACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,SAAEyH,EAAkBsB,yBAM9CR,KACCtI,EAAAA,EAAAA,KAAAmN,EAAAA,SAAA,CAAApN,SAEgC,mBAA7ByH,EAAkBzV,QACjBiO,EAAAA,EAAAA,KAACmO,EAAkB,CACjBta,OAAQ2T,EACRjF,WAAYA,IA7yBIjS,KACpC,MAAMuD,EAASoF,EAAQ+B,KAAK5B,GAAKA,EAAEpF,KAAO1D,GAC1C,IAAKuD,EAAQ,OAGb,IAAKA,EAAOsP,cAAgBtP,EAAOsP,aAAatT,OAAS,EAEvD,YADAqU,MAAM,kFAIR,MAAMqI,EAAiBtT,EAAQ0E,IAAIvE,GAC7BA,EAAEpF,KAAO1D,GACXgF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACK8D,GAAC,IACJrH,OAAQ,iBACRua,wBAAwB,EACxB3S,WAAW,IAAIxH,MAAOC,gBAGnBgH,GAGTyN,EAAW0F,GACX1C,GAAY0C,GAEZrE,GAAc,oBAAqB,4BAA6B,CAC9D5X,WACAC,aAAcsD,EAAOtD,aACrB6d,kBAAmBva,EAAOsP,aAAatT,SAGzCqU,MAAM,wFA8wBgCmK,CAA6B7G,EAAkBxT,IACjEwO,qBAAuB8L,GAAStB,GAAyBxF,EAAkBxT,GAAIsa,MAIjFtO,EAAAA,EAAAA,KAACuO,EAAmB,CAClB1a,OAAQ2T,EACRpS,QAASkT,OAOa,gBAA7Bd,EAAkBzV,SACjBiO,EAAAA,EAAAA,KAACwO,EAAQ,CACP3a,OAAQ2T,EACRpK,uBAAwBhG,GACxBiG,cAAgBG,GA7qBLiR,EAACne,EAAUkN,KACtC,MAAM+O,EAAiBtT,EAAQ0E,IAAI9J,GAC7BA,EAAOG,KAAO1D,GAChBgF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYzB,GAAM,IAAE6J,SAAUF,IAEzB3J,GAGTgT,EAAW0F,GACX1C,GAAY0C,IAoqB8BkC,CAAqBjH,EAAkBxT,GAAIwJ,KAK3C,aAA7BgK,EAAkBzV,QAA0ByV,EAAkBrC,qBAQ7DnF,EAAAA,EAAAA,KAAC0O,EAAiB,CAChB7a,OAAQ2T,EACRpK,uBAAwBhG,GACxBoL,qBAAuB8L,GAAStB,GAAyBxF,EAAkBxT,GAAIsa,GAC/EhK,oBAAsBN,GAAUyI,GAAiCjF,EAAkBxT,GAAIgQ,GACvFO,WAAW,KAXbvE,EAAAA,EAAAA,KAAC2O,EAAyB,CACxB9a,OAAQ2T,EACRlD,oBAAsBN,GAAUyI,GAAiCjF,EAAkBxT,GAAIgQ,KAc1FwD,EAAkBzM,eAAiByM,EAAkBzM,cAAclL,OAAS,IAC3EgQ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,uCACzDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SACvByH,EAAkBzM,cAAc4C,IAAI,CAAC5L,EAAQiS,KAAK,IAAA4K,EAAAC,EAAAC,EAAA,OACjDjP,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,sDAAqDC,SAAA,EAC9EF,EAAAA,EAAAA,MAAA,QAAMC,UAAS,8CAAA7N,OAA6E,QAA7E2c,EAAgDtE,GAAevY,EAAOA,eAAO,IAAA6c,OAAA,EAA7BA,EAA+BrgB,OAAQwR,SAAA,CACtE,QADsE8O,EACnGvE,GAAevY,EAAOA,eAAO,IAAA8c,OAAA,EAA7BA,EAA+BvgB,KAAK,IAA+B,QAA9BwgB,EAACxE,GAAevY,EAAOA,eAAO,IAAA+c,OAAA,EAA7BA,EAA+B1gB,UAExE4R,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SACpC,IAAI5N,KAAKJ,EAAO2D,MAAMqY,uBAExBhc,EAAO+L,WACN+B,EAAAA,EAAAA,MAAA,QAAMC,UAAU,wBAAuBC,SAAA,CAAC,KAAGhO,EAAO+L,cAR5CkG,WAiBlBhE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2CAA0CC,UACvDC,EAAAA,EAAAA,KAAA,UACEM,QAASA,IAAMmH,EAAqB,MACpC3H,UAAU,yGAAwGC,SACnH,2BAzrBTF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mEAAkEC,SAAA,EAC/EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAC,kBAC/BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yCAAwCC,SAAC,kCAGvDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kBAAiBC,SAAC,wF","sources":["constants/unifiedRoles.js","utils/notificationHelpers.js","hooks/useChangeIntegration.js","hooks/useChangePermissions.js","utils/changeHelpers.js","hooks/useChangeManagement.js","utils/changeAuthority.js","components/change-management/CCBPanel.jsx","components/change-management/ImpactAnalysisPanel.jsx","components/change-management/ImpactAnalysisForm.jsx","components/change-management/AlternativesPanel.jsx","components/change-management/AlternativeSelectionPanel.jsx","components/change-management/ChangeMetricsDashboard.jsx","components/ChangeManagement.js"],"sourcesContent":["/**\n * SISTEMA UNIFICADO DE ROLES\n * Define roles organizacionales, funcionales y permisos para control de cambios\n * NO hardcodea datos, solo define la estructura de permisos\n */\n\n// Roles organizacionales (en organization_members.role)\nexport const ORG_ROLES = {\n  OWNER: 'owner',\n  ADMIN: 'admin',\n  MEMBER_WRITE: 'organization_member_write',\n  MEMBER_READ: 'organization_member_read'\n};\n\n// Roles funcionales (en organization_members.functional_role)\nexport const FUNCTIONAL_ROLES = {\n  // Roles de gestin\n  EXECUTIVE: 'executive',\n  SPONSOR: 'sponsor',\n  PROJECT_MANAGER: 'project_manager',\n  \n  // Roles especializados\n  FINANCE_MANAGER: 'finance_manager',\n  QUALITY_MANAGER: 'quality_manager',\n  TECHNICAL_LEAD: 'technical_lead',\n  \n  // Roles operativos\n  PMO_ASSISTANT: 'pmo_assistant',\n  PROJECT_COORDINATOR: 'project_coordinator',\n  TEAM_MEMBER: 'team_member',\n  \n  // Roles de supervisin\n  AUDITOR: 'auditor'\n};\n\n// Labels y metadata de roles funcionales\nexport const FUNCTIONAL_ROLE_LABELS = {\n  [FUNCTIONAL_ROLES.EXECUTIVE]: {\n    label: 'Ejecutivo',\n    description: 'Toma decisiones estratgicas y aprueba cambios crticos',\n    icon: '',\n    color: 'purple',\n    badge: 'bg-purple-100 text-purple-800'\n  },\n  [FUNCTIONAL_ROLES.SPONSOR]: {\n    label: 'Patrocinador',\n    description: 'Aprueba cambios mayores del proyecto',\n    icon: '',\n    color: 'blue',\n    badge: 'bg-blue-100 text-blue-800'\n  },\n  [FUNCTIONAL_ROLES.PROJECT_MANAGER]: {\n    label: 'Project Manager',\n    description: 'Gestiona proyectos y aprueba cambios menores',\n    icon: '',\n    color: 'indigo',\n    badge: 'bg-indigo-100 text-indigo-800'\n  },\n  [FUNCTIONAL_ROLES.FINANCE_MANAGER]: {\n    label: 'Gerente Financiero',\n    description: 'Aprueba impacto financiero de cambios',\n    icon: '',\n    color: 'green',\n    badge: 'bg-green-100 text-green-800'\n  },\n  [FUNCTIONAL_ROLES.QUALITY_MANAGER]: {\n    label: 'Gerente de Calidad',\n    description: 'Valida impacto en calidad',\n    icon: '',\n    color: 'yellow',\n    badge: 'bg-yellow-100 text-yellow-800'\n  },\n  [FUNCTIONAL_ROLES.TECHNICAL_LEAD]: {\n    label: 'Lder Tcnico',\n    description: 'Realiza anlisis tcnico de cambios',\n    icon: '',\n    color: 'cyan',\n    badge: 'bg-cyan-100 text-cyan-800'\n  },\n  [FUNCTIONAL_ROLES.PMO_ASSISTANT]: {\n    label: 'Asistente PMO',\n    description: 'Soporte operativo y seguimiento',\n    icon: '',\n    color: 'teal',\n    badge: 'bg-teal-100 text-teal-800'\n  },\n  [FUNCTIONAL_ROLES.PROJECT_COORDINATOR]: {\n    label: 'Coordinador de Proyectos',\n    description: 'Coordina tareas y actividades',\n    icon: '',\n    color: 'orange',\n    badge: 'bg-orange-100 text-orange-800'\n  },\n  [FUNCTIONAL_ROLES.TEAM_MEMBER]: {\n    label: 'Miembro de Equipo',\n    description: 'Participa en el proyecto y solicita cambios',\n    icon: '',\n    color: 'gray',\n    badge: 'bg-gray-100 text-gray-800'\n  },\n  [FUNCTIONAL_ROLES.AUDITOR]: {\n    label: 'Auditor',\n    description: 'Solo lectura para auditora',\n    icon: '',\n    color: 'slate',\n    badge: 'bg-slate-100 text-slate-800'\n  }\n};\n\n// Matriz de permisos para control de cambios\n// Define QU puede hacer cada rol, NO asigna roles a usuarios\nexport const CHANGE_PERMISSIONS_MATRIX = {\n  // OWNER tiene acceso completo\n  [ORG_ROLES.OWNER]: {\n    canCreate: true,\n    canApprove: true,\n    canReject: true,\n    canImplement: true,\n    canVoteInCCB: true,\n    canAssign: true,\n    canComment: true,\n    canViewAll: true,\n    approvalLimit: { cost: Infinity, schedule: Infinity },\n    changeRole: 'executive_board',\n    level: 'unlimited'\n  },\n  \n  // ADMIN tiene acceso completo\n  [ORG_ROLES.ADMIN]: {\n    canCreate: true,\n    canApprove: true,\n    canReject: true,\n    canImplement: true,\n    canVoteInCCB: true,\n    canAssign: true,\n    canComment: true,\n    canViewAll: true,\n    approvalLimit: { cost: Infinity, schedule: Infinity },\n    changeRole: 'executive_board',\n    level: 'unlimited'\n  },\n  \n  // MEMBER_WRITE depende de functional_role\n  [ORG_ROLES.MEMBER_WRITE]: {\n    // Default (sin functional_role especfico)\n    default: {\n      canCreate: true,\n      canApprove: false,\n      canReject: false,\n      canImplement: true,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'team_member',\n      level: 'basic'\n    },\n    \n    // Permisos especficos por functional_role\n    [FUNCTIONAL_ROLES.EXECUTIVE]: {\n      canCreate: true,\n      canApprove: true,\n      canReject: true,\n      canImplement: false,\n      canVoteInCCB: true,\n      canAssign: true,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: Infinity, schedule: Infinity },\n      changeRole: 'executive_board',\n      level: 'executive'\n    },\n    \n    [FUNCTIONAL_ROLES.SPONSOR]: {\n      canCreate: true,\n      canApprove: true,\n      canReject: true,\n      canImplement: false,\n      canVoteInCCB: true,\n      canAssign: true,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: 100000, schedule: 30 },\n      changeRole: 'sponsor',\n      level: 'high'\n    },\n    \n    [FUNCTIONAL_ROLES.PROJECT_MANAGER]: {\n      canCreate: true,\n      canApprove: true,\n      canReject: true,\n      canImplement: true,\n      canVoteInCCB: true,\n      canAssign: true,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: 25000, schedule: 15 },\n      changeRole: 'project_manager',\n      level: 'medium'\n    },\n    \n    [FUNCTIONAL_ROLES.FINANCE_MANAGER]: {\n      canCreate: true,\n      canApprove: true,\n      canReject: true,\n      canImplement: false,\n      canVoteInCCB: true,\n      canAssign: false,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: 100000, schedule: 0 },\n      changeRole: 'finance_manager',\n      level: 'specialized'\n    },\n    \n    [FUNCTIONAL_ROLES.QUALITY_MANAGER]: {\n      canCreate: true,\n      canApprove: true,\n      canReject: true,\n      canImplement: false,\n      canVoteInCCB: true,\n      canAssign: false,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'quality_manager',\n      level: 'specialized'\n    },\n    \n    [FUNCTIONAL_ROLES.TECHNICAL_LEAD]: {\n      canCreate: true,\n      canApprove: false,\n      canReject: false,\n      canImplement: true,\n      canVoteInCCB: true,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'technical_lead',\n      level: 'technical'\n    },\n    \n    [FUNCTIONAL_ROLES.PMO_ASSISTANT]: {\n      canCreate: true,\n      canApprove: false,\n      canReject: false,\n      canImplement: true,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'pmo_assistant',\n      level: 'operational'\n    },\n    \n    [FUNCTIONAL_ROLES.PROJECT_COORDINATOR]: {\n      canCreate: true,\n      canApprove: false,\n      canReject: false,\n      canImplement: true,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'project_coordinator',\n      level: 'operational'\n    },\n    \n    [FUNCTIONAL_ROLES.TEAM_MEMBER]: {\n      canCreate: true,\n      canApprove: false,\n      canReject: false,\n      canImplement: false,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'team_member',\n      level: 'basic'\n    }\n  },\n  \n  // MEMBER_READ tiene permisos limitados\n  [ORG_ROLES.MEMBER_READ]: {\n    default: {\n      canCreate: true, // Puede solicitar cambios\n      canApprove: false,\n      canReject: false,\n      canImplement: false,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'observer',\n      level: 'readonly'\n    },\n    \n    [FUNCTIONAL_ROLES.AUDITOR]: {\n      canCreate: false,\n      canApprove: false,\n      canReject: false,\n      canImplement: false,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: true,\n      canViewAll: true,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'auditor',\n      level: 'audit'\n    }\n  }\n};\n\n/**\n * Obtiene los permisos de control de cambios para un usuario\n * @param {string} orgRole - Rol organizacional (owner, admin, organization_member_write, organization_member_read)\n * @param {string|null} functionalRole - Rol funcional opcional\n * @returns {Object} Objeto con permisos\n */\nexport const getUserChangePermissions = (orgRole, functionalRole = null) => {\n  // Si no hay rol organizacional, denegar todo\n  if (!orgRole) {\n    return {\n      canCreate: false,\n      canApprove: false,\n      canReject: false,\n      canImplement: false,\n      canVoteInCCB: false,\n      canAssign: false,\n      canComment: false,\n      canViewAll: false,\n      approvalLimit: { cost: 0, schedule: 0 },\n      changeRole: 'none',\n      level: 'none'\n    };\n  }\n  \n  const basePermissions = CHANGE_PERMISSIONS_MATRIX[orgRole];\n  \n  if (!basePermissions) {\n    return CHANGE_PERMISSIONS_MATRIX[ORG_ROLES.MEMBER_READ].default;\n  }\n  \n  // Si es OWNER o ADMIN, retornar permisos directos\n  if (orgRole === ORG_ROLES.OWNER || orgRole === ORG_ROLES.ADMIN) {\n    return basePermissions;\n  }\n  \n  // Si tiene functional_role, buscar permisos especficos\n  if (functionalRole && basePermissions[functionalRole]) {\n    return basePermissions[functionalRole];\n  }\n  \n  // Si no tiene functional_role, usar default\n  return basePermissions.default || basePermissions;\n};\n\n/**\n * Verifica si un usuario puede aprobar un cambio especfico\n * @param {Object} permissions - Permisos del usuario\n * @param {number} costImpact - Impacto en costo del cambio\n * @param {number} scheduleImpact - Impacto en cronograma del cambio\n * @returns {boolean} true si puede aprobar\n */\nexport const canApproveChange = (permissions, costImpact, scheduleImpact) => {\n  if (!permissions.canApprove) return false;\n  \n  const cost = parseFloat(costImpact) || 0;\n  const schedule = parseFloat(scheduleImpact) || 0;\n  \n  const withinCostLimit = cost <= permissions.approvalLimit.cost;\n  const withinScheduleLimit = schedule <= permissions.approvalLimit.schedule;\n  \n  return withinCostLimit && withinScheduleLimit;\n};\n\n/**\n * Obtiene el label de un rol funcional\n * @param {string} functionalRole - Rol funcional\n * @returns {string} Label amigable\n */\nexport const getFunctionalRoleLabel = (functionalRole) => {\n  if (!functionalRole) return 'Sin rol especfico';\n  return FUNCTIONAL_ROLE_LABELS[functionalRole]?.label || functionalRole;\n};\n\n/**\n * Obtiene metadata completa de un rol funcional\n * @param {string} functionalRole - Rol funcional\n * @returns {Object|null} Metadata del rol\n */\nexport const getFunctionalRoleMetadata = (functionalRole) => {\n  if (!functionalRole) return null;\n  return FUNCTIONAL_ROLE_LABELS[functionalRole] || null;\n};\n\nconst unifiedRoles = {\n  ORG_ROLES,\n  FUNCTIONAL_ROLES,\n  FUNCTIONAL_ROLE_LABELS,\n  CHANGE_PERMISSIONS_MATRIX,\n  getUserChangePermissions,\n  canApproveChange,\n  getFunctionalRoleLabel,\n  getFunctionalRoleMetadata\n};\n\nexport default unifiedRoles;\n","import supabaseService from '../services/SupabaseService';\n\n/**\n * HELPERS PARA GESTIN DE NOTIFICACIONES\n * Funciones para crear, leer y gestionar notificaciones de control de cambios\n */\n\n/**\n * Crea una notificacin en la base de datos\n * @param {Object} notificationData - Datos de la notificacin\n * @returns {Promise<Object>} Resultado de la operacin\n */\nexport const createNotification = async ({\n  userEmail,\n  userId,\n  changeId,\n  changeNumber,\n  changeTitle,\n  notificationType,\n  title,\n  message,\n  priority = 'normal',\n  metadata = {}\n}) => {\n  try {\n    const currentUser = supabaseService.getCurrentUser();\n    const orgId = supabaseService.getCurrentOrganization();\n    \n    if (!orgId) {\n      console.warn('No se puede crear notificacin: organizacin no detectada');\n      return { success: false, error: 'Organizacin no detectada' };\n    }\n    \n    const notification = {\n      organization_id: orgId,\n      user_id: userId,\n      user_email: userEmail,\n      change_id: changeId,\n      change_number: changeNumber,\n      change_title: changeTitle,\n      notification_type: notificationType,\n      title: title,\n      message: message,\n      priority: priority,\n      status: 'unread',\n      metadata: metadata,\n      action_url: `/change-management?changeId=${changeId}`,\n      created_at: new Date().toISOString()\n    };\n    \n    const { data, error } = await supabaseService.supabase\n      .from('change_notifications')\n      .insert(notification)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creando notificacin:', error);\n      return { success: false, error };\n    }\n    \n    return { success: true, data };\n  } catch (error) {\n    console.error('Error inesperado creando notificacin:', error);\n    return { success: false, error };\n  }\n};\n\n/**\n * Obtiene notificaciones no ledas de un usuario\n * @param {string} userEmail - Email del usuario\n * @returns {Promise<Array>} Lista de notificaciones\n */\nexport const getUnreadNotifications = async (userEmail) => {\n  try {\n    // Verificar que el usuario est autenticado antes de hacer consultas\n    const { data: { session } } = await supabaseService.supabase.auth.getSession();\n\n    if (!session?.user) {\n      console.warn(' getUnreadNotifications: Usuario no autenticado');\n      return [];\n    }\n\n    const { data, error } = await supabaseService.supabase\n      .from('change_notifications')\n      .select('*')\n      .eq('user_email', userEmail)\n      .eq('status', 'unread')\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error('Error obteniendo notificaciones:', error);\n      return [];\n    }\n\n    return data || [];\n  } catch (error) {\n    console.error('Error inesperado obteniendo notificaciones:', error);\n    return [];\n  }\n};\n\n/**\n * Marca una notificacin como leda\n * @param {string} notificationId - ID de la notificacin\n * @returns {Promise<Object>} Resultado de la operacin\n */\nexport const markAsRead = async (notificationId) => {\n  try {\n    const { error } = await supabaseService.supabase\n      .from('change_notifications')\n      .update({\n        status: 'read',\n        read_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', notificationId);\n    \n    if (error) {\n      console.error('Error marcando notificacin como leda:', error);\n      return { success: false, error };\n    }\n    \n    return { success: true };\n  } catch (error) {\n    console.error('Error inesperado marcando notificacin:', error);\n    return { success: false, error };\n  }\n};\n\n/**\n * Marca todas las notificaciones de un usuario como ledas\n * @param {string} userEmail - Email del usuario\n * @returns {Promise<Object>} Resultado de la operacin\n */\nexport const markAllAsRead = async (userEmail) => {\n  try {\n    const { error } = await supabaseService.supabase\n      .from('change_notifications')\n      .update({\n        status: 'read',\n        read_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      })\n      .eq('user_email', userEmail)\n      .eq('status', 'unread');\n    \n    if (error) {\n      console.error('Error marcando todas como ledas:', error);\n      return { success: false, error };\n    }\n    \n    return { success: true };\n  } catch (error) {\n    console.error('Error inesperado marcando todas como ledas:', error);\n    return { success: false, error };\n  }\n};\n\n/**\n * Obtiene el conteo de notificaciones no ledas\n * @param {string} userEmail - Email del usuario\n * @returns {Promise<number>} Nmero de notificaciones no ledas\n */\nexport const getUnreadCount = async (userEmail) => {\n  try {\n    // Verificar que el usuario est autenticado antes de hacer consultas\n    const { data: { session } } = await supabaseService.supabase.auth.getSession();\n\n    if (!session?.user) {\n      console.warn(' getUnreadCount: Usuario no autenticado');\n      return 0;\n    }\n\n    const { count, error } = await supabaseService.supabase\n      .from('change_notifications')\n      .select('*', { count: 'exact', head: true })\n      .eq('user_email', userEmail)\n      .eq('status', 'unread');\n\n    if (error) {\n      console.error('Error obteniendo conteo:', error);\n      return 0;\n    }\n\n    return count || 0;\n  } catch (error) {\n    console.error('Error inesperado obteniendo conteo:', error);\n    return 0;\n  }\n};\n\n/**\n * Notifica a un usuario sobre asignacin de cambio\n * @param {Object} params - Parmetros de la notificacin\n */\nexport const notifyChangeAssigned = async ({ userEmail, userId, change, assignedBy }) => {\n  return createNotification({\n    userEmail,\n    userId,\n    changeId: change.id,\n    changeNumber: change.changeNumber,\n    changeTitle: change.title,\n    notificationType: 'assigned',\n    title: 'Cambio Asignado',\n    message: `${assignedBy} te ha asignado el cambio \"${change.title}\"`,\n    priority: 'high',\n    metadata: { assignedBy, changeStatus: change.status }\n  });\n};\n\n/**\n * Notifica a un usuario que requiere su aprobacin\n * @param {Object} params - Parmetros de la notificacin\n */\nexport const notifyApprovalRequired = async ({ userEmail, userId, change }) => {\n  return createNotification({\n    userEmail,\n    userId,\n    changeId: change.id,\n    changeNumber: change.changeNumber,\n    changeTitle: change.title,\n    notificationType: 'approval_required',\n    title: 'Aprobacin Requerida',\n    message: `El cambio \"${change.title}\" requiere tu aprobacin`,\n    priority: 'urgent',\n    metadata: { \n      costImpact: change.impactCost, \n      scheduleImpact: change.impactSchedule \n    }\n  });\n};\n\n/**\n * Notifica a un usuario que requiere su voto en CCB\n * @param {Object} params - Parmetros de la notificacin\n */\nexport const notifyCCBVoteRequired = async ({ userEmail, userId, change }) => {\n  return createNotification({\n    userEmail,\n    userId,\n    changeId: change.id,\n    changeNumber: change.changeNumber,\n    changeTitle: change.title,\n    notificationType: 'ccb_vote_required',\n    title: 'Voto CCB Requerido',\n    message: `Tu voto es requerido en el CCB para \"${change.title}\"`,\n    priority: 'high',\n    metadata: { changeStatus: change.status }\n  });\n};\n\n/**\n * Notifica cambio de estado\n * @param {Object} params - Parmetros de la notificacin\n */\nexport const notifyStatusChanged = async ({ userEmail, userId, change, oldStatus, newStatus, changedBy }) => {\n  return createNotification({\n    userEmail,\n    userId,\n    changeId: change.id,\n    changeNumber: change.changeNumber,\n    changeTitle: change.title,\n    notificationType: 'status_changed',\n    title: 'Estado de Cambio Actualizado',\n    message: `El cambio \"${change.title}\" pas de ${oldStatus} a ${newStatus}`,\n    priority: 'normal',\n    metadata: { oldStatus, newStatus, changedBy }\n  });\n};\n\nconst notificationHelpers = {\n  createNotification,\n  getUnreadNotifications,\n  markAsRead,\n  markAllAsRead,\n  getUnreadCount,\n  notifyChangeAssigned,\n  notifyApprovalRequired,\n  notifyCCBVoteRequired,\n  notifyStatusChanged\n};\n\nexport default notificationHelpers;\n","import { useCallback } from 'react';\n\nexport const useChangeIntegration = (currentProjectId, onUpdateProject) => {\n  const applyChangeToProject = useCallback((change, project) => {\n    if (!onUpdateProject || !project) {\n      console.warn('No se puede aplicar el cambio: onUpdateProject o project no disponible');\n      return null;\n    }\n    \n    const updates = { ...project };\n    \n    // Actualizar presupuesto\n    if (change.impactCost) {\n      const costImpact = parseFloat(change.impactCost);\n      updates.budget = (updates.budget || 0) + costImpact;\n      updates.budgetHistory = [\n        ...(updates.budgetHistory || []),\n        {\n          date: new Date().toISOString(),\n          amount: costImpact,\n          reason: `Cambio ${change.changeNumber}: ${change.title}`,\n          type: 'change_request',\n          changeId: change.id\n        }\n      ];\n    }\n    \n    // Actualizar cronograma\n    if (change.impactSchedule && updates.endDate) {\n      const scheduleImpact = parseFloat(change.impactSchedule);\n      const currentEndDate = new Date(updates.endDate);\n      const newEndDate = new Date(currentEndDate.getTime() + (scheduleImpact * 24 * 60 * 60 * 1000));\n      \n      updates.scheduleHistory = [\n        ...(updates.scheduleHistory || []),\n        {\n          date: new Date().toISOString(),\n          days: scheduleImpact,\n          reason: `Cambio ${change.changeNumber}: ${change.title}`,\n          oldEndDate: updates.endDate,\n          newEndDate: newEndDate.toISOString().split('T')[0],\n          changeId: change.id\n        }\n      ];\n      \n      updates.endDate = newEndDate.toISOString().split('T')[0];\n    }\n    \n    // Actualizar alcance si aplica\n    if (change.category === 'scope' && change.impactScope) {\n      updates.scopeChanges = [\n        ...(updates.scopeChanges || []),\n        {\n          date: new Date().toISOString(),\n          changeId: change.id,\n          changeNumber: change.changeNumber,\n          description: change.impactScope,\n          status: 'implemented'\n        }\n      ];\n    }\n    \n    // Registrar el cambio aplicado\n    updates.appliedChanges = [\n      ...(updates.appliedChanges || []),\n      {\n        changeId: change.id,\n        changeNumber: change.changeNumber,\n        title: change.title,\n        appliedDate: new Date().toISOString(),\n        impactSummary: {\n          cost: change.impactCost,\n          schedule: change.impactSchedule,\n          scope: change.impactScope,\n          category: change.category\n        }\n      }\n    ];\n    \n    // Llamar a la funcin de actualizacin\n    onUpdateProject(updates);\n    \n    return updates;\n  }, [onUpdateProject]);\n  \n  return { applyChangeToProject };\n};\n\nexport default useChangeIntegration;\n","import { useState, useEffect, useRef } from 'react';\nimport supabaseService from '../services/SupabaseService';\nimport { getUserChangePermissions } from '../constants/unifiedRoles';\nimport useAuthUser from './useAuthUser';\n\n/**\n * Hook para obtener permisos de control de cambios del usuario actual\n *\n * Calcula permisos especficos para el mdulo de Control de Cambios basndose en:\n * - Rol organizacional (owner, admin, organization_member_write/read)\n * - Rol funcional (change_manager, change_analyst, ccb_member, developer, etc.)\n *\n * Permisos disponibles:\n * - canCreate: Crear solicitudes de cambio\n * - canApprove: Aprobar cambios (con lmites de costo/tiempo)\n * - canReject: Rechazar cambios\n * - canImplement: Marcar cambios como implementados\n * - canVoteInCCB: Votar en Change Control Board\n * - canAssign: Asignar cambios a otros usuarios\n * - canComment: Comentar en cambios\n * - canViewAll: Ver todos los cambios (no solo asignados)\n *\n * @returns {Object} Permisos de control de cambios\n * @returns {Object} return.permissions - Objeto con permisos y metadata\n * @returns {boolean} return.permissions.canCreate - Puede crear cambios\n * @returns {boolean} return.permissions.canApprove - Puede aprobar cambios\n * @returns {boolean} return.permissions.canReject - Puede rechazar cambios\n * @returns {boolean} return.permissions.canImplement - Puede implementar cambios\n * @returns {boolean} return.permissions.canVoteInCCB - Puede votar en CCB\n * @returns {boolean} return.permissions.canAssign - Puede asignar cambios\n * @returns {boolean} return.permissions.canComment - Puede comentar\n * @returns {boolean} return.permissions.canViewAll - Puede ver todos los cambios\n * @returns {Object} return.permissions.approvalLimit - Lmites de aprobacin {cost, schedule}\n * @returns {string|null} return.permissions.changeRole - Rol especfico de cambios\n * @returns {string} return.permissions.level - Nivel de permisos (none, basic, intermediate, advanced, full)\n * @returns {string|null} return.permissions.userId - ID del usuario\n * @returns {string|null} return.permissions.userName - Nombre del usuario\n * @returns {string|null} return.permissions.userEmail - Email del usuario\n * @returns {string|null} return.permissions.orgRole - Rol organizacional\n * @returns {string|null} return.permissions.functionalRole - Rol funcional\n * @returns {boolean} return.loading - Estado de carga\n * @returns {string|null} return.error - Mensaje de error si existe\n * @returns {Function} return.canApproveSpecificChange - Verifica si puede aprobar cambio especfico\n *\n * @example\n * const { permissions, loading, canApproveSpecificChange } = useChangePermissions();\n *\n * if (loading) return <Spinner />;\n *\n * // Verificar permisos\n * if (permissions.canCreate) {\n *   return <CreateChangeButton />;\n * }\n *\n * // Verificar aprobacin especfica\n * const canApprove = canApproveSpecificChange(5000, 10); // $5000, 10 das\n * if (canApprove) {\n *   return <ApproveButton />;\n * }\n */\nconst useChangePermissions = () => {\n  // Hook base de autenticacin\n  const {\n    currentUser,\n    organizationId,\n    isLoading: isAuthLoading,\n    isAuthenticated,\n    userEmail,\n    userId\n  } = useAuthUser();\n\n  const [permissions, setPermissions] = useState({\n    canCreate: false,\n    canApprove: false,\n    canReject: false,\n    canImplement: false,\n    canVoteInCCB: false,\n    canAssign: false,\n    canComment: false,\n    canViewAll: false,\n    approvalLimit: { cost: 0, schedule: 0 },\n    changeRole: null,\n    level: 'none',\n    // Info del usuario\n    userId: null,\n    userName: null,\n    userEmail: null,\n    orgRole: null,\n    functionalRole: null\n  });\n\n  const [loadingPermissions, setLoadingPermissions] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Ref para evitar cargas duplicadas\n  const isLoadingRef = useRef(false);\n\n  useEffect(() => {\n    const loadPermissions = async () => {\n      // Evitar mltiples ejecuciones simultneas\n      if (isLoadingRef.current) {\n        return;\n      }\n\n      // Esperar a que useAuthUser termine de cargar\n      if (isAuthLoading) {\n        return;\n      }\n\n      try {\n        isLoadingRef.current = true;\n        setLoadingPermissions(true);\n        setError(null);\n\n        // Si no hay usuario autenticado, permisos restrictivos\n        if (!isAuthenticated || !userEmail) {\n          setPermissions({\n            canCreate: false,\n            canApprove: false,\n            canReject: false,\n            canImplement: false,\n            canVoteInCCB: false,\n            canAssign: false,\n            canComment: false,\n            canViewAll: false,\n            approvalLimit: { cost: 0, schedule: 0 },\n            changeRole: null,\n            level: 'none',\n            userId: null,\n            userName: null,\n            userEmail: null,\n            orgRole: null,\n            functionalRole: null\n          });\n          return;\n        }\n\n        // Si no hay organizacin, esperar\n        if (!organizationId) {\n          setPermissions({\n            canCreate: false,\n            canApprove: false,\n            canReject: false,\n            canImplement: false,\n            canVoteInCCB: false,\n            canAssign: false,\n            canComment: false,\n            canViewAll: false,\n            approvalLimit: { cost: 0, schedule: 0 },\n            changeRole: null,\n            level: 'none',\n            userId: userId,\n            userName: currentUser?.user_metadata?.name || userEmail,\n            userEmail: userEmail,\n            orgRole: null,\n            functionalRole: null\n          });\n          return;\n        }\n\n        // Obtener membership del usuario\n        const { data: membership, error: membershipError } = await supabaseService.supabase\n          .from('organization_members')\n          .select('role, functional_role, user_id, status')\n          .eq('user_email', userEmail)\n          .eq('organization_id', organizationId)\n          .eq('status', 'active')\n          .maybeSingle();\n\n        if (membershipError) {\n          console.error('Error obteniendo membership:', membershipError);\n          setError('Error cargando permisos');\n          return;\n        }\n\n        if (!membership) {\n          console.warn('No se encontr membership activo para el usuario');\n          setPermissions({\n            canCreate: false,\n            canApprove: false,\n            canReject: false,\n            canImplement: false,\n            canVoteInCCB: false,\n            canAssign: false,\n            canComment: false,\n            canViewAll: false,\n            approvalLimit: { cost: 0, schedule: 0 },\n            changeRole: null,\n            level: 'none',\n            userId: currentUser.id,\n            userName: currentUser.user_metadata?.name || currentUser.email,\n            userEmail: currentUser.email,\n            orgRole: null,\n            functionalRole: null\n          });\n          return;\n        }\n\n        // Calcular permisos basados en role + functional_role\n        const orgRole = membership.role;\n        const functionalRole = membership.functional_role;\n        \n        const calculatedPermissions = getUserChangePermissions(orgRole, functionalRole);\n\n        // Combinar con informacin del usuario\n        setPermissions({\n          ...calculatedPermissions,\n          userId: membership.user_id || currentUser.id,\n          userName: currentUser.user_metadata?.name || currentUser.email,\n          userEmail: currentUser.email,\n          orgRole: orgRole,\n          functionalRole: functionalRole\n        });\n\n      } catch (error) {\n        console.error('Error inesperado en useChangePermissions:', error);\n        setError('Error inesperado cargando permisos');\n      } finally {\n        setLoadingPermissions(false);\n        isLoadingRef.current = false;\n      }\n    };\n\n    // Cargar permisos cuando cambie el usuario o la organizacin\n    loadPermissions();\n  }, [isAuthenticated, userEmail, organizationId, isAuthLoading, currentUser, userId]);\n\n  /**\n   * Verifica si el usuario puede aprobar un cambio especfico basndose en lmites\n   *\n   * Compara el impacto en costo y tiempo del cambio contra los lmites de aprobacin\n   * del usuario. Ambos lmites deben cumplirse para aprobar.\n   *\n   * @param {number|string} costImpact - Impacto en costo (USD)\n   * @param {number|string} scheduleImpact - Impacto en cronograma (das)\n   * @returns {boolean} True si el usuario puede aprobar este cambio especfico\n   *\n   * @example\n   * const { canApproveSpecificChange } = useChangePermissions();\n   *\n   * // Cambio pequeo: $1000, 5 das\n   * canApproveSpecificChange(1000, 5); // true para analyst\n   *\n   * // Cambio grande: $50000, 30 das\n   * canApproveSpecificChange(50000, 30); // false para analyst, true para manager\n   */\n  const canApproveSpecificChange = (costImpact, scheduleImpact) => {\n    if (!permissions.canApprove) return false;\n\n    const cost = parseFloat(costImpact) || 0;\n    const schedule = parseFloat(scheduleImpact) || 0;\n\n    const withinCostLimit = cost <= permissions.approvalLimit.cost;\n    const withinScheduleLimit = schedule <= permissions.approvalLimit.schedule;\n\n    return withinCostLimit && withinScheduleLimit;\n  };\n\n  // Combinar estados de loading\n  const loading = isAuthLoading || loadingPermissions;\n\n  return {\n    permissions,\n    loading,\n    error,\n    canApproveSpecificChange\n  };\n};\n\nexport default useChangePermissions;\n","export const calculateDetailedImpact = (change, project) => {\n  const costImpact = parseFloat(change.impactCost) || 0;\n  const scheduleImpact = parseFloat(change.impactSchedule) || 0;\n  \n  // Calcular porcentajes\n  const costPercentage = project?.budget ? (costImpact / project.budget) * 100 : 0;\n  const remainingBudget = project?.budget ? project.budget - costImpact : 0;\n  \n  // Calcular nueva fecha de fin\n  let newEndDate = null;\n  let delayPercentage = 0;\n  \n  if (project?.endDate && scheduleImpact > 0) {\n    const currentEndDate = new Date(project.endDate);\n    newEndDate = new Date(currentEndDate.getTime() + (scheduleImpact * 24 * 60 * 60 * 1000));\n    \n    const totalDays = Math.ceil((currentEndDate - new Date(project.startDate)) / (24 * 60 * 60 * 1000));\n    delayPercentage = (scheduleImpact / totalDays) * 100;\n  }\n  \n  // Calcular impacto general\n  const totalImpactScore = \n    (costPercentage * 0.4) + \n    (delayPercentage * 0.3) + \n    (change.impactScope ? 15 : 0) + \n    (change.impactQuality ? 10 : 0) + \n    (change.impactResources ? 5 : 0);\n  \n  // Recomendacin\n  let recommendation = 'approve';\n  let recommendationReason = 'El impacto es aceptable para los beneficios esperados';\n  \n  if (totalImpactScore > 50) {\n    recommendation = 'reject';\n    recommendationReason = 'El impacto es demasiado alto. Considere alternativas.';\n  } else if (totalImpactScore > 30) {\n    recommendation = 'review';\n    recommendationReason = 'Requiere anlisis detallado de alternativas y beneficios.';\n  }\n  \n  return {\n    cost: costImpact,\n    costPercentage: costPercentage.toFixed(1),\n    remainingBudget: remainingBudget.toFixed(0),\n    schedule: scheduleImpact,\n    newEndDate: newEndDate ? newEndDate.toISOString().split('T')[0] : null,\n    delayPercentage: delayPercentage.toFixed(1),\n    scope: change.impactScope || 'Sin impacto especificado',\n    affectedDeliverables: change.affectedDeliverables || 0,\n    newRequirements: change.newRequirements || 0,\n    complexity: change.complexity || 'Media',\n    risks: change.impactRisks || 'A evaluar',\n    stakeholders: change.impactStakeholders || 'Todos los stakeholders',\n    totalImpactScore: totalImpactScore.toFixed(1),\n    recommendation,\n    recommendationReason\n  };\n};\n\nexport const calculateAvgProcessingTime = (changes) => {\n  const completedChanges = changes.filter(c => \n    ['approved', 'rejected', 'implemented'].includes(c.status)\n  );\n  \n  if (completedChanges.length === 0) return 0;\n  \n  const totalDays = completedChanges.reduce((sum, change) => {\n    const created = new Date(change.createdAt);\n    const updated = new Date(change.updatedAt);\n    const days = Math.ceil((updated - created) / (24 * 60 * 60 * 1000));\n    return sum + days;\n  }, 0);\n  \n  return (totalDays / completedChanges.length).toFixed(1);\n};\n\nexport const getTopCategories = (changes) => {\n  const categoryCounts = changes.reduce((acc, change) => {\n    acc[change.category] = (acc[change.category] || 0) + 1;\n    return acc;\n  }, {});\n  \n  return Object.entries(categoryCounts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n};\n\nexport const calculateProcessEfficiency = (changes) => {\n  const implementedOnTime = changes.filter(c => {\n    if (c.status !== 'implemented' || !c.expectedImplementationDate) return false;\n    \n    const expected = new Date(c.expectedImplementationDate);\n    const actual = c.statusHistory?.find(s => s.status === 'implemented')?.date;\n    \n    if (!actual) return false;\n    \n    return new Date(actual) <= expected;\n  }).length;\n  \n  const totalImplemented = changes.filter(c => c.status === 'implemented').length;\n  \n  return totalImplemented > 0 ? ((implementedOnTime / totalImplemented) * 100).toFixed(0) : 0;\n};\n\n// ============================================================================\n// FUNCIONES PARA MANEJO DE USUARIOS EN CAMBIOS\n// Agregar al final de changeHelpers.js existente\n// ============================================================================\n\n/**\n * Crea objeto de informacin de usuario para cambios\n * @param {Object} userInfo - Info del usuario (de useChangePermissions)\n * @returns {Object} Objeto usuario para cambios\n */\nexport const createUserInfo = (userInfo) => {\n  if (!userInfo || !userInfo.userId) {\n    return null;\n  }\n  \n  return {\n    userId: userInfo.userId,\n    userName: userInfo.userName || userInfo.userEmail,\n    userEmail: userInfo.userEmail,\n    userRole: userInfo.orgRole,\n    changeRole: userInfo.changeRole,\n    functionalRole: userInfo.functionalRole,\n    timestamp: new Date().toISOString()\n  };\n};\n\n/**\n * Determina el aprobador requerido para un cambio\n * @param {number} costImpact - Impacto en costo\n * @param {number} scheduleImpact - Impacto en cronograma\n * @returns {Object} Info del nivel de aprobador requerido\n */\nexport const getRequiredApproverLevel = (costImpact, scheduleImpact) => {\n  const cost = parseFloat(costImpact) || 0;\n  const schedule = parseFloat(scheduleImpact) || 0;\n  \n  // Niveles de aprobacin segn PMBOK\n  if (cost > 100000 || schedule > 30) {\n    return {\n      level: 'executive',\n      title: 'Executive Board',\n      reason: 'Cambio crtico que requiere aprobacin ejecutiva',\n      requiredRoles: ['executive', 'sponsor']\n    };\n  } else if (cost > 25000 || schedule > 15) {\n    return {\n      level: 'high',\n      title: 'Sponsor',\n      reason: 'Cambio mayor que requiere aprobacin del patrocinador',\n      requiredRoles: ['sponsor', 'project_manager']\n    };\n  } else if (cost > 0 || schedule > 0) {\n    return {\n      level: 'medium',\n      title: 'Project Manager',\n      reason: 'Cambio estndar que requiere aprobacin del PM',\n      requiredRoles: ['project_manager']\n    };\n  } else {\n    return {\n      level: 'low',\n      title: 'Team Member',\n      reason: 'Cambio menor sin impacto significativo',\n      requiredRoles: ['project_manager', 'pmo_assistant']\n    };\n  }\n};\n\n/**\n * Verifica si un usuario puede realizar una accin en un cambio\n * @param {Object} permissions - Permisos del usuario\n * @param {string} action - Accin a verificar ('approve', 'reject', 'implement', etc.)\n * @param {Object} change - Objeto del cambio (opcional, para validaciones adicionales)\n * @returns {boolean} true si puede realizar la accin\n */\nexport const canUserPerformAction = (permissions, action, change = null) => {\n  if (!permissions) return false;\n  \n  switch (action) {\n    case 'create':\n      return permissions.canCreate;\n    case 'approve':\n      if (!permissions.canApprove) return false;\n      if (change) {\n        const cost = parseFloat(change.impactCost) || 0;\n        const schedule = parseFloat(change.impactSchedule) || 0;\n        return cost <= permissions.approvalLimit.cost && \n               schedule <= permissions.approvalLimit.schedule;\n      }\n      return true;\n    case 'reject':\n      return permissions.canReject;\n    case 'implement':\n      return permissions.canImplement;\n    case 'vote_ccb':\n      return permissions.canVoteInCCB;\n    case 'assign':\n      return permissions.canAssign;\n    case 'comment':\n      return permissions.canComment;\n    default:\n      return false;\n  }\n};\n\n/**\n * Formatea informacin de usuario para mostrar\n * @param {Object} userInfo - Info del usuario\n * @returns {string} Texto formateado\n */\nexport const formatUserDisplay = (userInfo) => {\n  if (!userInfo) return 'Usuario desconocido';\n  \n  const name = userInfo.userName || userInfo.userEmail;\n  const role = userInfo.functionalRole || userInfo.changeRole;\n  \n  if (role) {\n    return `${name} (${role})`;\n  }\n  \n  return name;\n};\n","import { useState, useCallback } from 'react';\nimport useChangePermissions from './useChangePermissions';\nimport { createUserInfo } from '../utils/changeHelpers';\nimport { \n  notifyChangeAssigned, \n  notifyApprovalRequired,\n  notifyCCBVoteRequired,\n  notifyStatusChanged \n} from '../utils/notificationHelpers';\n\n/**\n * Hook para gestionar cambios con usuarios y permisos\n * Extiende la funcionalidad de ChangeManagement sin romperla\n */\nconst useChangeManagement = (currentProjectId) => {\n  const { permissions, loading: permissionsLoading } = useChangePermissions();\n  const [processing, setProcessing] = useState(false);\n\n  /**\n   * Crea objeto de usuario actual para el cambio\n   */\n  const getCurrentUserInfo = useCallback(() => {\n    if (!permissions.userId) return null;\n    return createUserInfo(permissions);\n  }, [permissions]);\n\n  /**\n   * Valida si el usuario puede crear un cambio\n   */\n  const canCreate = useCallback(() => {\n    return permissions.canCreate && !permissionsLoading;\n  }, [permissions.canCreate, permissionsLoading]);\n\n  /**\n   * Valida si el usuario puede aprobar un cambio especfico\n   */\n  const canApprove = useCallback((change) => {\n    if (!permissions.canApprove) return false;\n    \n    const costImpact = parseFloat(change.impactCost) || 0;\n    const scheduleImpact = parseFloat(change.impactSchedule) || 0;\n    \n    const withinCostLimit = costImpact <= permissions.approvalLimit.cost;\n    const withinScheduleLimit = scheduleImpact <= permissions.approvalLimit.schedule;\n    \n    return withinCostLimit && withinScheduleLimit;\n  }, [permissions]);\n\n  /**\n   * Valida si el usuario puede rechazar un cambio\n   */\n  const canReject = useCallback(() => {\n    return permissions.canReject && !permissionsLoading;\n  }, [permissions.canReject, permissionsLoading]);\n\n  /**\n   * Valida si el usuario puede implementar un cambio\n   */\n  const canImplement = useCallback(() => {\n    return permissions.canImplement && !permissionsLoading;\n  }, [permissions.canImplement, permissionsLoading]);\n\n  /**\n   * Valida si el usuario puede votar en CCB\n   */\n  const canVoteInCCB = useCallback(() => {\n    return permissions.canVoteInCCB && !permissionsLoading;\n  }, [permissions.canVoteInCCB, permissionsLoading]);\n\n  /**\n   * Valida si el usuario puede asignar cambios\n   */\n  const canAssign = useCallback(() => {\n    return permissions.canAssign && !permissionsLoading;\n  }, [permissions.canAssign, permissionsLoading]);\n\n  /**\n   * Enriquece un cambio con informacin del usuario actual\n   */\n  const enrichChangeWithUser = useCallback((changeData) => {\n    const userInfo = getCurrentUserInfo();\n    if (!userInfo) return changeData;\n\n    return {\n      ...changeData,\n      createdBy: userInfo,\n      createdByUser: userInfo.userName, // Para compatibilidad con cdigo existente\n      createdByEmail: userInfo.userEmail\n    };\n  }, [getCurrentUserInfo]);\n\n  /**\n   * Notifica cuando se asigna un cambio\n   */\n  const notifyAssignment = useCallback(async (change, assignedToEmail, assignedToId) => {\n    if (!change || !assignedToEmail) return;\n    \n    setProcessing(true);\n    try {\n      const userInfo = getCurrentUserInfo();\n      if (!userInfo) return;\n\n      await notifyChangeAssigned({\n        userEmail: assignedToEmail,\n        userId: assignedToId,\n        change: change,\n        assignedBy: userInfo.userName\n      });\n    } catch (error) {\n      console.error('Error notificando asignacin:', error);\n    } finally {\n      setProcessing(false);\n    }\n  }, [getCurrentUserInfo]);\n\n  /**\n   * Notifica cuando se requiere aprobacin\n   */\n  const notifyApproval = useCallback(async (change, approverEmail, approverId) => {\n    if (!change || !approverEmail) return;\n    \n    setProcessing(true);\n    try {\n      await notifyApprovalRequired({\n        userEmail: approverEmail,\n        userId: approverId,\n        change: change\n      });\n    } catch (error) {\n      console.error('Error notificando aprobacin:', error);\n    } finally {\n      setProcessing(false);\n    }\n  }, []);\n\n  /**\n   * Notifica a miembros del CCB\n   */\n  const notifyCCBMembers = useCallback(async (change, ccbMembers) => {\n    if (!change || !ccbMembers || ccbMembers.length === 0) return;\n    \n    setProcessing(true);\n    try {\n      for (const member of ccbMembers) {\n        if (member.userEmail) {\n          await notifyCCBVoteRequired({\n            userEmail: member.userEmail,\n            userId: member.userId,\n            change: change\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error notificando CCB:', error);\n    } finally {\n      setProcessing(false);\n    }\n  }, []);\n\n  /**\n   * Notifica cambio de estado\n   */\n  const notifyStatusChange = useCallback(async (change, oldStatus, newStatus, interestedUsers = []) => {\n    if (!change) return;\n    \n    setProcessing(true);\n    try {\n      const userInfo = getCurrentUserInfo();\n      if (!userInfo) return;\n\n      // Notificar al creador del cambio\n      if (change.createdByEmail && change.createdByEmail !== userInfo.userEmail) {\n        await notifyStatusChanged({\n          userEmail: change.createdByEmail,\n          userId: change.createdBy?.userId,\n          change: change,\n          oldStatus: oldStatus,\n          newStatus: newStatus,\n          changedBy: userInfo.userName\n        });\n      }\n\n      // Notificar a otros usuarios interesados\n      for (const user of interestedUsers) {\n        if (user.email && user.email !== userInfo.userEmail) {\n          await notifyStatusChanged({\n            userEmail: user.email,\n            userId: user.id,\n            change: change,\n            oldStatus: oldStatus,\n            newStatus: newStatus,\n            changedBy: userInfo.userName\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error notificando cambio de estado:', error);\n    } finally {\n      setProcessing(false);\n    }\n  }, [getCurrentUserInfo]);\n\n  return {\n    // Permisos\n    permissions,\n    permissionsLoading,\n    \n    // Validaciones\n    canCreate,\n    canApprove,\n    canReject,\n    canImplement,\n    canVoteInCCB,\n    canAssign,\n    \n    // Utilidades\n    getCurrentUserInfo,\n    enrichChangeWithUser,\n    \n    // Notificaciones\n    notifyAssignment,\n    notifyApproval,\n    notifyCCBMembers,\n    notifyStatusChange,\n    \n    // Estado\n    processing\n  };\n};\n\nexport default useChangeManagement;\n","// Matriz de autoridad basada en PMBOK v7\nexport const CHANGE_AUTHORITY_MATRIX = {\n  cost: {\n    low: { threshold: 5000, approver: 'project_manager', label: 'Project Manager' },\n    medium: { threshold: 25000, approver: 'sponsor', label: 'Sponsor' },\n    high: { threshold: 100000, approver: 'ccb', label: 'CCB' },\n    critical: { threshold: Infinity, approver: 'executive_board', label: 'Executive Board' }\n  },\n  schedule: {\n    low: { threshold: 5, approver: 'project_manager', label: 'Project Manager' },\n    medium: { threshold: 15, approver: 'sponsor', label: 'Sponsor' },\n    high: { threshold: 30, approver: 'ccb', label: 'CCB' },\n    critical: { threshold: Infinity, approver: 'executive_board', label: 'Executive Board' }\n  }\n};\n\nexport const getRequiredApprover = (costImpact, scheduleImpact) => {\n  let approver = 'project_manager';\n  let level = 'low';\n  \n  // Determinar por costo\n  if (costImpact >= CHANGE_AUTHORITY_MATRIX.cost.critical.threshold) {\n    approver = CHANGE_AUTHORITY_MATRIX.cost.critical.approver;\n    level = 'critical';\n  } else if (costImpact >= CHANGE_AUTHORITY_MATRIX.cost.high.threshold) {\n    approver = CHANGE_AUTHORITY_MATRIX.cost.high.approver;\n    level = 'high';\n  } else if (costImpact >= CHANGE_AUTHORITY_MATRIX.cost.medium.threshold) {\n    approver = CHANGE_AUTHORITY_MATRIX.cost.medium.approver;\n    level = 'medium';\n  }\n  \n  // Verificar si el cronograma requiere mayor autoridad\n  if (scheduleImpact >= CHANGE_AUTHORITY_MATRIX.schedule.critical.threshold) {\n    approver = CHANGE_AUTHORITY_MATRIX.schedule.critical.approver;\n    level = 'critical';\n  } else if (scheduleImpact >= CHANGE_AUTHORITY_MATRIX.schedule.high.threshold && level !== 'critical') {\n    approver = CHANGE_AUTHORITY_MATRIX.schedule.high.approver;\n    level = 'high';\n  } else if (scheduleImpact >= CHANGE_AUTHORITY_MATRIX.schedule.medium.threshold && level === 'low') {\n    approver = CHANGE_AUTHORITY_MATRIX.schedule.medium.approver;\n    level = 'medium';\n  }\n  \n  return { approver, level };\n};\n\nexport const CCB_MEMBERS = [\n  { id: 'pm', name: 'Project Manager', role: 'pm', required: true },\n  { id: 'tech', name: 'Technical Lead', role: 'tech', required: true },\n  { id: 'finance', name: 'Finance Manager', role: 'finance', required: false },\n  { id: 'quality', name: 'Quality Manager', role: 'quality', required: false },\n  { id: 'sponsor', name: 'Sponsor', role: 'sponsor', required: true }\n];\n","import React, { useState, useEffect } from 'react';\nimport { CCB_MEMBERS } from '../../utils/changeAuthority';\nimport { getFunctionalRoleLabel } from '../../constants/unifiedRoles';\n\nconst CCBPanel = ({ change, currentUserPermissions, onUpdateVotes }) => {\n  // Obtener el rol funcional del usuario actual\n  const userFunctionalRole = currentUserPermissions?.functionalRole;\n  \n  console.log(' Rol funcional del usuario en CCB:', userFunctionalRole);\n\n  const [votes, setVotes] = useState(\n    change.ccbVotes || CCB_MEMBERS.map(m => ({ ...m, vote: null, comments: '', votedAt: null }))\n  );\n\n  useEffect(() => {\n    if (change.ccbVotes) {\n      setVotes(change.ccbVotes);\n    }\n  }, [change.ccbVotes]);\n\n  // Verificar si el usuario actual puede votar como este rol\n  const canVoteAsRole = (roleKey) => {\n    if (!userFunctionalRole) return false;\n    \n    // Mapeo de roles funcionales a keys de CCB\n    const roleMapping = {\n      'executive': 'executive',\n      'sponsor': 'sponsor',\n      'project_manager': 'pm',\n      'finance_manager': 'finance',\n      'quality_manager': 'quality',\n      'technical_lead': 'tech'\n    };\n    \n    const mappedRole = roleMapping[userFunctionalRole];\n    return mappedRole === roleKey;\n  };\n\n  const handleVote = (memberId, voteType) => {\n    const updatedVotes = votes.map(v => \n      v.id === memberId \n        ? { ...v, vote: voteType, votedAt: new Date().toISOString() }\n        : v\n    );\n    setVotes(updatedVotes);\n    onUpdateVotes(updatedVotes);\n  };\n\n  const handleCommentChange = (memberId, comments) => {\n    const updatedVotes = votes.map(v => \n      v.id === memberId ? { ...v, comments } : v\n    );\n    setVotes(updatedVotes);\n  };\n\n  // Definir miembros CCB (objeto para el dashboard)\n  const ccbMembers = {\n    pm: { name: 'Project Manager', icon: '', required: true },\n    tech: { name: 'Technical Lead', icon: '', required: true },\n    finance: { name: 'Finance Manager', icon: '', required: false },\n    quality: { name: 'Quality Manager', icon: '', required: false },\n    sponsor: { name: 'Sponsor', icon: '', required: true }\n  };\n\n  // Calcular resultados de votacin en tiempo real\n  const calculateVotingResults = () => {\n    if (!votes || votes.length === 0) {\n      return {\n        totalMembers: Object.keys(ccbMembers).length,\n        votedCount: 0,\n        approveCount: 0,\n        rejectCount: 0,\n        abstainCount: 0,\n        quorumPercentage: 0,\n        approvePercentage: 0,\n        rejectPercentage: 0,\n        abstainPercentage: 0,\n        hasQuorum: false,\n        hasMajority: false,\n        result: 'pending'\n      };\n    }\n\n    const totalMembers = votes.length;\n    const votedMembers = votes.filter(v => v.vote).length;\n    const approveCount = votes.filter(v => v.vote === 'approve').length;\n    const rejectCount = votes.filter(v => v.vote === 'reject').length;\n    const abstainCount = votes.filter(v => v.vote === 'abstain').length;\n\n    const quorumPercentage = (votedMembers / totalMembers) * 100;\n    \n    // CORRECCIN: Calcular sobre TOTAL de miembros, no solo los que votaron\n    const approvePercentage = (approveCount / totalMembers) * 100;\n    const rejectPercentage = (rejectCount / totalMembers) * 100;\n    const abstainPercentage = (abstainCount / totalMembers) * 100;\n\n    const hasQuorum = quorumPercentage >= 60;\n    \n    // CRTICO: Solo puede haber mayora SI hay quorum\n    // Y la mayora debe ser > 50% del TOTAL, no de los votantes\n    const hasMajority = hasQuorum && approvePercentage > 50;\n\n    let result = 'pending';\n    if (votedMembers === totalMembers) {\n      // Solo cuando TODOS votaron, determinar resultado final\n      result = hasQuorum && hasMajority ? 'approved' : 'rejected';\n    }\n\n    return {\n      totalMembers,\n      votedCount: votedMembers,\n      approveCount,\n      rejectCount,\n      abstainCount,\n      quorumPercentage,\n      approvePercentage,\n      rejectPercentage,\n      abstainPercentage,\n      hasQuorum,\n      hasMajority,\n      result\n    };\n  };\n\n  const votingResults = calculateVotingResults();\n\n  const approvalCount = votes.filter(v => v.vote === 'approve').length;\n  const rejectionCount = votes.filter(v => v.vote === 'reject').length;\n  const requiredApprovals = votes.filter(v => v.required).length;\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 border border-gray-200\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-xl font-bold text-gray-800 flex items-center\">\n          <span className=\"text-2xl mr-2\"></span>\n          Comit de Control de Cambios (CCB)\n        </h3>\n        \n        {/* Indicador del rol del usuario */}\n        {userFunctionalRole && (\n          <div className=\"bg-blue-100 border border-blue-300 rounded-lg px-4 py-2\">\n            <div className=\"text-xs text-gray-600\">Tu rol en CCB:</div>\n            <div className=\"font-semibold text-blue-800\">\n              {getFunctionalRoleLabel(userFunctionalRole)}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      <p className=\"text-sm text-gray-600 mb-4\">\n        Votacin para aprobar o rechazar el cambio\n      </p>\n      \n      {/* Dashboard de Votacin en Tiempo Real */}\n      <div className=\"mb-6 bg-white rounded-xl p-6 border-2 border-indigo-300 shadow-lg\">\n        <h4 className=\"font-bold text-gray-800 mb-4 text-lg\"> Resultados en Tiempo Real</h4>\n        \n        {/* Contadores de votos */}\n        <div className=\"grid grid-cols-3 gap-4 mb-4\">\n          <div className=\"text-center p-4 bg-green-50 rounded-lg border border-green-200\">\n            <div className=\"text-3xl font-bold text-green-700\">{votingResults.approveCount}</div>\n            <div className=\"text-sm text-gray-600\"> Aprobar</div>\n            <div className=\"text-xs text-gray-500\">\n              {votingResults.approvePercentage.toFixed(1)}% del total\n            </div>\n          </div>\n          \n          <div className=\"text-center p-4 bg-red-50 rounded-lg border border-red-200\">\n            <div className=\"text-3xl font-bold text-red-700\">{votingResults.rejectCount}</div>\n            <div className=\"text-sm text-gray-600\"> Rechazar</div>\n            <div className=\"text-xs text-gray-500\">\n              {votingResults.rejectPercentage.toFixed(1)}% del total\n            </div>\n          </div>\n          \n          <div className=\"text-center p-4 bg-gray-50 rounded-lg border border-gray-200\">\n            <div className=\"text-3xl font-bold text-gray-700\">{votingResults.abstainCount}</div>\n            <div className=\"text-sm text-gray-600\"> Abstencin</div>\n            <div className=\"text-xs text-gray-500\">\n              {votingResults.abstainPercentage.toFixed(1)}% del total\n            </div>\n          </div>\n        </div>\n\n        {/* Barra de Participacin (Quorum) */}\n        <div className=\"space-y-4 mb-4\">\n          <div>\n            <div className=\"flex items-center justify-between text-sm mb-2\">\n              <span className=\"text-gray-700 font-medium\">\n                 Participacin (Mnimo: 60% para quorum)\n              </span>\n              <span className={`font-bold ${votingResults.hasQuorum ? 'text-green-600' : 'text-red-600'}`}>\n                {votingResults.votedCount}/{votingResults.totalMembers} miembros\n                ({votingResults.quorumPercentage.toFixed(1)}%)\n                {votingResults.hasQuorum ? ' ' : ' '}\n              </span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-4 relative\">\n              <div \n                className={`h-4 rounded-full transition-all ${votingResults.hasQuorum ? 'bg-green-500' : 'bg-red-500'}`}\n                style={{ width: `${votingResults.quorumPercentage}%` }}\n              />\n              {/* Lnea de quorum */}\n              <div className=\"absolute top-0 left-[60%] w-0.5 h-4 bg-gray-600\"></div>\n              <div className=\"absolute top-4 left-[60%] transform -translate-x-1/2 text-xs text-gray-600\">\n                60%\n              </div>\n            </div>\n          </div>\n\n          {/* Barra de Aprobacin (Mayora) */}\n          <div>\n            <div className=\"flex items-center justify-between text-sm mb-2\">\n              <span className=\"text-gray-700 font-medium\">\n                 Aprobacin (Mnimo: &gt;50% del total para aprobar)\n              </span>\n              <span className={`font-bold ${votingResults.hasMajority ? 'text-green-600' : 'text-gray-600'}`}>\n                {votingResults.approveCount}/{votingResults.totalMembers} aprueban\n                ({votingResults.approvePercentage.toFixed(1)}%)\n                {votingResults.hasMajority ? ' ' : ''}\n              </span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-4 relative\">\n              <div \n                className={`h-4 rounded-full transition-all ${\n                  votingResults.hasMajority ? 'bg-green-500' : \n                  votingResults.hasQuorum ? 'bg-yellow-500' : 'bg-gray-400'\n                }`}\n                style={{ width: `${votingResults.approvePercentage}%` }}\n              />\n              {/* Lnea de mayora */}\n              <div className=\"absolute top-0 left-[50%] w-0.5 h-4 bg-gray-600\"></div>\n              <div className=\"absolute top-4 left-[50%] transform -translate-x-1/2 text-xs text-gray-600\">\n                50%\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Explicacin del estado actual */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n          <div className=\"flex items-start space-x-2\">\n            <span className=\"text-blue-600 text-lg\"></span>\n            <div className=\"flex-1\">\n              <h5 className=\"font-semibold text-blue-800 text-sm mb-1\">\n                Estado Actual\n              </h5>\n              <div className=\"text-xs text-blue-700 space-y-1\">\n                {!votingResults.hasQuorum && (\n                  <p className=\"font-medium\">\n                     An no hay quorum. Se requiere que al menos {Math.ceil(votingResults.totalMembers * 0.6)} de {votingResults.totalMembers} miembros voten.\n                    Faltan {Math.ceil(votingResults.totalMembers * 0.6) - votingResults.votedCount} votos.\n                  </p>\n                )}\n                {votingResults.hasQuorum && !votingResults.hasMajority && (\n                  <p className=\"font-medium\">\n                     Hay quorum, pero NO hay mayora. Se requiere que ms de {Math.floor(votingResults.totalMembers / 2)} miembros aprueben.\n                    {votingResults.votedCount < votingResults.totalMembers && \n                      ` Faltan ${votingResults.totalMembers - votingResults.votedCount} votos por emitir.`\n                    }\n                  </p>\n                )}\n                {votingResults.hasMajority && (\n                  <p className=\"font-medium text-green-700\">\n                     Hay quorum Y mayora. El cambio ser aprobado.\n                    {votingResults.votedCount < votingResults.totalMembers && \n                      ` (Faltan ${votingResults.totalMembers - votingResults.votedCount} votos, pero ya se alcanz mayora)`\n                    }\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Resultado final (solo si todos votaron) */}\n        {votingResults.result !== 'pending' && (\n          <div className={`p-4 rounded-lg text-center font-bold text-lg ${\n            votingResults.result === 'approved' \n              ? 'bg-green-100 text-green-800 border-2 border-green-300' \n              : 'bg-red-100 text-red-800 border-2 border-red-300'\n          }`}>\n            {votingResults.result === 'approved' \n              ? ' CAMBIO APROBADO POR CCB' \n              : ' CAMBIO RECHAZADO POR CCB'\n            }\n            <div className=\"text-sm font-normal mt-2\">\n              Votacin completa: {votingResults.approveCount} a favor, {votingResults.rejectCount} en contra, {votingResults.abstainCount} abstenciones\n            </div>\n          </div>\n        )}\n\n        {/* Advertencia si falta quorum */}\n        {votingResults.votedCount > 0 && !votingResults.hasQuorum && (\n          <div className=\"mt-4 bg-yellow-50 border border-yellow-300 rounded-lg p-3 text-center\">\n            <p className=\"text-yellow-800 font-medium text-sm\">\n               Sin quorum, la votacin NO es vlida. Todos los miembros CCB deben participar.\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Nota informativa sobre reglas */}\n      <div className=\"mb-6 bg-gray-50 border border-gray-300 rounded-lg p-4\">\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-gray-600 text-lg\"></span>\n          <div className=\"flex-1\">\n            <h5 className=\"font-semibold text-gray-800 text-sm mb-2\">\n              Reglas de Votacin CCB\n            </h5>\n            <ul className=\"text-xs text-gray-700 space-y-1\">\n              <li> <strong>Quorum:</strong> Mnimo 60% de miembros deben votar ({Math.ceil(votingResults.totalMembers * 0.6)} de {votingResults.totalMembers})</li>\n              <li> <strong>Mayora:</strong> Ms del 50% del TOTAL de miembros deben aprobar (&gt;{Math.floor(votingResults.totalMembers / 2)} de {votingResults.totalMembers})</li>\n              <li> <strong>Resultado:</strong> Solo es vlido si hay quorum Y mayora</li>\n              <li> <strong>Importante:</strong> Los porcentajes se calculan sobre el total de miembros, no sobre los que ya votaron</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-3 mb-6\">\n        {votes.map(member => {\n          const userCanVote = canVoteAsRole(member.id);\n          \n          return (\n          <div key={member.id} className=\"border border-gray-200 rounded-lg p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <div>\n                <div className=\"font-semibold text-gray-800\">{member.name}</div>\n                <div className=\"text-sm text-gray-500\">\n                  {member.role} {member.required && <span className=\"text-red-500\">*</span>}\n                </div>\n              </div>\n              <div className=\"flex space-x-2\">\n                <button\n                  onClick={() => handleVote(member.id, 'approve')}\n                  disabled={!userCanVote}\n                  className={`px-4 py-2 rounded-lg transition-colors ${\n                    !userCanVote \n                      ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                      : member.vote === 'approve' \n                        ? 'bg-green-600 text-white' \n                        : 'bg-gray-100 text-gray-700 hover:bg-green-50'\n                  }`}\n                  title={!userCanVote ? 'No tienes este rol para votar' : 'Aprobar'}\n                >\n                   Aprobar\n                </button>\n                <button\n                  onClick={() => handleVote(member.id, 'reject')}\n                  disabled={!userCanVote}\n                  className={`px-4 py-2 rounded-lg transition-colors ${\n                    !userCanVote \n                      ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                      : member.vote === 'reject' \n                        ? 'bg-red-600 text-white' \n                        : 'bg-gray-100 text-gray-700 hover:bg-red-50'\n                  }`}\n                  title={!userCanVote ? 'No tienes este rol para votar' : 'Rechazar'}\n                >\n                   Rechazar\n                </button>\n              </div>\n            </div>\n            \n            {member.vote && (\n              <div className=\"mt-3\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Comentarios opcionales...\"\n                  value={member.comments || ''}\n                  onChange={(e) => handleCommentChange(member.id, e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\n                />\n                <div className=\"text-xs text-gray-500 mt-1\">\n                  Votado: {new Date(member.votedAt).toLocaleString()}\n                </div>\n              </div>\n            )}\n          </div>\n          );\n        })}\n      </div>\n      \n      <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200\">\n        <div className=\"grid grid-cols-3 gap-4 text-center\">\n          <div>\n            <div className=\"text-2xl font-bold text-green-600\">{approvalCount}</div>\n            <div className=\"text-xs text-gray-600\">A favor</div>\n          </div>\n          <div>\n            <div className=\"text-2xl font-bold text-red-600\">{rejectionCount}</div>\n            <div className=\"text-xs text-gray-600\">En contra</div>\n          </div>\n          <div>\n            <div className=\"text-2xl font-bold text-blue-600\">{requiredApprovals}</div>\n            <div className=\"text-xs text-gray-600\">Requeridos</div>\n          </div>\n        </div>\n        \n        {approvalCount >= requiredApprovals && (\n          <div className=\"mt-3 text-center text-sm font-medium text-green-600\">\n             Se alcanz el qurum de aprobacin\n          </div>\n        )}\n      </div>\n      \n      {/* Nota informativa */}\n      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4\">\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-yellow-600 text-lg\"></span>\n          <div>\n            <h4 className=\"font-semibold text-yellow-800 text-sm mb-1\">\n              Restriccin de Votacin\n            </h4>\n            <p className=\"text-xs text-yellow-700\">\n              Solo puedes votar con tu rol funcional asignado. Los dems roles estn deshabilitados para ti.\n              Si necesitas cambiar tu voto, contacta a un administrador.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CCBPanel;\n","import React from 'react';\nimport { calculateDetailedImpact } from '../../utils/changeHelpers';\n\nconst ImpactCard = ({ title, icon, value, color, details }) => (\n  <div className={`bg-gradient-to-br ${color} rounded-lg p-4 border`}>\n    <div className=\"flex items-center justify-between mb-3\">\n      <span className=\"text-2xl\">{icon}</span>\n      <div className=\"text-right\">\n        <div className=\"text-xs text-gray-600\">{title}</div>\n        <div className=\"text-2xl font-bold\">{value}</div>\n      </div>\n    </div>\n    {details && (\n      <div className=\"space-y-1 text-xs text-gray-700\">\n        {details.map((detail, i) => (\n          <div key={i}>{detail}</div>\n        ))}\n      </div>\n    )}\n  </div>\n);\n\nconst ImpactAnalysisPanel = ({ change, project }) => {\n  const analysis = calculateDetailedImpact(change, project);\n  \n  const getImpactColor = (score) => {\n    if (score < 20) return 'from-green-50 to-green-100 border-green-200';\n    if (score < 40) return 'from-yellow-50 to-yellow-100 border-yellow-200';\n    if (score < 60) return 'from-orange-50 to-orange-100 border-orange-200';\n    return 'from-red-50 to-red-100 border-red-200';\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 border border-gray-200\">\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center\">\n        <span className=\"text-2xl mr-2\"></span>\n        Anlisis de Impacto Detallado\n      </h3>\n      \n      {/* Triple Restriccin */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n        <ImpactCard\n          title=\"Impacto en Costo\"\n          icon=\"\"\n          value={`$${analysis.cost}K`}\n          color=\"from-emerald-50 to-emerald-100 border-emerald-200\"\n          details={[\n            `% del presupuesto: ${analysis.costPercentage}%`,\n            `Presupuesto restante: $${analysis.remainingBudget}K`\n          ]}\n        />\n        <ImpactCard\n          title=\"Impacto en Tiempo\"\n          icon=\"\"\n          value={`${analysis.schedule} das`}\n          color=\"from-blue-50 to-blue-100 border-blue-200\"\n          details={[\n            `% de retraso: ${analysis.delayPercentage}%`,\n            analysis.newEndDate ? `Nueva fecha: ${analysis.newEndDate}` : 'Sin cambio de fecha'\n          ]}\n        />\n        <ImpactCard\n          title=\"Impacto en Alcance\"\n          icon=\"\"\n          value={change.impactScope ? 'Alto' : 'Bajo'}\n          color=\"from-purple-50 to-purple-100 border-purple-200\"\n          details={[\n            `Entregables: ${analysis.affectedDeliverables}`,\n            `Complejidad: ${analysis.complexity}`\n          ]}\n        />\n      </div>\n      \n      {/* Otras reas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <div className=\"font-semibold text-gray-700 mb-2\"> Impacto en Calidad</div>\n          <div className=\"text-sm text-gray-600\">{change.impactQuality || 'Sin impacto especificado'}</div>\n        </div>\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <div className=\"font-semibold text-gray-700 mb-2\"> Impacto en Recursos</div>\n          <div className=\"text-sm text-gray-600\">{change.impactResources || 'Sin impacto especificado'}</div>\n        </div>\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <div className=\"font-semibold text-gray-700 mb-2\"> Impacto en Riesgos</div>\n          <div className=\"text-sm text-gray-600\">{analysis.risks}</div>\n        </div>\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <div className=\"font-semibold text-gray-700 mb-2\"> Impacto en Stakeholders</div>\n          <div className=\"text-sm text-gray-600\">{analysis.stakeholders}</div>\n        </div>\n      </div>\n      \n      {/* Puntuacin Total y Recomendacin */}\n      <div className={`rounded-lg p-4 border ${getImpactColor(analysis.totalImpactScore)}`}>\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"font-bold text-gray-800\">Puntuacin de Impacto Total</div>\n          <div className=\"text-3xl font-bold\">{analysis.totalImpactScore}</div>\n        </div>\n        <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\n          <div \n            className=\"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500\"\n            style={{ width: `${Math.min(100, analysis.totalImpactScore)}%` }}\n          />\n        </div>\n      </div>\n      \n      {/* Recomendacin del Sistema */}\n      <div className={`mt-4 p-4 rounded-lg border ${\n        analysis.recommendation === 'approve' \n          ? 'bg-green-50 border-green-200' \n          : analysis.recommendation === 'review'\n          ? 'bg-yellow-50 border-yellow-200'\n          : 'bg-red-50 border-red-200'\n      }`}>\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-2xl\">\n            {analysis.recommendation === 'approve' ? '' : analysis.recommendation === 'review' ? '' : ''}\n          </span>\n          <div>\n            <div className=\"font-bold text-gray-800 mb-1\">Recomendacin del Sistema</div>\n            <div className=\"text-sm text-gray-700\">{analysis.recommendationReason}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImpactAnalysisPanel;\n","import React, { useState } from 'react';\n\nconst ImpactAnalysisForm = ({ change, onComplete, onUpdateAlternatives }) => {\n  // Helper para formatear nmeros seguros\n  const formatNumber = (value, decimals = 1) => {\n    if (value === null || value === undefined || value === '') return '0';\n    const num = parseFloat(value);\n    return isNaN(num) ? '0' : num.toFixed(decimals);\n  };\n\n  const [analysis, setAnalysis] = useState({\n    costDetails: change.impactCost || '',\n    scheduleDetails: change.impactSchedule || '',\n    scopeDetails: change.impactScope || '',\n    qualityDetails: change.impactQuality || '',\n    resourcesDetails: change.impactResources || ''\n  });\n\n  const [alternatives, setAlternatives] = useState(change.alternatives || []);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newAlternative, setNewAlternative] = useState({\n    name: '',\n    description: '',\n    cost: '',\n    schedule: '',\n    pros: [''],\n    cons: ['']\n  });\n\n  const isComplete = () => {\n    const hasAllDetails = \n      analysis.costDetails &&\n      analysis.scheduleDetails &&\n      analysis.scopeDetails &&\n      analysis.qualityDetails &&\n      analysis.resourcesDetails;\n    \n    const hasEnoughAlternatives = alternatives.length >= 3;\n    \n    return hasAllDetails && hasEnoughAlternatives;\n  };\n\n  const handleAddAlternative = () => {\n    if (!newAlternative.name || !newAlternative.description) {\n      alert(' Completa nombre y descripcin de la alternativa');\n      return;\n    }\n\n    const alt = {\n      ...newAlternative,\n      id: `alt-${Date.now()}`,\n      addedAt: new Date().toISOString()\n    };\n\n    const updatedAlternatives = [...alternatives, alt];\n    setAlternatives(updatedAlternatives);\n    onUpdateAlternatives(updatedAlternatives);\n\n    setNewAlternative({\n      name: '',\n      description: '',\n      cost: '',\n      schedule: '',\n      pros: [''],\n      cons: ['']\n    });\n    setShowAddForm(false);\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-200\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h3 className=\"text-xl font-bold text-gray-800 flex items-center space-x-2\">\n            <span className=\"text-2xl\"></span>\n            <span>Anlisis de Impacto Completo</span>\n          </h3>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Completa todas las secciones y agrega mnimo 3 alternativas\n          </p>\n        </div>\n        \n        {isComplete() ? (\n          <button\n            onClick={onComplete}\n            className=\"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold shadow-lg animate-pulse\"\n          >\n             Completar Anlisis\n          </button>\n        ) : (\n          <div className=\"text-sm text-gray-500 text-right\">\n            <div className=\"font-semibold\">Pendiente:</div>\n            <div>{alternatives.length}/3 alternativas</div>\n          </div>\n        )}\n      </div>\n\n      {/* Anlisis de 5 reas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n             Impacto en Costos (Detalle)\n          </label>\n          <textarea\n            value={analysis.costDetails}\n            onChange={(e) => setAnalysis({...analysis, costDetails: e.target.value})}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500\"\n            placeholder=\"Describe el impacto detallado en costos...\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n             Impacto en Cronograma (Detalle)\n          </label>\n          <textarea\n            value={analysis.scheduleDetails}\n            onChange={(e) => setAnalysis({...analysis, scheduleDetails: e.target.value})}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500\"\n            placeholder=\"Describe el impacto detallado en cronograma...\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n             Impacto en Alcance (Detalle)\n          </label>\n          <textarea\n            value={analysis.scopeDetails}\n            onChange={(e) => setAnalysis({...analysis, scopeDetails: e.target.value})}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500\"\n            placeholder=\"Describe el impacto detallado en alcance...\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n             Impacto en Calidad (Detalle)\n          </label>\n          <textarea\n            value={analysis.qualityDetails}\n            onChange={(e) => setAnalysis({...analysis, qualityDetails: e.target.value})}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500\"\n            placeholder=\"Describe el impacto detallado en calidad...\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n             Impacto en Recursos (Detalle)\n          </label>\n          <textarea\n            value={analysis.resourcesDetails}\n            onChange={(e) => setAnalysis({...analysis, resourcesDetails: e.target.value})}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500\"\n            placeholder=\"Describe el impacto detallado en recursos humanos y materiales...\"\n          />\n        </div>\n      </div>\n\n      {/* Alternativas */}\n      <div className=\"border-t pt-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h4 className=\"font-semibold text-gray-800\">\n             Alternativas ({alternatives.length}/3 mnimo)\n          </h4>\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\n          >\n             Agregar Alternativa\n          </button>\n        </div>\n\n        {/* Lista de alternativas */}\n        <div className=\"space-y-4\">\n          {alternatives.map((alt, index) => (\n            <div key={alt.id || index} className=\"bg-white rounded-lg p-4 border border-gray-200\">\n              <h5 className=\"font-semibold text-gray-800 mb-2\">\n                Opcin {index + 1}: {alt.name}\n              </h5>\n              <p className=\"text-sm text-gray-600 mb-3\">{alt.description}</p>\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-gray-500\"> Costo:</span>\n                  <div className=\"font-medium\">${formatNumber(alt.cost)}K</div>\n                </div>\n                <div>\n                  <span className=\"text-gray-500\"> Tiempo:</span>\n                  <div className=\"font-medium\">{formatNumber(alt.schedule, 0)} das</div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Formulario agregar alternativa */}\n        {showAddForm && (\n          <div className=\"mt-4 bg-white rounded-lg p-6 border-2 border-blue-300\">\n            <h5 className=\"font-semibold text-gray-800 mb-4\">Nueva Alternativa</h5>\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                value={newAlternative.name}\n                onChange={(e) => setNewAlternative({...newAlternative, name: e.target.value})}\n                placeholder=\"Nombre de la alternativa\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\n              />\n              <textarea\n                value={newAlternative.description}\n                onChange={(e) => setNewAlternative({...newAlternative, description: e.target.value})}\n                placeholder=\"Descripcin detallada\"\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\n              />\n              <div className=\"grid grid-cols-2 gap-4\">\n                <input\n                  type=\"number\"\n                  value={newAlternative.cost}\n                  onChange={(e) => setNewAlternative({...newAlternative, cost: e.target.value})}\n                  placeholder=\"Costo (K)\"\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg\"\n                />\n                <input\n                  type=\"number\"\n                  value={newAlternative.schedule}\n                  onChange={(e) => setNewAlternative({...newAlternative, schedule: e.target.value})}\n                  placeholder=\"Tiempo (das)\"\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg\"\n                />\n              </div>\n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={handleAddAlternative}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\n                >\n                   Agregar\n                </button>\n                <button\n                  onClick={() => setShowAddForm(false)}\n                  className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n                >\n                  Cancelar\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Nota informativa */}\n      <div className=\"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-yellow-600 text-lg\"></span>\n          <div className=\"flex-1\">\n            <h5 className=\"font-semibold text-yellow-800 text-sm mb-1\">\n              Requerimientos del Anlisis\n            </h5>\n            <ul className=\"text-xs text-yellow-700 space-y-1\">\n              <li> Completa el anlisis detallado de las 5 reas de impacto</li>\n              <li> Agrega mnimo 3 alternativas (incluyendo \"No hacer nada\" si aplica)</li>\n              <li> Una vez completo, el botn \"Completar Anlisis\" se habilitar</li>\n              <li> El cambio pasar a estado \"Listo para Revisin\"</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImpactAnalysisForm;\n\n","import React, { useState } from 'react';\n\nconst AlternativesPanel = ({ change, onUpdateAlternatives, currentUserPermissions, onSelectAlternative, canSelect }) => {\n  // Helper para formatear nmeros seguros\n  const formatNumber = (value, decimals = 1) => {\n    if (value === null || value === undefined || value === '') return '0';\n    const num = parseFloat(value);\n    return isNaN(num) ? '0' : num.toFixed(decimals);\n  };\n\n  const [alternatives, setAlternatives] = useState(\n    change.alternatives || [\n      { \n        id: 1, \n        name: 'No hacer nada (Status Quo)', \n        cost: 0, \n        schedule: 0, \n        pros: ['Sin costos adicionales', 'Sin retrasos'],\n        cons: ['Problema sin resolver', 'Riesgo de escalamiento']\n      },\n      { \n        id: 2, \n        name: 'Implementar cambio completo', \n        cost: parseFloat(change.impactCost) || 0, \n        schedule: parseFloat(change.impactSchedule) || 0,\n        pros: ['Solucin completa', 'Satisface todos los requisitos'],\n        cons: ['Costo elevado', 'Mayor tiempo de implementacin']\n      },\n      { \n        id: 3, \n        name: 'Solucin parcial / Iterativa', \n        cost: (parseFloat(change.impactCost) || 0) * 0.6, \n        schedule: (parseFloat(change.impactSchedule) || 0) * 0.5,\n        pros: ['Menor impacto inicial', 'Ms flexible'],\n        cons: ['Solucin incompleta', 'Puede requerir cambios futuros']\n      }\n    ]\n  );\n\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newAlt, setNewAlt] = useState({ name: '', cost: 0, schedule: 0, pros: '', cons: '' });\n\n  // Verificar si el usuario puede SELECCIONAR alternativas\n  const canSelectAlternative = () => {\n    // Solo aprobadores pueden seleccionar alternativas\n    if (!currentUserPermissions) return false;\n    \n    const userRole = currentUserPermissions.functionalRole;\n    const requiredApprover = change.requiredApprover;\n    \n    // Si requiere CCB, solo miembros CCB pueden seleccionar\n    if (requiredApprover === 'ccb' || requiredApprover === 'executive_board') {\n      const ccbRoles = ['executive', 'sponsor', 'project_manager', 'finance_manager', 'quality_manager', 'technical_lead'];\n      return ccbRoles.includes(userRole);\n    }\n    \n    // Si requiere Sponsor, solo Sponsor o superior\n    if (requiredApprover === 'sponsor') {\n      return ['executive', 'sponsor'].includes(userRole);\n    }\n    \n    // Si requiere PM, PM o superior\n    if (requiredApprover === 'project_manager') {\n      return ['executive', 'sponsor', 'project_manager'].includes(userRole);\n    }\n    \n    return false;\n  };\n\n  // Verificar si el usuario puede EDITAR/AGREGAR alternativas\n  const canEditAlternatives = () => {\n    // PM, Technical Lead, y superiores pueden agregar/editar alternativas\n    const userRole = currentUserPermissions?.functionalRole;\n    return ['executive', 'sponsor', 'project_manager', 'technical_lead', 'pmo_assistant'].includes(userRole);\n  };\n\n  const handleAddAlternative = () => {\n    const alt = {\n      id: alternatives.length + 1,\n      name: newAlt.name,\n      cost: parseFloat(newAlt.cost) || 0,\n      schedule: parseFloat(newAlt.schedule) || 0,\n      pros: newAlt.pros.split('\\n').filter(p => p.trim()),\n      cons: newAlt.cons.split('\\n').filter(c => c.trim()),\n      selected: false\n    };\n    \n    const updated = [...alternatives, alt];\n    setAlternatives(updated);\n    onUpdateAlternatives(updated);\n    setNewAlt({ name: '', cost: 0, schedule: 0, pros: '', cons: '' });\n    setShowAddForm(false);\n  };\n\n  const handleSelectAlternative = (index) => {\n    if (onSelectAlternative) {\n      onSelectAlternative(index);\n    } else {\n      // Fallback: actualizar localmente\n      const updated = alternatives.map((alt, i) => ({\n        ...alt,\n        selected: i === index\n      }));\n      setAlternatives(updated);\n      onUpdateAlternatives(updated);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl p-6 border border-gray-200\">\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center\">\n        <span className=\"text-2xl mr-2\"></span>\n        Anlisis de Alternativas\n      </h3>\n      \n      <div className=\"space-y-4 mb-4\">\n        {alternatives.map((alt, index) => (\n          <div key={alt.id} className=\"border-2 border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-gray-800 text-lg mb-1\">\n                  Opcin {index + 1}: {alt.name}\n                </div>\n                <div className=\"flex space-x-4 text-sm text-gray-600\">\n                  <span> Costo: ${formatNumber(alt.cost)}K</span>\n                  <span> Tiempo: {formatNumber(alt.schedule, 0)} das</span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3\">\n              <div className=\"bg-green-50 rounded-lg p-3\">\n                <div className=\"text-sm font-semibold text-green-700 mb-2 flex items-center\">\n                  <span className=\"mr-1\"></span> Ventajas\n                </div>\n                <ul className=\"text-sm space-y-1 text-gray-700\">\n                  {alt.pros.map((pro, i) => (\n                    <li key={i} className=\"flex items-start\">\n                      <span className=\"mr-1\"></span>\n                      <span>{pro}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n              <div className=\"bg-red-50 rounded-lg p-3\">\n                <div className=\"text-sm font-semibold text-red-700 mb-2 flex items-center\">\n                  <span className=\"mr-1\"></span> Desventajas\n                </div>\n                <ul className=\"text-sm space-y-1 text-gray-700\">\n                  {alt.cons.map((con, i) => (\n                    <li key={i} className=\"flex items-start\">\n                      <span className=\"mr-1\"></span>\n                      <span>{con}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n            \n            {/* Botn de seleccin */}\n            {canSelect && (\n              <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                {canSelectAlternative() ? (\n                  <button\n                    onClick={() => handleSelectAlternative(index)}\n                    disabled={alt.selected}\n                    className={`w-full px-4 py-2 rounded-lg transition-colors text-sm font-medium ${\n                      alt.selected\n                        ? 'bg-green-100 text-green-800 cursor-default border-2 border-green-300'\n                        : 'bg-blue-600 text-white hover:bg-blue-700'\n                    }`}\n                  >\n                    {alt.selected ? ' Seleccionada' : ' Seleccionar esta alternativa'}\n                  </button>\n                ) : (\n                  <div className=\"bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm text-center\">\n                     Solo los aprobadores pueden seleccionar alternativas\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {/* Mostrar si ya est seleccionada */}\n            {!canSelect && alt.selected && (\n              <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                <div className=\"bg-green-100 text-green-800 px-4 py-2 rounded-lg text-sm text-center font-medium border-2 border-green-300\">\n                   Esta es la alternativa seleccionada\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      \n      {canEditAlternatives() ? (\n        !showAddForm ? (\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors text-gray-600 hover:text-purple-700 font-medium\"\n          >\n             Agregar Alternativa\n          </button>\n        ) : (\n        <div className=\"border-2 border-purple-300 rounded-lg p-4 bg-purple-50\">\n          <h4 className=\"font-semibold text-gray-800 mb-3\">Nueva Alternativa</h4>\n          <div className=\"space-y-3\">\n            <input\n              type=\"text\"\n              placeholder=\"Nombre de la alternativa\"\n              value={newAlt.name}\n              onChange={(e) => setNewAlt({...newAlt, name: e.target.value})}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n            />\n            <div className=\"grid grid-cols-2 gap-3\">\n              <input\n                type=\"number\"\n                placeholder=\"Costo (K)\"\n                value={newAlt.cost}\n                onChange={(e) => setNewAlt({...newAlt, cost: e.target.value})}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg\"\n              />\n              <input\n                type=\"number\"\n                placeholder=\"Tiempo (das)\"\n                value={newAlt.schedule}\n                onChange={(e) => setNewAlt({...newAlt, schedule: e.target.value})}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg\"\n              />\n            </div>\n            <textarea\n              placeholder=\"Ventajas (una por lnea)\"\n              value={newAlt.pros}\n              onChange={(e) => setNewAlt({...newAlt, pros: e.target.value})}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n            />\n            <textarea\n              placeholder=\"Desventajas (una por lnea)\"\n              value={newAlt.cons}\n              onChange={(e) => setNewAlt({...newAlt, cons: e.target.value})}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n            />\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={handleAddAlternative}\n                className=\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\"\n              >\n                Agregar\n              </button>\n              <button\n                onClick={() => setShowAddForm(false)}\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n        )\n      ) : (\n        <div className=\"border-2 border-gray-300 rounded-lg p-4 bg-gray-50 text-center\">\n          <p className=\"text-sm text-gray-500 italic\">\n             Solo el equipo de proyecto puede agregar alternativas\n          </p>\n        </div>\n      )}\n      \n      {/* Nota informativa */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4\">\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-blue-600 text-lg\"></span>\n          <div className=\"flex-1\">\n            <h4 className=\"font-semibold text-blue-800 text-sm mb-1\">\n              Proceso de Alternativas\n            </h4>\n            <ul className=\"text-xs text-blue-700 space-y-1\">\n              <li> <strong>Equipo de proyecto:</strong> Puede agregar y analizar alternativas</li>\n              <li> <strong>Aprobadores/CCB:</strong> Seleccionan cul alternativa implementar</li>\n              <li> La alternativa seleccionada ser la que se implemente si se aprueba el cambio</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AlternativesPanel;\n","import React from 'react';\n\nconst AlternativeSelectionPanel = ({ change, onSelectAlternative }) => {\n  // Helper para formatear nmeros seguros\n  const formatNumber = (value, decimals = 1) => {\n    if (value === null || value === undefined || value === '') return '0';\n    const num = parseFloat(value);\n    return isNaN(num) ? '0' : num.toFixed(decimals);\n  };\n\n  if (!change.alternatives || change.alternatives.length === 0) {\n    return (\n      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n        <p className=\"text-yellow-800\">\n           No hay alternativas registradas para este cambio.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-xl font-bold text-gray-800 flex items-center space-x-2\">\n          <span className=\"text-2xl\"></span>\n          <span>Seleccionar Alternativa a Implementar</span>\n        </h3>\n        <p className=\"text-sm text-gray-600 mt-1\">\n          El cambio ha sido aprobado. Selecciona cul alternativa se implementar.\n        </p>\n      </div>\n\n      <div className=\"space-y-4\">\n        {change.alternatives.map((alt, index) => (\n          <div \n            key={alt.id || index}\n            className={`bg-white rounded-lg p-6 border-2 transition-all ${\n              change.selectedAlternative === index\n                ? 'border-green-500 bg-green-50'\n                : 'border-gray-200 hover:border-emerald-300 hover:shadow-md'\n            }`}\n          >\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"flex-1\">\n                <h4 className=\"font-bold text-gray-800 text-lg mb-2\">\n                  Opcin {index + 1}: {alt.name}\n                </h4>\n                <p className=\"text-gray-600 mb-4\">{alt.description}</p>\n                \n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <span className=\"text-sm text-gray-500\"> Costo:</span>\n                    <div className=\"font-semibold text-gray-800\">${formatNumber(alt.cost)}K</div>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-gray-500\"> Tiempo:</span>\n                    <div className=\"font-semibold text-gray-800\">{formatNumber(alt.schedule, 0)} das</div>\n                  </div>\n                </div>\n\n                {alt.pros && alt.pros.length > 0 && (\n                  <div className=\"mb-3\">\n                    <div className=\"text-sm font-semibold text-green-700 mb-1\"> Ventajas:</div>\n                    <ul className=\"text-sm text-gray-600 space-y-1\">\n                      {alt.pros.map((pro, i) => (\n                        <li key={i}> {pro}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {alt.cons && alt.cons.length > 0 && (\n                  <div>\n                    <div className=\"text-sm font-semibold text-red-700 mb-1\"> Desventajas:</div>\n                    <ul className=\"text-sm text-gray-600 space-y-1\">\n                      {alt.cons.map((con, i) => (\n                        <li key={i}> {con}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n\n              <button\n                onClick={() => onSelectAlternative(index)}\n                disabled={change.selectedAlternative === index}\n                className={`ml-4 px-6 py-3 rounded-lg font-semibold transition-all ${\n                  change.selectedAlternative === index\n                    ? 'bg-green-600 text-white cursor-default'\n                    : 'bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-lg'\n                }`}\n              >\n                {change.selectedAlternative === index ? ' Seleccionada' : ' Seleccionar'}\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start space-x-2\">\n          <span className=\"text-blue-600 text-lg\"></span>\n          <div className=\"flex-1\">\n            <h5 className=\"font-semibold text-blue-800 text-sm mb-1\">\n              Siguiente Paso\n            </h5>\n            <p className=\"text-xs text-blue-700\">\n              Una vez seleccionada la alternativa, el cambio pasar automticamente a estado \"Implementando\" \n              y se podr iniciar la ejecucin del cambio aprobado.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AlternativeSelectionPanel;\n\n","import React, { useMemo } from 'react';\nimport { \n  calculateAvgProcessingTime, \n  getTopCategories, \n  calculateProcessEfficiency \n} from '../../utils/changeHelpers';\n\nconst MetricCard = ({ title, value, icon, description, trend }) => (\n  <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n    <div className=\"flex items-center justify-between mb-2\">\n      <span className=\"text-3xl\">{icon}</span>\n      {trend && (\n        <span className={`text-sm font-medium ${trend > 0 ? 'text-green-600' : 'text-red-600'}`}>\n          {trend > 0 ? '' : ''} {Math.abs(trend)}%\n        </span>\n      )}\n    </div>\n    <div className=\"text-3xl font-bold text-gray-800 mb-1\">{value}</div>\n    <div className=\"text-sm font-medium text-gray-600 mb-1\">{title}</div>\n    {description && <div className=\"text-xs text-gray-500\">{description}</div>}\n  </div>\n);\n\nconst ChangeMetricsDashboard = ({ changes }) => {\n  const metrics = useMemo(() => {\n    const totalChanges = changes.length;\n    const approvedChanges = changes.filter(c => c.status === 'approved' || c.status === 'implemented').length;\n    const approvalRate = totalChanges > 0 ? (approvedChanges / totalChanges) * 100 : 0;\n    \n    return {\n      avgProcessingTime: calculateAvgProcessingTime(changes),\n      approvalRate: approvalRate.toFixed(1),\n      topCategories: getTopCategories(changes),\n      efficiency: calculateProcessEfficiency(changes),\n      totalChanges,\n      pendingReview: changes.filter(c => c.status === 'underReview').length\n    };\n  }, [changes]);\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n      <MetricCard\n        title=\"Tiempo Promedio\"\n        value={`${metrics.avgProcessingTime} das`}\n        icon=\"\"\n        description=\"De solicitud a decisin\"\n      />\n      <MetricCard\n        title=\"Tasa de Aprobacin\"\n        value={`${metrics.approvalRate}%`}\n        icon=\"\"\n        description=\"Cambios aprobados/total\"\n      />\n      <MetricCard\n        title=\"Eficiencia\"\n        value={`${metrics.efficiency}%`}\n        icon=\"\"\n        description=\"Implementados a tiempo\"\n      />\n      <MetricCard\n        title=\"En Revisin\"\n        value={metrics.pendingReview}\n        icon=\"\"\n        description=\"Requieren atencin\"\n      />\n    </div>\n  );\n};\n\nexport default ChangeMetricsDashboard;\n","import React, { useState, useMemo, useEffect } from 'react';\nimport useAuditLog from '../hooks/useAuditLog';\nimport useChangeIntegration from '../hooks/useChangeIntegration';\nimport useChangeManagement from '../hooks/useChangeManagement';\nimport subscriptionService from '../services/SubscriptionService';\nimport { getRequiredApprover } from '../utils/changeAuthority';\nimport { getFunctionalRoleLabel } from '../constants/unifiedRoles';\nimport CCBPanel from './change-management/CCBPanel';\nimport ImpactAnalysisPanel from './change-management/ImpactAnalysisPanel';\nimport ImpactAnalysisForm from './change-management/ImpactAnalysisForm';\nimport AlternativesPanel from './change-management/AlternativesPanel';\nimport AlternativeSelectionPanel from './change-management/AlternativeSelectionPanel';\nimport ChangeMetricsDashboard from './change-management/ChangeMetricsDashboard';\n\nconst ChangeManagement = ({ \n  currentProjectId,\n  projects,\n  workPackages,\n  tasks,\n  purchaseOrders,\n  advances,\n  invoices,\n  contracts,\n  onUpdateProject\n}) => {\n  const [changes, setChanges] = useState([]);\n  const [showChangeForm, setShowChangeForm] = useState(false);\n  const [editingChange, setEditingChange] = useState(null);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [filterPriority, setFilterPriority] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showChangeDetails, setShowChangeDetails] = useState(null);\n  const [showCCBPanel, setShowCCBPanel] = useState(false);\n  const [showImpactAnalysis, setShowImpactAnalysis] = useState(false);\n  const [showAlternatives, setShowAlternatives] = useState(false);\n  const [isReadOnlyMode, setIsReadOnlyMode] = useState(false);\n\n  const { addAuditEvent } = useAuditLog(currentProjectId);\n  const { applyChangeToProject } = useChangeIntegration(currentProjectId, onUpdateProject);\n\n  // Hook para permisos y gestin de usuarios\n  const {\n    permissions,\n    permissionsLoading,\n    canCreate,\n    canApprove,\n    canReject,\n    canImplement,\n    canVoteInCCB,\n    canAssign,\n    getCurrentUserInfo,\n    enrichChangeWithUser,\n    notifyAssignment,\n    notifyApproval,\n    notifyCCBMembers,\n    notifyStatusChange,\n    processing: notificationProcessing\n  } = useChangeManagement(currentProjectId);\n\n  // Obtener proyecto actual\n  const currentProject = useMemo(() =>\n    projects?.find(p => p.id === currentProjectId),\n    [projects, currentProjectId]\n  );\n\n  // Verificar modo read-only al cargar\n  useEffect(() => {\n    const checkReadOnlyMode = async () => {\n      if (currentProject?.organizationId) {\n        try {\n          const editPermission = await subscriptionService.canEdit(currentProject.organizationId);\n          setIsReadOnlyMode(!editPermission.allowed);\n        } catch (error) {\n          console.error('[READ-ONLY MODE] Error verificando permisos:', error);\n          setIsReadOnlyMode(false);\n        }\n      }\n    };\n    checkReadOnlyMode();\n  }, [currentProject?.organizationId]);\n\n  // Verificar que haya proyecto seleccionado\n  useEffect(() => {\n    if (!currentProjectId) {\n      console.warn(' No hay proyecto seleccionado para Control de Cambios');\n    }\n  }, [currentProjectId]);\n\n  // Estados para el formulario de cambio\n  const [changeForm, setChangeForm] = useState({\n    title: '',\n    description: '',\n    justification: '',\n    impactScope: '',\n    impactSchedule: '',\n    impactCost: '',\n    impactQuality: '',\n    impactResources: '',\n    priority: 'medium',\n    category: 'scope',\n    requestedBy: '',\n    requestedDate: new Date().toISOString().split('T')[0],\n    expectedImplementationDate: '',\n    attachments: [],\n    stakeholders: []\n  });\n\n  // Handler genrico para cambios en el formulario\n  const handleFormChange = (field, value) => {\n    setChangeForm(prev => ({ ...prev, [field]: value }));\n  };\n\n  // Cargar cambios desde localStorage\n  useEffect(() => {\n    if (!currentProjectId) {\n      console.warn('No hay proyecto activo, no se pueden cargar cambios');\n      setChanges([]);\n      return;\n    }\n\n    const savedChanges = localStorage.getItem(`project-changes-${currentProjectId}`);\n    if (savedChanges) {\n      try {\n        const parsedChanges = JSON.parse(savedChanges);\n        setChanges(Array.isArray(parsedChanges) ? parsedChanges : []);\n      } catch (error) {\n        console.error('Error parseando cambios guardados:', error);\n        setChanges([]);\n      }\n    } else {\n      setChanges([]);\n    }\n  }, [currentProjectId]);\n\n  // Guardar cambios en localStorage\n  const saveChanges = (changesList) => {\n    if (!currentProjectId) {\n      console.warn('No hay proyecto activo, no se pueden guardar cambios');\n      return;\n    }\n    \n    try {\n      localStorage.setItem(`project-changes-${currentProjectId}`, JSON.stringify(changesList));\n    } catch (error) {\n      console.error('Error guardando cambios:', error);\n    }\n  };\n\n  // Categoras de cambios segn PMBOK v7\n  const changeCategories = {\n    scope: { label: 'Alcance', icon: '', color: 'bg-blue-100 text-blue-800' },\n    schedule: { label: 'Cronograma', icon: '', color: 'bg-green-100 text-green-800' },\n    cost: { label: 'Costos', icon: '', color: 'bg-yellow-100 text-yellow-800' },\n    quality: { label: 'Calidad', icon: '', color: 'bg-purple-100 text-purple-800' },\n    resources: { label: 'Recursos', icon: '', color: 'bg-indigo-100 text-indigo-800' },\n    risk: { label: 'Riesgos', icon: '', color: 'bg-red-100 text-red-800' },\n    procurement: { label: 'Adquisiciones', icon: '', color: 'bg-orange-100 text-orange-800' },\n    communication: { label: 'Comunicaciones', icon: '', color: 'bg-teal-100 text-teal-800' }\n  };\n\n  // Estados de cambio segn PMBOK v7 - Workflow mejorado\n  const changeStatuses = {\n    submitted: { label: 'Solicitado', icon: '', color: 'bg-blue-100 text-blue-800' },\n    impactAnalysis: { label: 'Anlisis de Impacto', icon: '', color: 'bg-cyan-100 text-cyan-800' },\n    readyForReview: { label: 'Listo para Revisin', icon: '', color: 'bg-green-100 text-green-800' },\n    underReview: { label: 'En Revisin CCB', icon: '', color: 'bg-indigo-100 text-indigo-800' },\n    approved: { label: 'Aprobado - Seleccionar Alternativa', icon: '', color: 'bg-emerald-100 text-emerald-800' },\n    implementing: { label: 'Implementando', icon: '', color: 'bg-purple-100 text-purple-800' },\n    implemented: { label: 'Implementado', icon: '', color: 'bg-green-100 text-green-800' },\n    rejected: { label: 'Rechazado', icon: '', color: 'bg-red-100 text-red-800' },\n    cancelled: { label: 'Cancelado', icon: '', color: 'bg-gray-100 text-gray-600' }\n  };\n\n  // Prioridades de cambio\n  const changePriorities = {\n    low: { label: 'Baja', icon: '', color: 'bg-green-100 text-green-800' },\n    medium: { label: 'Media', icon: '', color: 'bg-yellow-100 text-yellow-800' },\n    high: { label: 'Alta', icon: '', color: 'bg-orange-100 text-orange-800' },\n    critical: { label: 'Crtica', icon: '', color: 'bg-red-100 text-red-800' }\n  };\n\n  // Filtrar cambios\n  const filteredChanges = useMemo(() => {\n    let filtered = changes;\n    \n    if (filterStatus !== 'all') {\n      filtered = filtered.filter(change => change.status === filterStatus);\n    }\n    \n    if (filterPriority !== 'all') {\n      filtered = filtered.filter(change => change.priority === filterPriority);\n    }\n    \n    if (searchTerm) {\n      filtered = filtered.filter(change => \n        change.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        change.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        change.requestedBy.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    \n    return filtered.sort((a, b) => new Date(b.requestedDate) - new Date(a.requestedDate));\n  }, [changes, filterStatus, filterPriority, searchTerm]);\n\n  // Calcular mtricas de cambios\n  const changeMetrics = useMemo(() => {\n    const totalChanges = changes.length;\n    const pendingChanges = changes.filter(c => \n      ['submitted', 'initialReview', 'impactAnalysis', 'underReview', 'approvalPending'].includes(c.status)\n    ).length;\n    const approvedChanges = changes.filter(c => c.status === 'approved').length;\n    const implementedChanges = changes.filter(c => c.status === 'implemented').length;\n    const rejectedChanges = changes.filter(c => c.status === 'rejected').length;\n    \n    // Calcular impacto total en costos\n    const totalCostImpact = changes\n      .filter(c => c.status === 'approved' || c.status === 'implemented')\n      .reduce((sum, c) => sum + (parseFloat(c.impactCost) || 0), 0);\n    \n    // Calcular impacto total en cronograma (das)\n    const totalScheduleImpact = changes\n      .filter(c => c.status === 'approved' || c.status === 'implemented')\n      .reduce((sum, c) => sum + (parseFloat(c.impactSchedule) || 0), 0);\n    \n    return {\n      totalChanges,\n      pendingChanges,\n      approvedChanges,\n      implementedChanges,\n      rejectedChanges,\n      totalCostImpact,\n      totalScheduleImpact\n    };\n  }, [changes]);\n\n  // Crear nuevo cambio\n  const handleCreateChange = () => {\n    // Validar permisos\n    if (!canCreate()) {\n      alert('No tienes permisos para crear cambios');\n      return;\n    }\n\n    const costImpact = parseFloat(changeForm.impactCost) || 0;\n    const scheduleImpact = parseFloat(changeForm.impactSchedule) || 0;\n    const { approver, level } = getRequiredApprover(costImpact, scheduleImpact);\n    \n    // Enriquecer con informacin del usuario\n    const enrichedForm = enrichChangeWithUser(changeForm);\n    \n    // Determinar estado inicial\n    const needsAnalysis = costImpact >= 25000 || scheduleImpact >= 15;\n    const initialStatus = needsAnalysis ? 'impactAnalysis' : 'readyForReview';\n    \n    const newChange = {\n      id: `change-${Date.now()}`,\n      projectId: currentProjectId,\n      projectName: currentProject?.name || 'Sin nombre',\n      ...enrichedForm,\n      status: initialStatus,\n      requiredApprover: approver,\n      authorityLevel: level,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      changeNumber: `CHG-${String(changes.length + 1).padStart(6, '0')}`,\n      ccbVotes: null,\n      alternatives: null,\n      impactAnalysisComplete: false,\n      selectedAlternative: null\n    };\n    \n    const updatedChanges = [newChange, ...changes];\n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n    \n    // Registrar en audit log\n    addAuditEvent('change_management', 'change_created', {\n      changeId: newChange.id,\n      changeTitle: newChange.title,\n      changeNumber: newChange.changeNumber,\n      createdBy: newChange.createdBy?.userName,\n      requiredApprover: approver,\n      needsAnalysis\n    });\n    \n    // Resetear formulario\n    setChangeForm({\n      title: '',\n      description: '',\n      justification: '',\n      impactScope: '',\n      impactSchedule: '',\n      impactCost: '',\n      impactQuality: '',\n      impactResources: '',\n      priority: 'medium',\n      category: 'scope',\n      requestedBy: '',\n      requestedDate: new Date().toISOString().split('T')[0],\n      expectedImplementationDate: '',\n      attachments: [],\n      stakeholders: []\n    });\n    \n    setShowChangeForm(false);\n    \n    // Mostrar mensaje segn el tipo\n    if (needsAnalysis) {\n      alert(` Cambio creado. Requiere anlisis de impacto completo antes de la revisin.`);\n    } else {\n      alert(` Cambio creado. Listo para aprobacin directa.`);\n    }\n  };\n\n  // Verificar si el cambio requiere votacin CCB\n  const requiresCCB = (change) => {\n    return change.requiredApprover === 'ccb' || \n           change.requiredApprover === 'executive_board' ||\n           change.authorityLevel === 'high' ||\n           change.authorityLevel === 'critical' ||\n           (parseFloat(change.impactCost) || 0) > 100000 ||\n           (parseFloat(change.impactSchedule) || 0) > 30;\n  };\n\n  // Verificar si el cambio requiere anlisis de impacto completo\n  const needsImpactAnalysis = (change) => {\n    const cost = parseFloat(change.impactCost) || 0;\n    const schedule = parseFloat(change.impactSchedule) || 0;\n    \n    // Cambios pequeos NO necesitan anlisis\n    return cost >= 25000 || schedule >= 15;\n  };\n\n  // Verificar si el anlisis est completo\n  const isImpactAnalysisComplete = (change) => {\n    if (!needsImpactAnalysis(change)) return true;\n    \n    // Verificar que tenga anlisis completo\n    const hasCompleteAnalysis = change.impactAnalysisComplete === true;\n    \n    // Verificar que tenga mnimo 3 alternativas\n    const hasAlternatives = change.alternatives && change.alternatives.length >= 3;\n    \n    return hasCompleteAnalysis && hasAlternatives;\n  };\n\n  // Marcar anlisis de impacto como completo\n  const handleCompleteImpactAnalysis = (changeId) => {\n    const change = changes.find(c => c.id === changeId);\n    if (!change) return;\n    \n    // Verificar que tenga alternativas\n    if (!change.alternatives || change.alternatives.length < 3) {\n      alert(' Debes agregar al menos 3 alternativas antes de completar el anlisis');\n      return;\n    }\n    \n    const updatedChanges = changes.map(c => {\n      if (c.id === changeId) {\n        return {\n          ...c,\n          status: 'readyForReview',\n          impactAnalysisComplete: true,\n          updatedAt: new Date().toISOString()\n        };\n      }\n      return c;\n    });\n    \n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n    \n    addAuditEvent('change_management', 'impact_analysis_completed', {\n      changeId,\n      changeNumber: change.changeNumber,\n      alternativesCount: change.alternatives.length\n    });\n    \n    alert(' Anlisis de impacto completado. El cambio est listo para revisin.');\n  };\n\n  // Seleccionar alternativa despus de aprobar\n  const handleSelectAlternativeForChange = (changeId, alternativeIndex) => {\n    const change = changes.find(c => c.id === changeId);\n    if (!change) return;\n    \n    if (change.status !== 'approved') {\n      alert(' Solo se puede seleccionar alternativa despus de aprobar el cambio');\n      return;\n    }\n    \n    const updatedChanges = changes.map(c => {\n      if (c.id === changeId) {\n        return {\n          ...c,\n          selectedAlternative: alternativeIndex,\n          status: 'implementing',\n          updatedAt: new Date().toISOString()\n        };\n      }\n      return c;\n    });\n    \n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n    \n    addAuditEvent('change_management', 'alternative_selected', {\n      changeId,\n      changeNumber: change.changeNumber,\n      alternativeIndex,\n      alternativeName: change.alternatives[alternativeIndex]?.name\n    });\n    \n    alert(' Alternativa seleccionada. El cambio pasa a implementacin.');\n  };\n\n  // Actualizar estado de cambio\n  const handleUpdateChangeStatus = async (changeId, newStatus, comments = '') => {\n    const change = changes.find(c => c.id === changeId);\n    if (!change) return;\n    \n    const oldStatus = change.status;\n    \n    // Validar permisos segn la accin\n    if (newStatus === 'approved' && !canApprove(change)) {\n      alert('No tienes permisos para aprobar este cambio o excede tu lmite de aprobacin');\n      return;\n    }\n    \n    if (newStatus === 'rejected' && !canReject()) {\n      alert('No tienes permisos para rechazar cambios');\n      return;\n    }\n    \n    if (newStatus === 'implemented' && !canImplement()) {\n      alert('No tienes permisos para implementar cambios');\n      return;\n    }\n    \n    const userInfo = getCurrentUserInfo();\n    \n    const updatedChanges = changes.map(c => {\n      if (c.id === changeId) {\n        const updatedChange = {\n          ...c,\n          status: newStatus,\n          updatedAt: new Date().toISOString(),\n          statusHistory: [\n            ...(c.statusHistory || []),\n            {\n              status: newStatus,\n              date: new Date().toISOString(),\n              comments,\n              updatedBy: userInfo?.userName || 'Sistema',\n              userEmail: userInfo?.userEmail\n            }\n          ]\n        };\n        \n        // Si se aprueba, actualizar el proyecto\n        if (newStatus === 'approved') {\n          applyChangeToProject(updatedChange, currentProject);\n        }\n        \n        return updatedChange;\n      }\n      return c;\n    });\n    \n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n    \n    // Registrar en audit log\n    addAuditEvent('change_management', 'change_status_updated', {\n      changeId,\n      oldStatus,\n      newStatus,\n      comments,\n      updatedBy: userInfo?.userName\n    });\n    \n    // Notificar cambio de estado\n    if (change.createdBy?.userEmail) {\n      await notifyStatusChange(\n        { ...change, changeNumber: change.changeNumber, title: change.title },\n        oldStatus,\n        newStatus,\n        [{ email: change.createdBy.userEmail, id: change.createdBy.userId }]\n      );\n    }\n  };\n\n  // Actualizar votos CCB\n  const handleUpdateCCBVotes = (changeId, votes) => {\n    const updatedChanges = changes.map(change => {\n      if (change.id === changeId) {\n        return { ...change, ccbVotes: votes };\n      }\n      return change;\n    });\n    \n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n  };\n\n  // Actualizar alternativas\n  const handleUpdateAlternatives = (changeId, alternatives) => {\n    const updatedChanges = changes.map(change => {\n      if (change.id === changeId) {\n        return { ...change, alternatives };\n      }\n      return change;\n    });\n    \n    setChanges(updatedChanges);\n    saveChanges(updatedChanges);\n  };\n\n  // Obtener color de impacto\n  const getImpactColor = (impact) => {\n    if (impact < 10) return 'text-green-600';\n    if (impact < 25) return 'text-yellow-600';\n    if (impact < 50) return 'text-orange-600';\n    return 'text-red-600';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {!currentProjectId ? (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center\">\n            <div className=\"text-6xl mb-4\"></div>\n            <h3 className=\"text-xl font-bold text-yellow-800 mb-2\">\n              No hay proyecto seleccionado\n            </h3>\n            <p className=\"text-yellow-700\">\n              Selecciona un proyecto desde el men principal para gestionar sus cambios\n            </p>\n          </div>\n        ) : (\n          <>\n            {/* Header */}\n            <div className=\"bg-gradient-to-r from-purple-50 to-indigo-100 rounded-2xl shadow-lg p-8 mb-8 text-gray-800 relative overflow-hidden\">\n          <div className=\"absolute top-0 right-0 w-32 h-32 bg-purple-100/30 rounded-full -translate-y-16 translate-x-16\"></div>\n          <div className=\"absolute bottom-0 left-0 w-24 h-24 bg-indigo-100/30 rounded-full translate-y-12 -translate-x-12\"></div>\n          \n          <div className=\"relative z-10\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <div className=\"bg-white/60 backdrop-blur rounded-2xl p-3 mr-4 shadow-sm\">\n                  <span className=\"text-3xl\"></span>\n                </div>\n                <div>\n                  <div className=\"flex items-center space-x-3 mb-3\">\n                    <h1 className=\"text-4xl font-bold text-gray-800\">Control de Cambios</h1>\n                    {currentProject && (\n                      <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\n                         {currentProject.name}\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-600 text-lg\">\n                    Gestin integral de cambios del proyecto segn PMBOK v7\n                  </p>\n                  <div className=\"mt-4 flex items-center space-x-6 text-sm text-gray-700\">\n                    <span className=\"flex items-center space-x-1\">\n                      <span className=\"text-gray-500\"></span>\n                      <span>Total: {changeMetrics.totalChanges}</span>\n                    </span>\n                    <span className=\"flex items-center space-x-1\">\n                      <span className=\"text-gray-500\"></span>\n                      <span>Pendientes: {changeMetrics.pendingChanges}</span>\n                    </span>\n                    <span className=\"flex items-center space-x-1\">\n                      <span className=\"text-gray-500\"></span>\n                      <span>Aprobados: {changeMetrics.approvedChanges}</span>\n                    </span>\n                    <span className=\"flex items-center space-x-1\">\n                      <span className=\"text-gray-500\"></span>\n                      <span>Implementados: {changeMetrics.implementedChanges}</span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              <button\n                onClick={() => setShowChangeForm(true)}\n                disabled={!canCreate() || isReadOnlyMode}\n                className={`px-8 py-4 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-semibold border ${\n                  canCreate() && !isReadOnlyMode\n                    ? 'bg-white text-purple-700 hover:bg-purple-50 border-purple-200'\n                    : 'bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed'\n                }`}\n                title={isReadOnlyMode ? 'No disponible (modo solo lectura)' : !canCreate() ? 'No tienes permisos para crear cambios' : ''}\n              >\n                 Solicitar Cambio\n              </button>\n              \n              {permissions.changeRole && (\n                <div className=\"text-sm bg-white/80 px-4 py-2 rounded-lg border border-purple-200\">\n                  <div className=\"text-gray-600\">Tu rol:</div>\n                  <div className=\"font-semibold text-purple-700\">\n                    {getFunctionalRoleLabel(permissions.functionalRole) || permissions.changeRole}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Mtricas principales con dashboard mejorado */}\n        <div className=\"mb-8\">\n          <ChangeMetricsDashboard changes={changes} />\n        </div>\n\n        {/* Mtricas tradicionales */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-gray-800\">{changeMetrics.totalChanges}</div>\n                <div className=\"text-sm text-gray-600\">Total de Cambios</div>\n              </div>\n              <div className=\"p-3 bg-purple-100 rounded-lg\">\n                <span className=\"text-2xl\"></span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-gray-800\">{changeMetrics.pendingChanges}</div>\n                <div className=\"text-sm text-gray-600\">Pendientes</div>\n              </div>\n              <div className=\"p-3 bg-blue-100 rounded-lg\">\n                <span className=\"text-2xl\"></span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-gray-800\">${changeMetrics.totalCostImpact.toFixed(0)}K</div>\n                <div className=\"text-sm text-gray-600\">Impacto en Costos</div>\n              </div>\n              <div className=\"p-3 bg-green-100 rounded-lg\">\n                <span className=\"text-2xl\"></span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-xl shadow-sm p-6 border-l-4 border-yellow-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold text-gray-800\">{changeMetrics.totalScheduleImpact}</div>\n                <div className=\"text-sm text-gray-600\">Das de Impacto</div>\n              </div>\n              <div className=\"p-3 bg-yellow-100 rounded-lg\">\n                <span className=\"text-2xl\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filtros y bsqueda */}\n        <div className=\"bg-white rounded-xl shadow-sm p-6 mb-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4\">\n            <div className=\"lg:col-span-2\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <span className=\"text-gray-400\"></span>\n                </div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar cambios por ttulo, descripcin o solicitante...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n                />\n              </div>\n            </div>\n            \n            <div>\n              <select\n                value={filterStatus}\n                onChange={(e) => setFilterStatus(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              >\n                <option value=\"all\">Todos los Estados</option>\n                {Object.entries(changeStatuses).map(([key, status]) => (\n                  <option key={key} value={key}>\n                    {status.icon} {status.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <select\n                value={filterPriority}\n                onChange={(e) => setFilterPriority(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200\"\n              >\n                <option value=\"all\">Todas las Prioridades</option>\n                {Object.entries(changePriorities).map(([key, priority]) => (\n                  <option key={key} value={key}>\n                    {priority.icon} {priority.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Lista de cambios */}\n        <div className=\"space-y-4\">\n          {filteredChanges.length === 0 ? (\n            <div className=\"bg-white rounded-xl shadow-sm p-12 text-center\">\n              <div className=\"text-6xl mb-6\"></div>\n              <div className=\"text-2xl font-bold text-gray-700 mb-2\">\n                No hay cambios registrados\n              </div>\n              <div className=\"text-gray-500\">\n                {searchTerm || filterStatus !== 'all' || filterPriority !== 'all' \n                  ? 'No se encontraron cambios con los filtros aplicados'\n                  : 'Comienza solicitando el primer cambio del proyecto'\n                }\n              </div>\n            </div>\n          ) : (\n            filteredChanges.map((change) => (\n              <div key={change.id} className=\"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200\">\n                <div className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-3\">\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${changeCategories[change.category]?.color}`}>\n                          {changeCategories[change.category]?.icon} {changeCategories[change.category]?.label}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${changeStatuses[change.status]?.color}`}>\n                          {changeStatuses[change.status]?.icon} {changeStatuses[change.status]?.label}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${changePriorities[change.priority]?.color}`}>\n                          {changePriorities[change.priority]?.icon} {changePriorities[change.priority]?.label}\n                        </span>\n                        \n                        {/* Badge CCB Required */}\n                        {requiresCCB(change) && (\n                          <span className=\"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 border border-purple-300\">\n                             Requiere CCB\n                          </span>\n                        )}\n                        \n                        <span className=\"text-sm text-gray-500 font-mono\">\n                          {change.changeNumber}\n                        </span>\n                      </div>\n                      \n                      <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{change.title}</h3>\n                      <p className=\"text-gray-600 mb-3 line-clamp-2\">{change.description}</p>\n                      \n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-gray-500\">Solicitante:</span>\n                          <div className=\"font-medium\">{change.requestedBy}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-500\">Fecha:</span>\n                          <div className=\"font-medium\">{new Date(change.requestedDate).toLocaleDateString()}</div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-500\">Impacto Costo:</span>\n                          <div className={`font-medium ${getImpactColor(change.impactCost)}`}>\n                            ${change.impactCost || 0}K\n                          </div>\n                        </div>\n                        <div>\n                          <span className=\"text-gray-500\">Impacto Cronograma:</span>\n                          <div className={`font-medium ${getImpactColor(change.impactSchedule)}`}>\n                            {change.impactSchedule || 0} das\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {change.requiredApprover && (\n                        <div className=\"mt-3 text-xs text-gray-600\">\n                           Aprobador requerido: <span className=\"font-medium\">{change.requiredApprover}</span>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end space-y-2 ml-4\">\n                      <button\n                        onClick={() => setShowChangeDetails(change)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                        title=\"Ver detalles\"\n                      >\n                        \n                      </button>\n                      \n                      {/* ANLISIS DE IMPACTO */}\n                      {change.status === 'impactAnalysis' && (\n                        <button\n                          onClick={() => setShowChangeDetails(change)}\n                          className=\"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors text-sm\"\n                        >\n                           Completar Anlisis\n                        </button>\n                      )}\n                      \n                      {/* LISTO PARA REVISIN: Aprobacin directa o enviar a CCB */}\n                      {change.status === 'readyForReview' && !requiresCCB(change) && (\n                        <>\n                          {canApprove(change) && (\n                            <button \n                              onClick={() => handleUpdateChangeStatus(change.id, 'approved', 'Cambio aprobado directamente')}\n                              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\"\n                            >\n                               Aprobar\n                            </button>\n                          )}\n                          {canReject() && (\n                            <button\n                              onClick={() => handleUpdateChangeStatus(change.id, 'rejected', 'Cambio rechazado')}\n                              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\"\n                            >\n                               Rechazar\n                            </button>\n                          )}\n                        </>\n                      )}\n                      \n                      {/* LISTO PARA REVISIN: Enviar a CCB */}\n                      {change.status === 'readyForReview' && requiresCCB(change) && (\n                        <button\n                          onClick={() => handleUpdateChangeStatus(change.id, 'underReview', 'Enviado a CCB para votacin')}\n                          className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm\"\n                        >\n                           Enviar a CCB\n                        </button>\n                      )}\n                      \n                      {/* EN REVISIN CCB: Ver panel */}\n                      {change.status === 'underReview' && (\n                        <button\n                          onClick={() => setShowChangeDetails(change)}\n                          className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm\"\n                        >\n                           Ver Panel CCB\n                        </button>\n                      )}\n                      \n                      {/* APROBADO: Seleccionar alternativa */}\n                      {change.status === 'approved' && !change.selectedAlternative && (\n                        <button\n                          onClick={() => setShowChangeDetails(change)}\n                          className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm animate-pulse\"\n                        >\n                           Seleccionar Alternativa\n                        </button>\n                      )}\n                      \n                      {/* IMPLEMENTANDO: Completar */}\n                      {change.status === 'implementing' && canImplement() && (\n                        <button\n                          onClick={() => handleUpdateChangeStatus(change.id, 'implemented', 'Cambio implementado exitosamente')}\n                          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\"\n                        >\n                           Completar Implementacin\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* Modal de formulario de cambio */}\n        {showChangeForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-8\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <h2 className=\"text-3xl font-bold text-gray-800\"> Solicitar Cambio</h2>\n                <button\n                  onClick={() => setShowChangeForm(false)}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\n                >\n                  \n                </button>\n              </div>\n              \n              <form onSubmit={(e) => { e.preventDefault(); handleCreateChange(); }} className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Ttulo del Cambio *\n                    </label>\n                    <input\n                      type=\"text\"\n                      required\n                      value={changeForm.title}\n                      onChange={(e) => handleFormChange('title', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                      placeholder=\"Ttulo descriptivo del cambio\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Categora *\n                    </label>\n                    <select\n                      required\n                      value={changeForm.category}\n                      onChange={(e) => handleFormChange('category', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                    >\n                      {Object.entries(changeCategories).map(([key, category]) => (\n                        <option key={key} value={key}>\n                          {category.icon} {category.label}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Prioridad *\n                    </label>\n                    <select\n                      required\n                      value={changeForm.priority}\n                      onChange={(e) => handleFormChange('priority', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                    >\n                      {Object.entries(changePriorities).map(([key, priority]) => (\n                        <option key={key} value={key}>\n                          {priority.icon} {priority.label}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Solicitante *\n                    </label>\n                    <input\n                      type=\"text\"\n                      required\n                      value={changeForm.requestedBy}\n                      onChange={(e) => handleFormChange('requestedBy', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                      placeholder=\"Nombre del solicitante\"\n                    />\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Descripcin Detallada *\n                  </label>\n                  <textarea\n                    required\n                    rows={4}\n                    value={changeForm.description}\n                    onChange={(e) => handleFormChange('description', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none\"\n                    placeholder=\"Describe detalladamente el cambio solicitado, incluyendo el contexto y la necesidad\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Justificacin del Cambio *\n                  </label>\n                  <textarea\n                    required\n                    rows={3}\n                    value={changeForm.justification}\n                    onChange={(e) => handleFormChange('justification', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none\"\n                    placeholder=\"Explica por qu es necesario este cambio y qu beneficios aportar\"\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Impacto en Costos (K)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={changeForm.impactCost}\n                      onChange={(e) => handleFormChange('impactCost', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                      placeholder=\"0\"\n                      min=\"0\"\n                      step=\"0.1\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Impacto en Cronograma (das)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={changeForm.impactSchedule}\n                      onChange={(e) => handleFormChange('impactSchedule', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                      placeholder=\"0\"\n                      min=\"0\"\n                      step=\"0.5\"\n                    />\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Impacto en Alcance\n                  </label>\n                  <textarea\n                    rows={2}\n                    value={changeForm.impactScope}\n                    onChange={(e) => handleFormChange('impactScope', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none\"\n                    placeholder=\"Describe el impacto en el alcance del proyecto\"\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Fecha de Solicitud\n                    </label>\n                    <input\n                      type=\"date\"\n                      value={changeForm.requestedDate}\n                      onChange={(e) => handleFormChange('requestedDate', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Fecha Esperada de Implementacin\n                    </label>\n                    <input\n                      type=\"date\"\n                      value={changeForm.expectedImplementationDate}\n                      onChange={(e) => handleFormChange('expectedImplementationDate', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end space-x-4 pt-6 border-t\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowChangeForm(false)}\n                    className=\"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors font-medium\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n                  >\n                     Enviar Solicitud\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        )}\n\n        {/* Modal de detalles del cambio */}\n        {showChangeDetails && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto my-8\">\n            <div className=\"p-8\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <h2 className=\"text-3xl font-bold text-gray-800\">\n                   Detalles del Cambio: {showChangeDetails.changeNumber}\n                </h2>\n                <button\n                  onClick={() => setShowChangeDetails(null)}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\n                >\n                  \n                </button>\n              </div>\n              \n              <div className=\"space-y-6\">\n                {/* Informacin bsica */}\n                <div className=\"bg-gray-50 rounded-xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4\"> Informacin Bsica</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Ttulo:</span>\n                      <div className=\"font-medium\">{showChangeDetails.title}</div>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Categora:</span>\n                      <div className=\"font-medium\">\n                        {changeCategories[showChangeDetails.category]?.icon} {changeCategories[showChangeDetails.category]?.label}\n                      </div>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Prioridad:</span>\n                      <div className=\"font-medium\">\n                        {changePriorities[showChangeDetails.priority]?.icon} {changePriorities[showChangeDetails.priority]?.label}\n                      </div>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Estado:</span>\n                      <div className=\"font-medium\">\n                        {changeStatuses[showChangeDetails.status]?.icon} {changeStatuses[showChangeDetails.status]?.label}\n                      </div>\n                    </div>\n                    {showChangeDetails.requiredApprover && (\n                      <div className=\"md:col-span-2\">\n                        <span className=\"text-sm text-gray-500\">Aprobador Requerido:</span>\n                        <div className=\"font-medium text-purple-700\">\n                           {showChangeDetails.requiredApprover} (Nivel: {showChangeDetails.authorityLevel})\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Descripcin y justificacin */}\n                <div className=\"bg-gray-50 rounded-xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4\"> Descripcin y Justificacin</h3>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Descripcin:</span>\n                      <div className=\"mt-1\">{showChangeDetails.description}</div>\n                    </div>\n                    <div>\n                      <span className=\"text-sm text-gray-500\">Justificacin:</span>\n                      <div className=\"mt-1\">{showChangeDetails.justification}</div>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Anlisis de Impacto */}\n                {currentProject && (\n                  <>\n                    {/* Si est en anlisis: Mostrar formulario */}\n                    {showChangeDetails.status === 'impactAnalysis' ? (\n                      <ImpactAnalysisForm\n                        change={showChangeDetails}\n                        onComplete={() => handleCompleteImpactAnalysis(showChangeDetails.id)}\n                        onUpdateAlternatives={(alts) => handleUpdateAlternatives(showChangeDetails.id, alts)}\n                      />\n                    ) : (\n                      /* Si ya pas el anlisis: Mostrar panel de resultados */\n                      <ImpactAnalysisPanel \n                        change={showChangeDetails} \n                        project={currentProject}\n                      />\n                    )}\n                  </>\n                )}\n                \n                {/* CCB Panel */}\n                {showChangeDetails.status === 'underReview' && (\n                  <CCBPanel \n                    change={showChangeDetails}\n                    currentUserPermissions={permissions}\n                    onUpdateVotes={(votes) => handleUpdateCCBVotes(showChangeDetails.id, votes)}\n                  />\n                )}\n                \n                {/* Anlisis de Alternativas O Seleccin */}\n                {showChangeDetails.status === 'approved' && !showChangeDetails.selectedAlternative ? (\n                  /* Si est aprobado: Mostrar panel de seleccin */\n                  <AlternativeSelectionPanel\n                    change={showChangeDetails}\n                    onSelectAlternative={(index) => handleSelectAlternativeForChange(showChangeDetails.id, index)}\n                  />\n                ) : (\n                  /* Caso contrario: Mostrar panel normal de alternativas */\n                  <AlternativesPanel\n                    change={showChangeDetails}\n                    currentUserPermissions={permissions}\n                    onUpdateAlternatives={(alts) => handleUpdateAlternatives(showChangeDetails.id, alts)}\n                    onSelectAlternative={(index) => handleSelectAlternativeForChange(showChangeDetails.id, index)}\n                    canSelect={false}\n                  />\n                )}\n                \n                {/* Historial de estados */}\n                {showChangeDetails.statusHistory && showChangeDetails.statusHistory.length > 0 && (\n                  <div className=\"bg-gray-50 rounded-xl p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-4\"> Historial de Estados</h3>\n                    <div className=\"space-y-3\">\n                      {showChangeDetails.statusHistory.map((status, index) => (\n                        <div key={index} className=\"flex items-center space-x-3 p-3 bg-white rounded-lg\">\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${changeStatuses[status.status]?.color}`}>\n                            {changeStatuses[status.status]?.icon} {changeStatuses[status.status]?.label}\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            {new Date(status.date).toLocaleDateString()}\n                          </span>\n                          {status.comments && (\n                            <span className=\"text-sm text-gray-600\">- {status.comments}</span>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                \n                {/* Acciones */}\n                <div className=\"flex justify-end space-x-4 pt-6 border-t\">\n                  <button\n                    onClick={() => setShowChangeDetails(null)}\n                    className=\"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors font-medium\"\n                  >\n                    Cerrar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        )}\n      </>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChangeManagement;"],"names":["ORG_ROLES","OWNER","ADMIN","MEMBER_WRITE","MEMBER_READ","FUNCTIONAL_ROLES","EXECUTIVE","SPONSOR","PROJECT_MANAGER","FINANCE_MANAGER","QUALITY_MANAGER","TECHNICAL_LEAD","PMO_ASSISTANT","PROJECT_COORDINATOR","TEAM_MEMBER","AUDITOR","FUNCTIONAL_ROLE_LABELS","label","description","icon","color","badge","CHANGE_PERMISSIONS_MATRIX","canCreate","canApprove","canReject","canImplement","canVoteInCCB","canAssign","canComment","canViewAll","approvalLimit","cost","Infinity","schedule","changeRole","level","default","getUserChangePermissions","orgRole","functionalRole","arguments","length","undefined","basePermissions","getFunctionalRoleLabel","_FUNCTIONAL_ROLE_LABE","createNotification","async","userEmail","userId","changeId","changeNumber","changeTitle","notificationType","title","message","priority","metadata","_ref","supabaseService","getCurrentUser","orgId","getCurrentOrganization","console","warn","success","error","notification","organization_id","user_id","user_email","change_id","change_number","change_title","notification_type","status","action_url","concat","created_at","Date","toISOString","data","supabase","from","insert","select","single","getUnreadNotifications","session","auth","getSession","user","eq","order","ascending","markAsRead","update","read_at","updated_at","notificationId","markAllAsRead","getUnreadCount","count","head","notifyChangeAssigned","change","assignedBy","_ref2","id","changeStatus","notifyApprovalRequired","_ref3","costImpact","impactCost","scheduleImpact","impactSchedule","notifyCCBVoteRequired","_ref4","notifyStatusChanged","oldStatus","newStatus","changedBy","_ref5","useChangeIntegration","currentProjectId","onUpdateProject","applyChangeToProject","useCallback","project","updates","_objectSpread","parseFloat","budget","budgetHistory","date","amount","reason","type","endDate","currentEndDate","newEndDate","getTime","scheduleHistory","days","oldEndDate","split","category","impactScope","scopeChanges","appliedChanges","appliedDate","impactSummary","scope","useChangePermissions","currentUser","organizationId","isLoading","isAuthLoading","isAuthenticated","useAuthUser","permissions","setPermissions","useState","userName","loadingPermissions","setLoadingPermissions","setError","isLoadingRef","useRef","useEffect","current","_currentUser$user_met3","_currentUser$user_met","user_metadata","name","membership","membershipError","maybeSingle","_currentUser$user_met2","email","role","functional_role","calculatedPermissions","loadPermissions","loading","canApproveSpecificChange","withinCostLimit","withinScheduleLimit","calculateAvgProcessingTime","changes","completedChanges","filter","c","includes","reduce","sum","created","createdAt","updated","updatedAt","Math","ceil","toFixed","getTopCategories","categoryCounts","acc","Object","entries","sort","a","b","slice","calculateProcessEfficiency","implementedOnTime","_c$statusHistory","_c$statusHistory$find","expectedImplementationDate","expected","actual","statusHistory","find","s","totalImplemented","permissionsLoading","processing","setProcessing","getCurrentUserInfo","userInfo","userRole","timestamp","enrichChangeWithUser","changeData","createdBy","createdByUser","createdByEmail","notifyAssignment","assignedToEmail","assignedToId","notifyApproval","approverEmail","approverId","notifyCCBMembers","ccbMembers","member","notifyStatusChange","interestedUsers","_change$createdBy","CHANGE_AUTHORITY_MATRIX","low","threshold","approver","medium","high","critical","CCB_MEMBERS","required","currentUserPermissions","onUpdateVotes","userFunctionalRole","log","votes","setVotes","ccbVotes","map","m","vote","comments","votedAt","handleVote","memberId","voteType","updatedVotes","v","pm","tech","finance","quality","sponsor","votingResults","calculateVotingResults","totalMembers","keys","votedCount","approveCount","rejectCount","abstainCount","quorumPercentage","approvePercentage","rejectPercentage","abstainPercentage","hasQuorum","hasMajority","result","votedMembers","approvalCount","rejectionCount","requiredApprovals","_jsxs","className","children","_jsx","style","width","floor","userCanVote","roleKey","onClick","disabled","placeholder","value","onChange","e","handleCommentChange","target","toLocaleString","ImpactCard","details","detail","i","analysis","calculateDetailedImpact","costPercentage","remainingBudget","delayPercentage","startDate","totalImpactScore","impactQuality","impactResources","recommendation","recommendationReason","affectedDeliverables","newRequirements","complexity","risks","impactRisks","stakeholders","impactStakeholders","score","min","onComplete","onUpdateAlternatives","formatNumber","decimals","num","isNaN","setAnalysis","costDetails","scheduleDetails","scopeDetails","qualityDetails","resourcesDetails","alternatives","setAlternatives","showAddForm","setShowAddForm","newAlternative","setNewAlternative","pros","cons","isComplete","hasAllDetails","hasEnoughAlternatives","rows","alt","index","handleAddAlternative","alert","now","addedAt","updatedAlternatives","onSelectAlternative","canSelect","newAlt","setNewAlt","canSelectAlternative","requiredApprover","pro","con","selected","handleSelectAlternative","canEditAlternatives","p","trim","selectedAlternative","MetricCard","trend","abs","metrics","useMemo","totalChanges","approvedChanges","approvalRate","avgProcessingTime","topCategories","efficiency","pendingReview","_changeCategories$sho","_changeCategories$sho2","_changePriorities$sho","_changePriorities$sho2","_changeStatuses$showC","_changeStatuses$showC2","projects","workPackages","tasks","purchaseOrders","advances","invoices","contracts","setChanges","showChangeForm","setShowChangeForm","editingChange","setEditingChange","filterStatus","setFilterStatus","filterPriority","setFilterPriority","searchTerm","setSearchTerm","showChangeDetails","setShowChangeDetails","showCCBPanel","setShowCCBPanel","showImpactAnalysis","setShowImpactAnalysis","showAlternatives","setShowAlternatives","isReadOnlyMode","setIsReadOnlyMode","addAuditEvent","useAuditLog","notificationProcessing","useChangeManagement","currentProject","editPermission","subscriptionService","canEdit","allowed","checkReadOnlyMode","changeForm","setChangeForm","justification","requestedBy","requestedDate","attachments","handleFormChange","field","prev","savedChanges","localStorage","getItem","parsedChanges","JSON","parse","Array","isArray","saveChanges","changesList","setItem","stringify","changeCategories","resources","risk","procurement","communication","changeStatuses","submitted","impactAnalysis","readyForReview","underReview","approved","implementing","implemented","rejected","cancelled","changePriorities","filteredChanges","filtered","toLowerCase","changeMetrics","pendingChanges","implementedChanges","rejectedChanges","totalCostImpact","totalScheduleImpact","handleCreateChange","_newChange$createdBy","getRequiredApprover","enrichedForm","needsAnalysis","initialStatus","newChange","projectId","projectName","authorityLevel","String","padStart","impactAnalysisComplete","updatedChanges","requiresCCB","handleSelectAlternativeForChange","alternativeIndex","_change$alternatives$","alternativeName","handleUpdateChangeStatus","updatedChange","updatedBy","handleUpdateAlternatives","getImpactColor","impact","_Fragment","ChangeMetricsDashboard","key","_changeCategories$cha","_changeCategories$cha2","_changeCategories$cha3","_changeStatuses$chang","_changeStatuses$chang2","_changeStatuses$chang3","_changePriorities$cha","_changePriorities$cha2","_changePriorities$cha3","toLocaleDateString","onSubmit","preventDefault","step","ImpactAnalysisForm","alternativesCount","handleCompleteImpactAnalysis","alts","ImpactAnalysisPanel","CCBPanel","handleUpdateCCBVotes","AlternativesPanel","AlternativeSelectionPanel","_changeStatuses$statu","_changeStatuses$statu2","_changeStatuses$statu3"],"sourceRoot":""}