"use strict";(self.webpackChunkmi_dashboard=self.webpackChunkmi_dashboard||[]).push([[243],{7243:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(9950),l=a(4414);const r=e=>{let{projects:t,workPackages:a,currentProject:r,globalResources:i,setGlobalResources:n,includeWeekends:d=!1,getCurrentProjectResourceAssignments:o,updateCurrentProjectResourceAssignments:c,getCurrentProjectResources:x,getAvailableResources:m,calculateResourceWorkload:u}=e;const h=i||[],[p,y]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(null),[R,C]=(0,s.useState)(null),[I,D]=(0,s.useState)(""),[A,S]=(0,s.useState)("all"),[P,E]=(0,s.useState)({name:"",role:"",skills:"",availability:100,hourlyRate:0,status:"active"}),[L,H]=(0,s.useState)({resourceId:"",projectId:"",workPackageId:"",allocation:0,startDate:"",endDate:""}),T=(0,s.useMemo)(()=>h.filter(e=>{const t=!I||e.name.toLowerCase().includes(I.toLowerCase())||e.role.toLowerCase().includes(I.toLowerCase()),a="all"===A||e.role===A;return t&&a}),[h,I,A]),z=(0,s.useMemo)(()=>{const e=h.map(e=>e.role);return Array.from(new Set(e))},[h]),$=(0,s.useMemo)(()=>({totalResources:h.length,activeResources:h.filter(e=>"active"===e.status).length,overworkedResources:h.filter(e=>u(e.id)>90).length,availableResources:h.filter(e=>u(e.id)<50).length,totalCost:h.reduce((e,t)=>e+160*t.availability*t.hourlyRate,0),averageWorkload:h.length>0?h.reduce((e,t)=>e+u(t.id),0)/h.length:0}),[h,u]),F=e=>{k({id:e.id,name:e.name,role:e.role,availability:e.availability,hourlyRate:e.hourlyRate,skills:Array.isArray(e.skills)?e.skills.join(", "):e.skills,email:e.email,phone:e.phone,department:e.department,experience:e.experience,certifications:Array.isArray(e.certifications)?e.certifications.join(", "):e.certifications,notes:e.notes,status:e.status}),j(!0)};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-teal-100 rounded-2xl shadow-lg p-6 text-gray-800 relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-100/30 rounded-full -translate-y-16 translate-x-16"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-teal-100/30 rounded-full translate-y-12 -translate-x-12"}),(0,l.jsx)("div",{className:"relative z-10",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"bg-white/60 backdrop-blur rounded-2xl p-3 mr-4 shadow-sm",children:(0,l.jsx)("span",{className:"text-3xl",children:"\ud83d\udc65"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-2 text-gray-800",children:"Gesti\xf3n de Recursos"}),(0,l.jsx)("p",{className:"text-gray-600 text-lg",children:"Administraci\xf3n de recursos humanos y asignaci\xf3n de proyectos"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"bg-white/60 backdrop-blur rounded-2xl px-4 py-2 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\ud83d\udcc5 D\xedas laborables:"}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(d?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:d?"Lunes a Domingo":"Lunes a Viernes"})]})}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:$.totalResources}),(0,l.jsx)("div",{className:"text-gray-600",children:"Recursos Totales"})]})]})]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Recursos Activos"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:$.activeResources})]}),(0,l.jsx)("div",{className:"text-green-500 text-2xl",children:"\ud83d\udc65"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-red-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Sobrecargados"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:$.overworkedResources})]}),(0,l.jsx)("div",{className:"text-red-500 text-2xl",children:"\u26a0\ufe0f"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Disponibles"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:$.availableResources})]}),(0,l.jsx)("div",{className:"text-blue-500 text-2xl",children:"\u2705"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-purple-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Costo Mensual"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-gray-800",children:["$",($.totalCost/1e3).toFixed(0),"K"]})]}),(0,l.jsx)("div",{className:"text-purple-500 text-2xl",children:"\ud83d\udcb0"})]})})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Buscar recursos...",value:I,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,l.jsxs)("select",{value:A,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[(0,l.jsx)("option",{value:"all",children:"Todos los roles"}),z.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"\ud83d\udccb Asignar Recurso"}),(0,l.jsx)("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"\u2795 Agregar Recurso"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recurso"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carga de Trabajo"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proyectos"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costo/Hora"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>{return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,l.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name.split(" ").map(e=>e[0]).join("")})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600",onClick:()=>{C(e),N(!0)},children:e.name}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:Array.isArray(e.skills)?e.skills.slice(0,2).join(", "):e.skills})]})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:e.role})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"mr-2",children:(t=u(e.id),t>90?"\ud83d\udd34":t>75?"\ud83d\udfe1":t>50?"\ud83d\udd35":"\ud83d\udfe2")}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"flex justify-between text-sm",children:(0,l.jsxs)("span",{children:[u(e.id),"%"]})}),(0,l.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full ".concat(u(e.id)>90?"bg-red-500":u(e.id)>75?"bg-yellow-500":u(e.id)>50?"bg-blue-500":"bg-green-500"),style:{width:"".concat(u(e.id),"%")}})})]})]})}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[o().filter(t=>t.resourceId===e.id).length," asignaciones"]}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.hourlyRate,"/h"]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-gray-100 text-gray-800":"on-leave"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"active"===e.status?"Activo":"inactive"===e.status?"Inactivo":"on-leave"===e.status?"Licencia":"Terminado"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>F(e),className:"text-green-600 hover:text-green-900",title:"Editar recurso",children:"\u270f\ufe0f"}),(0,l.jsx)("button",{onClick:()=>{C(e),b(!0)},className:"text-blue-600 hover:text-blue-900",title:"Asignar a proyecto",children:"\ud83d\udccb"}),(0,l.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este recurso?")&&n(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-600 hover:text-red-900",title:"Eliminar recurso",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id);var t})})]})})}),p&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agregar Nuevo Recurso"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,l.jsx)("input",{type:"text",value:P.name,onChange:e=>E({name:e.target.value,role:P.role,skills:P.skills,availability:P.availability,hourlyRate:P.hourlyRate,email:P.email,phone:P.phone,department:P.department,experience:P.experience,certifications:P.certifications,notes:P.notes}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),(0,l.jsx)("input",{type:"text",value:P.role,onChange:e=>E({name:P.name,role:e.target.value,skills:P.skills,availability:P.availability,hourlyRate:P.hourlyRate,email:P.email,phone:P.phone,department:P.department,experience:P.experience,certifications:P.certifications,notes:P.notes}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Habilidades (separadas por comas)"}),(0,l.jsx)("input",{type:"text",value:P.skills,onChange:e=>E({name:P.name,role:P.role,skills:P.skills,availability:P.availability,hourlyRate:P.hourlyRate,email:P.email,phone:P.phone,department:P.department,experience:P.experience,certifications:P.certifications,notes:P.notes,skills:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Disponibilidad (%)"}),(0,l.jsx)("input",{type:"number",value:P.availability,onChange:e=>E({name:P.name,role:P.role,skills:P.skills,availability:P.availability,hourlyRate:P.hourlyRate,email:P.email,phone:P.phone,department:P.department,experience:P.experience,certifications:P.certifications,notes:P.notes,availability:Number(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Costo por Hora ($)"}),(0,l.jsx)("input",{type:"number",value:P.hourlyRate,onChange:e=>E({name:P.name,role:P.role,skills:P.skills,availability:P.availability,hourlyRate:P.hourlyRate,email:P.email,phone:P.phone,department:P.department,experience:P.experience,certifications:P.certifications,notes:P.notes,hourlyRate:Number(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),(0,l.jsx)("button",{onClick:()=>{if(!P.name||!P.role)return;const e={id:"res-"+String(Date.now()).slice(-6),name:P.name,role:P.role,availability:P.availability,hourlyRate:P.hourlyRate,skills:P.skills.split(",").map(e=>e.trim()),email:P.email||"",phone:P.phone||"",department:P.department||"",experience:P.experience||"",certifications:P.certifications?P.certifications.split(",").map(e=>e.trim()):[],notes:P.notes||""};n(t=>{const a=t.slice();return a.push(e),a}),y(!1),E({name:"",role:"",skills:"",availability:100,hourlyRate:0,status:"active",email:"",phone:"",department:"",experience:"",certifications:"",notes:""})},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Agregar"})]})]})})}),g&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Asignar Recurso a Proyecto"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Recurso"}),(0,l.jsxs)("select",{value:L.resourceId,onChange:e=>H({resourceId:e.target.value,projectId:L.projectId,taskId:L.taskId,allocation:L.allocation,hourlyRate:L.hourlyRate,startDate:L.startDate,endDate:L.endDate,notes:L.notes}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar recurso"}),h.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Proyecto"}),(0,l.jsxs)("select",{value:L.projectId,onChange:e=>H({resourceId:L.resourceId,projectId:L.projectId,taskId:L.taskId,allocation:L.allocation,hourlyRate:L.hourlyRate,startDate:L.startDate,endDate:L.endDate,notes:L.notes,projectId:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar proyecto"}),t.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Asignaci\xf3n (%)"}),(0,l.jsx)("input",{type:"number",value:L.allocation,onChange:e=>H({resourceId:L.resourceId,projectId:L.projectId,taskId:L.taskId,allocation:L.allocation,hourlyRate:L.hourlyRate,startDate:L.startDate,endDate:L.endDate,notes:L.notes,allocation:Number(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Inicio"}),(0,l.jsx)("input",{type:"date",value:L.startDate,onChange:e=>H({resourceId:L.resourceId,projectId:L.projectId,taskId:L.taskId,allocation:L.allocation,hourlyRate:L.hourlyRate,startDate:L.startDate,endDate:L.endDate,notes:L.notes,startDate:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Fin"}),(0,l.jsx)("input",{type:"date",value:L.endDate,onChange:e=>H({resourceId:L.resourceId,projectId:L.projectId,taskId:L.taskId,allocation:L.allocation,hourlyRate:L.hourlyRate,startDate:L.startDate,endDate:L.endDate,notes:L.notes,endDate:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),(0,l.jsx)("button",{onClick:()=>{if(!L.resourceId||!L.projectId)return;const e=o(),t={id:"assign-"+String(Date.now()).slice(-6),projectId:(null===r||void 0===r?void 0:r.id)||"",resourceId:L.resourceId,workPackageId:L.workPackageId,role:L.role,allocation:L.allocation,startDate:L.startDate,endDate:L.endDate,hourlyRate:L.hourlyRate,status:"active",notes:L.notes||""};c(()=>{const a=e.slice();return a.push(t),a}),b(!1),H({resourceId:"",projectId:"",workPackageId:"",allocation:0,startDate:"",endDate:"",role:"",hourlyRate:0,notes:""})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Asignar"})]})]})})}),v&&w&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Editar Recurso"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,l.jsx)("input",{type:"text",value:w.name,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,name:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),(0,l.jsx)("input",{type:"text",value:w.role,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,role:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Habilidades (separadas por comas)"}),(0,l.jsx)("input",{type:"text",value:w.skills,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,skills:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Disponibilidad (%)"}),(0,l.jsx)("input",{type:"number",value:w.availability,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,availability:Number(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Costo por Hora ($)"}),(0,l.jsx)("input",{type:"number",value:w.hourlyRate,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,hourlyRate:Number(e.target.value)}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),(0,l.jsxs)("select",{value:w.status,onChange:e=>k({id:w.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills,email:w.email,phone:w.phone,department:w.department,experience:w.experience,certifications:w.certifications,notes:w.notes,status:w.status,status:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",children:[(0,l.jsx)("option",{value:"active",children:"Activo"}),(0,l.jsx)("option",{value:"inactive",children:"Inactivo"}),(0,l.jsx)("option",{value:"on-leave",children:"En licencia"}),(0,l.jsx)("option",{value:"terminated",children:"Terminado"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>{j(!1),k(null)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),(0,l.jsx)("button",{onClick:()=>{w&&(n(e=>e.map(e=>e.id===w.id?{id:e.id,name:w.name,role:w.role,availability:w.availability,hourlyRate:w.hourlyRate,skills:w.skills.split(",").map(e=>e.trim()),email:w.email||e.email,phone:w.phone||e.phone,department:w.department||e.department,experience:w.experience||e.experience,certifications:w.certifications?w.certifications.split(",").map(e=>e.trim()):e.certifications,notes:w.notes||e.notes,status:w.status}:e)),j(!1),k(null))},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Guardar Cambios"})]})]})})}),f&&R&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles del Recurso"}),(0,l.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-lg font-medium text-gray-700",children:R.name.split(" ").map(e=>e[0]).join("")})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:R.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:R.role})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Informaci\xf3n General"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Estado:"}),(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("active"===R.status?"bg-green-100 text-green-800":"inactive"===R.status?"bg-gray-100 text-gray-800":"on-leave"===R.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"active"===R.status?"Activo":"inactive"===R.status?"Inactivo":"on-leave"===R.status?"Licencia":"Terminado"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Disponibilidad:"}),(0,l.jsxs)("span",{className:"font-medium",children:[R.availability,"%"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Costo por hora:"}),(0,l.jsxs)("span",{className:"font-medium",children:["$",R.hourlyRate]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Carga actual:"}),(0,l.jsxs)("span",{className:"font-medium ".concat(u(R.id)>90?"text-red-600":u(R.id)>75?"text-yellow-600":u(R.id)>50?"text-blue-600":"text-green-600"),children:[u(R.id),"%"]})]})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Habilidades"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.isArray(R.skills)?R.skills.map((e,t)=>(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},t)):(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:R.skills})})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Proyectos Asignados"}),(0,l.jsx)("div",{className:"space-y-1",children:o().filter(e=>e.resourceId===R.id).length>0?o().filter(e=>e.resourceId===R.id).map((e,a)=>{const s=t.find(t=>t.id===e.projectId);return s?(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["\u2022 ",s.name]},a):null}):(0,l.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No hay proyectos asignados"})})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>F(R),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"\u270f\ufe0f Editar"}),(0,l.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cerrar"})]})]})})})]})}}}]);