{"version":3,"file":"static/js/113.70947376.chunk.js","mappings":"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","sources":["components/ProjectAudit.js","hooks/useAuditLog.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport useAuditLog from '../hooks/useAuditLog';\n\nconst ProjectAudit = ({\n  projects,\n  currentProjectId,\n  workPackages,\n  risks,\n  tasks,\n  purchaseOrders,\n  advances,\n  invoices,\n  contracts,\n  resourceAssignments,\n  useSupabase = true\n}) => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [dateFilter, setDateFilter] = useState('all');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const currentProject = projects.find(p => p.id === currentProjectId);\n  \n  // Usar el hook de auditor√≠a\n  const { auditLog, exportAuditLog, clearAuditLog } = useAuditLog(currentProjectId, useSupabase);\n\n\n  // Combinar eventos generados autom√°ticamente con el log de auditor√≠a\n  const auditEvents = useMemo(() => {\n    if (!currentProject) return [];\n\n    const events = [];\n    const projectStartDate = new Date(currentProject.updatedAt || currentProject.createdAt);\n\n    // Agregar eventos del log de auditor√≠a\n    events.push(...auditLog);\n\n    // Evento de activaci√≥n del proyecto (si no existe en el log)\n    if (currentProject.status === 'active' && !auditLog.find(e => e.action === 'project-activated')) {\n      events.push({\n        id: `event-${Date.now()}-1`,\n        timestamp: projectStartDate,\n        category: 'project-status',\n        action: 'project-activated',\n        description: `Proyecto \"${currentProject.name}\" activado`,\n        details: {\n          previousStatus: 'inactive',\n          newStatus: 'active',\n          manager: currentProject.manager,\n          budget: currentProject.budget,\n          startDate: currentProject.startDate,\n          endDate: currentProject.endDate\n        },\n        severity: 'high',\n        user: currentProject.manager\n      });\n    }\n\n    // Eventos de work packages\n    workPackages.forEach((wp, index) => {\n      if (wp.status === 'active' || wp.status === 'in-progress' || wp.status === 'completed') {\n        events.push({\n          id: `event-${Date.now()}-wp-${index}`,\n          timestamp: new Date(wp.updatedAt || wp.createdAt || projectStartDate),\n          category: 'work-package',\n          action: 'work-package-created',\n          description: `Work Package \"${wp.name}\" creado`,\n          details: {\n            workPackageId: wp.id,\n            name: wp.name,\n            budget: wp.budget,\n            status: wp.status,\n            progress: wp.progress || 0\n          },\n          severity: 'medium',\n          user: currentProject.manager\n        });\n      }\n    });\n\n    // Eventos de riesgos\n    risks.forEach((risk, index) => {\n      if (risk.status === 'active' || risk.status === 'mitigated') {\n        events.push({\n          id: `event-${Date.now()}-risk-${index}`,\n          timestamp: new Date(risk.updatedAt || risk.createdAt || projectStartDate),\n          category: 'risk',\n          action: 'risk-identified',\n          description: `Riesgo \"${risk.name}\" identificado`,\n          details: {\n            riskId: risk.id,\n            name: risk.name,\n            probability: risk.probability,\n            impact: risk.impact,\n            priority: risk.priority,\n            status: risk.status\n          },\n          severity: risk.priority === 'high' ? 'high' : 'medium',\n          user: currentProject.manager\n        });\n      }\n    });\n\n    // Eventos de tareas del cronograma\n    tasks.forEach((task, index) => {\n      if (task.status === 'active' || task.status === 'in-progress' || task.status === 'completed') {\n        events.push({\n          id: `event-${Date.now()}-task-${index}`,\n          timestamp: new Date(task.updatedAt || task.createdAt || projectStartDate),\n          category: 'schedule',\n          action: 'task-created',\n          description: `Tarea \"${task.name}\" creada`,\n          details: {\n            taskId: task.id,\n            name: task.name,\n            duration: task.duration,\n            status: task.status,\n            startDate: task.startDate,\n            endDate: task.endDate\n          },\n          severity: 'medium',\n          user: currentProject.manager\n        });\n      }\n    });\n\n    // Eventos financieros\n    purchaseOrders.forEach((po, index) => {\n      events.push({\n        id: `event-${Date.now()}-po-${index}`,\n        timestamp: new Date(po.updatedAt || po.createdAt || projectStartDate),\n        category: 'financial',\n        action: 'purchase-order-created',\n        description: `Orden de Compra \"${po.description}\" creada`,\n        details: {\n          poId: po.id,\n          description: po.description,\n          amount: po.amount,\n          status: po.status,\n          supplier: po.supplier\n        },\n        severity: 'high',\n        user: currentProject.manager\n      });\n    });\n\n    advances.forEach((advance, index) => {\n      events.push({\n        id: `event-${Date.now()}-advance-${index}`,\n        timestamp: new Date(advance.updatedAt || advance.createdAt || projectStartDate),\n        category: 'financial',\n        action: 'advance-created',\n        description: `Anticipo \"${advance.description}\" creado`,\n        details: {\n          advanceId: advance.id,\n          description: advance.description,\n          amount: advance.amount,\n          status: advance.status,\n          recipient: advance.recipient\n        },\n        severity: 'high',\n        user: currentProject.manager\n      });\n    });\n\n    invoices.forEach((invoice, index) => {\n      events.push({\n        id: `event-${Date.now()}-invoice-${index}`,\n        timestamp: new Date(invoice.updatedAt || invoice.createdAt || projectStartDate),\n        category: 'financial',\n        action: 'invoice-created',\n        description: `Factura \"${invoice.description}\" creada`,\n        details: {\n          invoiceId: invoice.id,\n          description: invoice.description,\n          amount: invoice.amount,\n          status: invoice.status,\n          supplier: invoice.supplier\n        },\n        severity: 'high',\n        user: currentProject.manager\n      });\n    });\n\n    // Eventos de contratos\n    contracts.forEach((contract, index) => {\n      events.push({\n        id: `event-${Date.now()}-contract-${index}`,\n        timestamp: new Date(contract.updatedAt || contract.createdAt || projectStartDate),\n        category: 'contracts',\n        action: 'contract-created',\n        description: `Contrato \"${contract.name}\" creado`,\n        details: {\n          contractId: contract.id,\n          name: contract.name,\n          value: contract.value,\n          status: contract.status,\n          contractor: contract.contractor\n        },\n        severity: 'high',\n        user: currentProject.manager\n      });\n    });\n\n    // Eventos de asignaci√≥n de recursos\n    resourceAssignments.forEach((assignment, index) => {\n      events.push({\n        id: `event-${Date.now()}-resource-${index}`,\n        timestamp: new Date(assignment.updatedAt || assignment.createdAt || projectStartDate),\n        category: 'resources',\n        action: 'resource-assigned',\n        description: `Recurso asignado al proyecto`,\n        details: {\n          assignmentId: assignment.id,\n          resourceId: assignment.resourceId,\n          role: assignment.role,\n          startDate: assignment.startDate,\n          endDate: assignment.endDate,\n          allocation: assignment.allocation\n        },\n        severity: 'medium',\n        user: currentProject.manager\n      });\n    });\n\n    // Ordenar eventos por fecha (m√°s recientes primero)\n    return events.sort((a, b) => b.timestamp - a.timestamp);\n  }, [currentProject, workPackages, risks, tasks, purchaseOrders, advances, invoices, contracts, resourceAssignments, auditLog]);\n\n  // Filtrar eventos\n  const filteredEvents = useMemo(() => {\n    let filtered = auditEvents;\n\n    // Filtro por categor√≠a\n    if (categoryFilter !== 'all') {\n      filtered = filtered.filter(event => event.category === categoryFilter);\n    }\n\n    // Filtro por fecha\n    if (dateFilter !== 'all') {\n      const now = new Date();\n      const filterDate = new Date();\n\n      switch (dateFilter) {\n        case 'today':\n          filterDate.setHours(0, 0, 0, 0);\n          filtered = filtered.filter(event => event.timestamp >= filterDate);\n          break;\n        case 'week':\n          filterDate.setDate(filterDate.getDate() - 7);\n          filtered = filtered.filter(event => event.timestamp >= filterDate);\n          break;\n        case 'month':\n          filterDate.setMonth(filterDate.getMonth() - 1);\n          filtered = filtered.filter(event => event.timestamp >= filterDate);\n          break;\n        case 'quarter':\n          filterDate.setMonth(filterDate.getMonth() - 3);\n          filtered = filtered.filter(event => event.timestamp >= filterDate);\n          break;\n      }\n    }\n\n    // Filtro por b√∫squeda\n    if (searchTerm) {\n      filtered = filtered.filter(event =>\n        event.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        event.details?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        event.category.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    return filtered;\n  }, [auditEvents, categoryFilter, dateFilter, searchTerm]);\n\n  const getCategoryIcon = (category) => {\n    switch (category) {\n      case 'project-status': return 'üè¢';\n      case 'work-package': return 'üì¶';\n      case 'risk': return '‚ö†Ô∏è';\n      case 'schedule': return 'üìÖ';\n      case 'financial': return 'üí∞';\n      case 'contracts': return 'üìã';\n      case 'resources': return 'üë•';\n      case 'minutes': return 'üìù';\n      default: return 'üìÑ';\n    }\n  };\n\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'high': return 'text-red-600 bg-red-50 border-red-200';\n      case 'medium': return 'text-yellow-600 bg-yellow-50 border-yellow-200';\n      case 'low': return 'text-green-600 bg-green-50 border-green-200';\n      default: return 'text-gray-600 bg-gray-50 border-gray-200';\n    }\n  };\n\n  const getActionDescription = (action) => {\n    switch (action) {\n      case 'project-activated': return 'Proyecto Activado';\n      case 'work-package-created': return 'Work Package Creado';\n      case 'risk-identified': return 'Riesgo Identificado';\n      case 'task-created': return 'Tarea Creada';\n      case 'purchase-order-created': return 'Orden de Compra Creada';\n      case 'advance-created': return 'Anticipo Creado';\n      case 'invoice-created': return 'Factura Creada';\n      case 'contract-created': return 'Contrato Creado';\n      case 'resource-assigned': return 'Recurso Asignado';\n      case 'minute-task-created': return 'Tarea de Minuta Creada';\n      case 'minute-task-updated': return 'Tarea de Minuta Actualizada';\n      case 'created': return 'Creado';\n      case 'modified': return 'Modificado';\n      default: return action;\n    }\n  };\n\n  const exportAuditReport = () => {\n    exportAuditLog();\n  };\n\n  if (!currentProject) {\n    return (\n      <div className=\"text-center py-12 text-gray-500\">\n        <div className=\"text-4xl mb-4\">üìã</div>\n        <div className=\"text-lg mb-2\">Selecciona un proyecto para ver su auditor√≠a</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-indigo-100 rounded-2xl shadow-lg p-6 text-gray-800 relative overflow-hidden\">\n        {/* Elementos decorativos de fondo */}\n        <div className=\"absolute top-0 right-0 w-32 h-32 bg-purple-100/30 rounded-full -translate-y-16 translate-x-16\"></div>\n        <div className=\"absolute bottom-0 left-0 w-24 h-24 bg-indigo-100/30 rounded-full translate-y-12 -translate-x-12\"></div>\n        \n        <div className=\"relative z-10\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <div className=\"bg-white/60 backdrop-blur rounded-2xl p-3 mr-4 shadow-sm\">\n                <span className=\"text-3xl\">üìã</span>\n              </div>\n              <div>\n                <h1 className=\"text-4xl font-bold mb-2 text-gray-800\">Auditor√≠a Documental</h1>\n                <p className=\"text-gray-600 text-lg\">\n                  Registro completo de movimientos del proyecto \"{currentProject.name}\"\n                </p>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-4xl font-bold text-gray-800\">\n                {filteredEvents.length}\n              </div>\n              <div className=\"text-gray-600\">Eventos Registrados</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Nota Informativa */}\n      <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n        <div className=\"flex items-center\">\n          <div className=\"text-purple-600 text-xl mr-3\">‚ÑπÔ∏è</div>\n          <div className=\"text-purple-800\">\n            <strong>Sistema de Auditor√≠a Autom√°tica:</strong> Este sistema registra autom√°ticamente todos los movimientos \n            del proyecto desde que cambia a estado \"Activo\". Los eventos se guardan localmente y se pueden exportar \n            para an√°lisis externos o cumplimiento regulatorio.\n          </div>\n        </div>\n      </div>\n\n      {/* Filtros */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Categor√≠a</label>\n            <select \n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n            >\n              <option value=\"all\">Todas las categor√≠as</option>\n              <option value=\"project-status\">Estado del Proyecto</option>\n              <option value=\"work-package\">Work Packages</option>\n              <option value=\"risk\">Riesgos</option>\n              <option value=\"schedule\">Cronograma</option>\n              <option value=\"financial\">Financiero</option>\n              <option value=\"contracts\">Contratos</option>\n              <option value=\"resources\">Recursos</option>\n              <option value=\"minutes\">Minutas</option>\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Per√≠odo</label>\n            <select \n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              value={dateFilter}\n              onChange={(e) => setDateFilter(e.target.value)}\n            >\n              <option value=\"all\">Todo el per√≠odo</option>\n              <option value=\"today\">Hoy</option>\n              <option value=\"week\">√öltima semana</option>\n              <option value=\"month\">√öltimo mes</option>\n              <option value=\"quarter\">√öltimo trimestre</option>\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Buscar</label>\n            <input\n              type=\"text\"\n              className=\"w-full border border-gray-300 rounded px-3 py-2\"\n              placeholder=\"Buscar eventos...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          \n          <div className=\"flex items-end space-x-2\">\n            <button\n              onClick={exportAuditReport}\n              className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n            >\n              üìÑ Exportar Reporte\n            </button>\n            <button\n              onClick={() => {\n                if (window.confirm('¬øEst√° seguro de limpiar todo el log de auditor√≠a? Esta acci√≥n no se puede deshacer.')) {\n                  clearAuditLog();\n                }\n              }}\n              className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\n              title=\"Limpiar log de auditor√≠a\"\n            >\n              üóëÔ∏è\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Estad√≠sticas */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500\">\n          <div className=\"text-sm text-gray-500 mb-1\">Total Eventos</div>\n          <div className=\"text-2xl font-bold text-gray-800\">{filteredEvents.length}</div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-500\">\n          <div className=\"text-sm text-gray-500 mb-1\">Eventos Financieros</div>\n          <div className=\"text-2xl font-bold text-gray-800\">\n            {filteredEvents.filter(e => e.category === 'financial').length}\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4 border-l-4 border-red-500\">\n          <div className=\"text-sm text-gray-500 mb-1\">Alta Severidad</div>\n          <div className=\"text-2xl font-bold text-gray-800\">\n            {filteredEvents.filter(e => e.severity === 'high').length}\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-lg shadow-sm p-4 border-l-4 border-purple-500\">\n          <div className=\"text-sm text-gray-500 mb-1\">√öltimo Evento</div>\n          <div className=\"text-sm font-bold text-gray-800\">\n            {filteredEvents.length > 0 \n              ? new Date(filteredEvents[0].timestamp).toLocaleDateString() \n              : 'N/A'\n            }\n          </div>\n        </div>\n      </div>\n\n      {/* Lista de Eventos */}\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"p-6 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Registro de Eventos</h3>\n        </div>\n        \n        <div className=\"max-h-96 overflow-y-auto\">\n          {filteredEvents.length === 0 ? (\n            <div className=\"text-center py-12 text-gray-500\">\n              <div className=\"text-4xl mb-4\">üì≠</div>\n              <div className=\"text-lg mb-2\">No hay eventos que coincidan con los filtros</div>\n            </div>\n          ) : (\n            <div className=\"divide-y divide-gray-200\">\n              {filteredEvents.map((event) => (\n                <div key={event.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start space-x-4\">\n                    <div className=\"text-2xl\">\n                      {getCategoryIcon(event.category)}\n                    </div>\n                    \n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-semibold text-gray-900\">\n                          {event.description}\n                        </h4>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getSeverityColor(event.severity)}`}>\n                            {event.severity.toUpperCase()}\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            {new Date(event.timestamp).toLocaleString()}\n                          </span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"text-sm text-gray-600 mb-2\">\n                        <strong>Acci√≥n:</strong> {getActionDescription(event.action)}\n                      </div>\n                      \n                      <div className=\"text-sm text-gray-600 mb-2\">\n                        <strong>Usuario:</strong> {event.user}\n                      </div>\n                      \n                      {event.details && (\n                        <div className=\"bg-gray-50 rounded p-3\">\n                          <div className=\"text-sm text-gray-700\">\n                            <strong>Detalles:</strong>\n                          </div>\n                          <div className=\"text-xs text-gray-600 mt-1\">\n                            {Object.entries(event.details).map(([key, value]) => (\n                              <div key={key} className=\"flex justify-between\">\n                                <span className=\"font-medium\">{key}:</span>\n                                <span>{String(value)}</span>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectAudit;\n","import { useState, useEffect, useCallback } from 'react';\n\nconst useAuditLog = (projectId, useSupabase = false) => {\n  const [auditLog, setAuditLog] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Cargar log de auditor√≠a desde localStorage o Supabase\n  useEffect(() => {\n    const loadAuditLog = async () => {\n      if (!projectId) return;\n      \n      setIsLoading(true);\n      \n      try {\n        if (useSupabase) {\n          // Cargar desde Supabase usando los nuevos m√©todos\n          const { default: supabaseService } = await import('../services/SupabaseService');\n          if (supabaseService.isAuthenticated()) {\n            const result = await supabaseService.loadAuditEvents(projectId);\n            if (result.success) {\n              setAuditLog(result.events);\n              console.log(`‚úÖ Logs de auditor√≠a cargados desde Supabase para proyecto ${projectId}: ${result.events.length} eventos`);\n            } else {\n              // Fallback a localStorage si Supabase falla\n              const savedLog = localStorage.getItem(`audit-log-${projectId}`);\n              if (savedLog) {\n                setAuditLog(JSON.parse(savedLog));\n              } else {\n                setAuditLog([]);\n              }\n            }\n          } else {\n            // Fallback a localStorage si no hay autenticaci√≥n\n            const savedLog = localStorage.getItem(`audit-log-${projectId}`);\n            if (savedLog) {\n              setAuditLog(JSON.parse(savedLog));\n            } else {\n              setAuditLog([]);\n            }\n          }\n        } else {\n          // Cargar desde localStorage\n          const savedLog = localStorage.getItem(`audit-log-${projectId}`);\n          if (savedLog) {\n            setAuditLog(JSON.parse(savedLog));\n          } else {\n            setAuditLog([]);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading audit log:', error);\n        // Fallback a localStorage en caso de error\n        const savedLog = localStorage.getItem(`audit-log-${projectId}`);\n        if (savedLog) {\n          setAuditLog(JSON.parse(savedLog));\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAuditLog();\n  }, [projectId, useSupabase]);\n\n  // Guardar log de auditor√≠a en localStorage y/o Supabase\n  const saveAuditLog = useCallback(async (log) => {\n    // Siempre guardar en localStorage como backup\n    localStorage.setItem(`audit-log-${projectId}`, JSON.stringify(log));\n\n    // NOTA: La sincronizaci√≥n con Supabase se hace individualmente por evento\n    // No enviamos toda la lista para evitar duplicados\n    console.log(`üìã Logs de auditor√≠a guardados en localStorage para proyecto ${projectId}: ${log.length} eventos`);\n  }, [projectId]);\n\n  // Guardar un evento individual en Supabase\n  const saveEventToSupabase = useCallback(async (event) => {\n    if (!useSupabase) return;\n\n    try {\n      const { default: supabaseService } = await import('../services/SupabaseService');\n      if (supabaseService.isAuthenticated()) {\n        // Guardar solo este evento espec√≠fico\n        const result = await supabaseService.saveAuditEvents(projectId, [event]);\n        if (result.success) {\n          console.log(`‚úÖ Evento de auditor√≠a guardado en Supabase: ${event.action}`);\n        } else {\n          console.warn('‚ö†Ô∏è Error guardando evento en Supabase:', result.error);\n        }\n      }\n    } catch (error) {\n      console.error('Error guardando evento en Supabase:', error);\n    }\n  }, [projectId, useSupabase]);\n\n  // Agregar evento de auditor√≠a\n  const addAuditEvent = useCallback(async (event) => {\n    const newEvent = {\n      id: crypto.randomUUID(), // Generar UUID v√°lido para Supabase\n      timestamp: new Date().toISOString(),\n      projectId,\n      ...event\n    };\n\n    setAuditLog(prevLog => {\n      const updatedLog = [newEvent, ...prevLog];\n      // Guardar de forma as√≠ncrona en localStorage\n      saveAuditLog(updatedLog);\n      return updatedLog;\n    });\n\n    // Guardar este evento espec√≠fico en Supabase\n    saveEventToSupabase(newEvent);\n\n    return newEvent;\n  }, [projectId, saveAuditLog, saveEventToSupabase]);\n\n  // Registrar cambio de estado del proyecto\n  const logProjectStatusChange = useCallback((previousStatus, newStatus, projectData) => {\n    addAuditEvent({\n      category: 'project-status',\n      action: 'status-changed',\n      description: `Estado del proyecto cambiado de \"${previousStatus}\" a \"${newStatus}\"`,\n      details: {\n        previousStatus,\n        newStatus,\n        projectName: projectData.name,\n        manager: projectData.manager,\n        budget: projectData.budget\n      },\n      severity: 'high',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar creaci√≥n de work package\n  const logWorkPackageCreated = useCallback((workPackage, projectData) => {\n    addAuditEvent({\n      category: 'work-package',\n      action: 'created',\n      description: `Work Package \"${workPackage.name}\" creado`,\n      details: {\n        workPackageId: workPackage.id,\n        name: workPackage.name,\n        budget: workPackage.budget,\n        status: workPackage.status\n      },\n      severity: 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar modificaci√≥n de work package\n  const logWorkPackageModified = useCallback((workPackage, changes, projectData) => {\n    addAuditEvent({\n      category: 'work-package',\n      action: 'modified',\n      description: `Work Package \"${workPackage.name}\" modificado`,\n      details: {\n        workPackageId: workPackage.id,\n        name: workPackage.name,\n        changes: Object.keys(changes),\n        previousValues: changes\n      },\n      severity: 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar creaci√≥n de riesgo\n  const logRiskCreated = useCallback((risk, projectData) => {\n    addAuditEvent({\n      category: 'risk',\n      action: 'created',\n      description: `Riesgo \"${risk.name}\" identificado`,\n      details: {\n        riskId: risk.id,\n        name: risk.name,\n        probability: risk.probability,\n        impact: risk.impact,\n        priority: risk.priority\n      },\n      severity: risk.priority === 'high' ? 'high' : 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar evento financiero\n  const logFinancialEvent = useCallback((type, item, projectData) => {\n    const eventMap = {\n      'purchase-order': {\n        action: 'created',\n        description: `Orden de Compra \"${item.description}\" creada`,\n        details: {\n          poId: item.id,\n          description: item.description,\n          amount: item.amount,\n          supplier: item.supplier\n        }\n      },\n      'advance': {\n        action: 'created',\n        description: `Anticipo \"${item.description}\" creado`,\n        details: {\n          advanceId: item.id,\n          description: item.description,\n          amount: item.amount,\n          recipient: item.recipient\n        }\n      },\n      'invoice': {\n        action: 'created',\n        description: `Factura \"${item.description}\" creada`,\n        details: {\n          invoiceId: item.id,\n          description: item.description,\n          amount: item.amount,\n          supplier: item.supplier\n        }\n      },\n      'contract': {\n        action: 'created',\n        description: `Contrato \"${item.name}\" creado`,\n        details: {\n          contractId: item.id,\n          name: item.name,\n          value: item.value,\n          contractor: item.contractor\n        }\n      }\n    };\n\n    const eventConfig = eventMap[type];\n    if (eventConfig) {\n      addAuditEvent({\n        category: 'financial',\n        action: eventConfig.action,\n        description: eventConfig.description,\n        details: eventConfig.details,\n        severity: 'high',\n        user: projectData.manager || 'Sistema'\n      });\n    }\n  }, [addAuditEvent]);\n\n  // Registrar asignaci√≥n de recursos\n  const logResourceAssignment = useCallback((assignment, projectData) => {\n    addAuditEvent({\n      category: 'resources',\n      action: 'assigned',\n      description: `Recurso asignado al proyecto`,\n      details: {\n        assignmentId: assignment.id,\n        resourceId: assignment.resourceId,\n        role: assignment.role,\n        allocation: assignment.allocation\n      },\n      severity: 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar creaci√≥n de tarea de minuta\n  const logMinutaTaskCreated = useCallback((minutaTask, projectData) => {\n    addAuditEvent({\n      category: 'minutes',\n      action: 'minute-task-created',\n      description: `Tarea de minuta \"${minutaTask.tarea}\" creada`,\n      details: {\n        taskId: minutaTask.id,\n        tarea: minutaTask.tarea,\n        responsable: minutaTask.responsable,\n        fecha: minutaTask.fecha,\n        hitoId: minutaTask.hitoId,\n        estatus: minutaTask.estatus\n      },\n      severity: 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Registrar actualizaci√≥n de tarea de minuta\n  const logMinutaTaskUpdated = useCallback((minutaTask, changes, projectData) => {\n    addAuditEvent({\n      category: 'minutes',\n      action: 'minute-task-updated',\n      description: `Tarea de minuta \"${minutaTask.tarea}\" actualizada`,\n      details: {\n        taskId: minutaTask.id,\n        tarea: minutaTask.tarea,\n        changes: changes,\n        newStatus: minutaTask.estatus\n      },\n      severity: 'medium',\n      user: projectData.manager || 'Sistema'\n    });\n  }, [addAuditEvent]);\n\n  // Limpiar log de auditor√≠a\n  const clearAuditLog = useCallback(() => {\n    setAuditLog([]);\n    localStorage.removeItem(`audit-log-${projectId}`);\n  }, [projectId]);\n\n  // Exportar log de auditor√≠a\n  const exportAuditLog = useCallback(() => {\n    const exportData = {\n      projectId,\n      exportDate: new Date().toISOString(),\n      totalEvents: auditLog.length,\n      events: auditLog\n    };\n\n    const dataStr = JSON.stringify(exportData, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    \n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `audit-log-${projectId}-${new Date().toISOString().split('T')[0]}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n  }, [auditLog, projectId]);\n\n  return {\n    auditLog,\n    isLoading,\n    addAuditEvent,\n    logProjectStatusChange,\n    logWorkPackageCreated,\n    logWorkPackageModified,\n    logRiskCreated,\n    logFinancialEvent,\n    logResourceAssignment,\n    logMinutaTaskCreated,\n    logMinutaTaskUpdated,\n    clearAuditLog,\n    exportAuditLog\n  };\n};\n\nexport default useAuditLog;\n"],"names":["_ref","projects","currentProjectId","workPackages","risks","tasks","purchaseOrders","advances","invoices","contracts","resourceAssignments","useSupabase","activeTab","setActiveTab","useState","dateFilter","setDateFilter","categoryFilter","setCategoryFilter","searchTerm","setSearchTerm","currentProject","find","p","id","auditLog","exportAuditLog","clearAuditLog","useAuditLog","auditEvents","useMemo","events","projectStartDate","Date","updatedAt","createdAt","push","status","e","action","concat","now","timestamp","category","description","name","details","previousStatus","newStatus","manager","budget","startDate","endDate","severity","user","forEach","wp","index","workPackageId","progress","risk","riskId","probability","impact","priority","task","taskId","duration","po","poId","amount","supplier","advance","advanceId","recipient","invoice","invoiceId","contract","contractId","value","contractor","assignment","assignmentId","resourceId","role","allocation","sort","a","b","filteredEvents","filtered","filter","event","filterDate","setHours","setDate","getDate","setMonth","getMonth","_event$details","_event$details$name","toLowerCase","includes","getCategoryIcon","getSeverityColor","getActionDescription","_jsxs","className","children","_jsx","length","onChange","target","type","placeholder","onClick","exportAuditReport","window","confirm","title","toLocaleDateString","map","toUpperCase","toLocaleString","Object","entries","_ref2","key","String","projectId","arguments","undefined","setAuditLog","isLoading","setIsLoading","useEffect","async","default","supabaseService","isAuthenticated","result","loadAuditEvents","success","console","log","savedLog","localStorage","getItem","JSON","parse","error","loadAuditLog","saveAuditLog","useCallback","setItem","stringify","saveEventToSupabase","saveAuditEvents","warn","addAuditEvent","newEvent","_objectSpread","crypto","randomUUID","toISOString","prevLog","updatedLog","logProjectStatusChange","projectData","projectName","logWorkPackageCreated","workPackage","logWorkPackageModified","changes","keys","previousValues","logRiskCreated","logFinancialEvent","item","eventConfig","logResourceAssignment","logMinutaTaskCreated","minutaTask","tarea","responsable","fecha","hitoId","estatus","logMinutaTaskUpdated","removeItem","exportData","exportDate","totalEvents","dataStr","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","split","click","revokeObjectURL"],"sourceRoot":""}