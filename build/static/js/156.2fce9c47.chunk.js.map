{"version":3,"file":"static/js/156.2fce9c47.chunk.js","mappings":"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","sources":["components/FileManager.js"],"sourcesContent":["import React, { useState, useMemo, useRef, useEffect } from 'react';\nimport useFileStorage from '../hooks/useFileStorage';\nimport usePermissions from '../hooks/usePermissions';\nimport subscriptionService from '../services/SubscriptionService';\n\nconst FileManager = ({\n  projectId,\n  organizationId = null, // Para verificar l√≠mites del plan\n  category = 'general',\n  relatedItemId = null,\n  onFileUploaded = null,\n  showUploadArea = true,\n  isContextual = false, // Para mostrar si es vista contextual\n  title = 'üìé Gesti√≥n de Archivos' // T√≠tulo personalizable\n}) => {\n  // Hook de permisos\n  const { permissions } = usePermissions();\n  \n  const {\n    files,\n    isLoading,\n    error,\n    uploadFile,\n    deleteFile,\n    getFilesByCategory,\n    getFilesByRelatedItem,\n    searchFiles,\n    getFileStats,\n    fileLimits\n  } = useFileStorage(projectId);\n\n  const [dragActive, setDragActive] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState(category);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [uploadDescription, setUploadDescription] = useState('');\n  const [isReadOnlyMode, setIsReadOnlyMode] = useState(false);\n\n  // Verificar modo read-only\n  useEffect(() => {\n    const checkReadOnlyMode = async () => {\n      if (organizationId) {\n        try {\n          const editPermission = await subscriptionService.canEdit(organizationId);\n          setIsReadOnlyMode(!editPermission.allowed);\n        } catch (error) {\n          console.error('[READ-ONLY MODE] Error verificando permisos:', error);\n          setIsReadOnlyMode(false);\n        }\n      }\n    };\n    checkReadOnlyMode();\n  }, [organizationId]);\n\n  // Determinar si se puede mostrar √°rea de subida basado en permisos\n  const canUploadFiles = showUploadArea && permissions.canEdit && !isReadOnlyMode;\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [viewMode, setViewMode] = useState('grid'); // 'grid' o 'list'\n  const fileInputRef = useRef(null);\n\n  // Filtrar archivos seg√∫n par√°metros\n  const filteredFiles = useMemo(() => {\n    let filtered = files;\n    \n    console.log('üîç FileManager - Filtrado:', {\n      totalFiles: files.length,\n      category,\n      selectedCategory,\n      isContextual,\n      searchTerm\n    });\n    \n    // Si estamos en modo contextual (category espec√≠fica), usar esa categor√≠a\n    if (category !== 'general' && isContextual) {\n      filtered = getFilesByCategory(category);\n      console.log('üìÇ Filtrado por categor√≠a contextual:', category, 'archivos:', filtered.length);\n    } else if (selectedCategory !== 'general') {\n      // Si no estamos en modo contextual, usar la categor√≠a seleccionada\n      filtered = getFilesByCategory(selectedCategory);\n      console.log('üìÇ Filtrado por categor√≠a seleccionada:', selectedCategory, 'archivos:', filtered.length);\n    }\n    \n    if (relatedItemId) {\n      filtered = getFilesByRelatedItem(relatedItemId);\n      console.log('üîó Filtrado por item relacionado:', relatedItemId, 'archivos:', filtered.length);\n    }\n    \n    if (searchTerm) {\n      filtered = searchFiles(searchTerm);\n      console.log('üîç Filtrado por b√∫squeda:', searchTerm, 'archivos:', filtered.length);\n    }\n    \n    console.log('‚úÖ Archivos finales filtrados:', filtered.length);\n    return filtered.sort((a, b) => new Date(b.uploadDate) - new Date(a.uploadDate));\n  }, [files, category, selectedCategory, relatedItemId, searchTerm, isContextual, getFilesByCategory, getFilesByRelatedItem, searchFiles]);\n\n  // Estad√≠sticas de archivos\n  const fileStats = useMemo(() => getFileStats(), [getFileStats]);\n\n  // Manejar drag & drop\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFiles(e.dataTransfer.files);\n    }\n  };\n\n  // Manejar selecci√≥n de archivos\n  const handleFileSelect = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      handleFiles(e.target.files);\n    }\n  };\n\n  // Procesar archivos seleccionados\n  const handleFiles = async (fileList) => {\n    setSelectedFiles(Array.from(fileList));\n    setShowUploadModal(true);\n  };\n\n  // Subir archivos\n  const handleUpload = async () => {\n    try {\n      for (const file of selectedFiles) {\n        await uploadFile(file, selectedCategory, relatedItemId, uploadDescription);\n      }\n      \n      setShowUploadModal(false);\n      setSelectedFiles([]);\n      setUploadDescription('');\n      \n      if (onFileUploaded) {\n        onFileUploaded();\n      }\n      \n    } catch (error) {\n      console.error('Error uploading files:', error);\n    }\n  };\n\n  // Descargar archivo\n  const downloadFile = (file) => {\n    const link = document.createElement('a');\n    link.href = file.content;\n    link.download = file.fileName;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Vista previa de archivo\n  const previewFile = (file) => {\n    const mimeType = file.mimeType || file.type || '';\n    if (mimeType.startsWith('image/')) {\n      window.open(file.content, '_blank');\n    } else if (mimeType === 'application/pdf') {\n      window.open(file.content, '_blank');\n    } else {\n      downloadFile(file);\n    }\n  };\n\n  // Obtener icono seg√∫n tipo de archivo (para archivos procesados)\n  const getFileIcon = (file) => {\n    const mimeType = file.mimeType || file.type || '';\n    if (mimeType.startsWith('image/')) return 'üñºÔ∏è';\n    if (mimeType === 'application/pdf') return 'üìÑ';\n    if (mimeType.includes('word')) return 'üìù';\n    if (mimeType.includes('excel')) return 'üìä';\n    return 'üìé';\n  };\n\n  // Obtener icono para archivos nativos del navegador\n  const getNativeFileIcon = (file) => {\n    const mimeType = file.type || '';\n    if (mimeType.startsWith('image/')) return 'üñºÔ∏è';\n    if (mimeType === 'application/pdf') return 'üìÑ';\n    if (mimeType.includes('word')) return 'üìù';\n    if (mimeType.includes('excel')) return 'üìä';\n    return 'üìé';\n  };\n\n  // Obtener color seg√∫n tipo de archivo\n  const getFileColor = (file) => {\n    const mimeType = file.mimeType || file.type || '';\n    if (mimeType.startsWith('image/')) return 'from-pink-500 to-rose-500';\n    if (mimeType === 'application/pdf') return 'from-red-500 to-pink-500';\n    if (mimeType.includes('word')) return 'from-blue-500 to-indigo-500';\n    if (mimeType.includes('excel')) return 'from-green-500 to-emerald-500';\n    return 'from-gray-500 to-slate-500';\n  };\n\n  // Formatear tama√±o de archivo\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  // Categor√≠as disponibles\n  const categories = [\n    { id: 'purchase-order', name: '√ìrdenes de Compra', icon: 'üõí', color: 'bg-blue-100 text-blue-800' },\n    { id: 'invoice', name: 'Facturas', icon: 'üßæ', color: 'bg-green-100 text-green-800' },\n    { id: 'advance', name: 'Anticipos', icon: 'üí∞', color: 'bg-yellow-100 text-yellow-800' },\n    { id: 'contract', name: 'Contratos', icon: 'üìã', color: 'bg-purple-100 text-purple-800' },\n    { id: 'risk-evidence', name: 'Evidencia de Riesgos', icon: 'üõ°Ô∏è', color: 'bg-red-100 text-red-800' },\n    { id: 'general', name: 'General', icon: 'üìÅ', color: 'bg-gray-100 text-gray-800' }\n  ];\n\n  // Obtener categor√≠a actual\n  const currentCategory = categories.find(cat => cat.id === selectedCategory);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header con estad√≠sticas - Dise√±o mejorado */}\n      <div className=\"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl shadow-sm border border-gray-100 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl text-white\">\n              <span className=\"text-2xl\">üìé</span>\n            </div>\n            <div>\n              <h3 className=\"text-xl font-bold text-gray-800\">{title}</h3>\n              <p className=\"text-sm text-gray-600\">\n                {isContextual ? 'Archivos relacionados con este contexto' : 'Gesti√≥n completa de documentos del proyecto'}\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            {/* Estad√≠sticas */}\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-gray-800\">{fileStats.totalFiles}</div>\n              <div className=\"text-sm text-gray-600\">archivos</div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-lg font-semibold text-gray-800\">{fileStats.totalSizeMB}MB</div>\n              <div className=\"text-xs text-gray-500\">total</div>\n            </div>\n            \n            {/* Bot√≥n de upload */}\n            {canUploadFiles && (\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n              >\n                <span className=\"mr-2\">üì§</span>\n                Subir Archivos\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Filtros y b√∫squeda - Dise√±o mejorado */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          {/* B√∫squeda */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span className=\"text-gray-400\">üîç</span>\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Buscar archivos por nombre, descripci√≥n o categor√≠a...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n              />\n            </div>\n          </div>\n          \n          {/* Selector de categor√≠a */}\n          {category === 'general' && (\n            <div>\n              <select\n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-sm transition-all duration-200\"\n              >\n                {categories.map(cat => (\n                  <option key={cat.id} value={cat.id}>\n                    {cat.icon} {cat.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n        </div>\n\n        {/* Vista de categor√≠a actual */}\n        {currentCategory && (\n          <div className=\"mt-4 flex items-center space-x-2\">\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${currentCategory.color}`}>\n              {currentCategory.icon} {currentCategory.name}\n            </span>\n            <span className=\"text-sm text-gray-500\">\n              {filteredFiles.length} archivo{filteredFiles.length !== 1 ? 's' : ''} encontrado{filteredFiles.length !== 1 ? 's' : ''}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Indicador para usuarios de solo lectura */}\n      {!permissions.canEdit && showUploadArea && (\n        <div className=\"bg-orange-50 border border-orange-200 rounded-xl p-6 text-center\">\n          <div className=\"flex items-center justify-center space-x-3 text-orange-700\">\n            <span className=\"text-2xl\">üëÄ</span>\n            <div>\n              <p className=\"font-medium text-lg\">Modo Solo Lectura</p>\n              <p className=\"text-sm text-orange-600\">\n                Puedes visualizar y descargar archivos, pero no subir nuevos\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* √Årea de upload (drag & drop) - Dise√±o mejorado */}\n      {canUploadFiles && (\n        <div\n          className={`border-2 border-dashed rounded-xl p-12 text-center transition-all duration-300 ${\n            dragActive \n              ? 'border-blue-500 bg-gradient-to-r from-blue-50 to-indigo-50 scale-105' \n              : 'border-gray-300 hover:border-blue-400 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50'\n          }`}\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n        >\n          <div className=\"space-y-6\">\n            <div className=\"text-6xl\">üìÅ</div>\n            <div className=\"space-y-2\">\n              <div className=\"text-2xl font-bold text-gray-700\">\n                Arrastra archivos aqu√≠\n              </div>\n              <div className=\"text-lg text-gray-600\">\n                o haz clic para seleccionar\n              </div>\n            </div>\n            <div className=\"text-sm text-gray-500 max-w-md mx-auto\">\n              Tipos permitidos: PDF, JPG, PNG, DOC, DOCX, XLS, XLSX\n              <br />\n              Tama√±o m√°ximo: {fileLimits.maxFileSize / (1024 * 1024)}MB por archivo\n            </div>\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className=\"px-8 py-4 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all duration-200 font-medium shadow-sm hover:shadow-md\"\n            >\n              Seleccionar Archivos\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Controles de vista */}\n      {filteredFiles.length > 0 && (\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-sm text-gray-600\">Vista:</span>\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`p-2 rounded-lg transition-colors ${\n                viewMode === 'grid' \n                  ? 'bg-blue-100 text-blue-600' \n                  : 'text-gray-400 hover:text-gray-600'\n              }`}\n            >\n              ‚¨õ‚¨õ\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`p-2 rounded-lg transition-colors ${\n                viewMode === 'list' \n                  ? 'bg-blue-100 text-blue-600' \n                  : 'text-gray-400 hover:text-gray-600'\n              }`}\n            >\n              ‚ò∞\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Lista de archivos - Dise√±o mejorado */}\n      {filteredFiles.length > 0 ? (\n        <div className=\"space-y-4\">\n          {viewMode === 'grid' ? (\n            /* Vista Grid - Cards modernas */\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {filteredFiles.map((file) => (\n                <div key={file.id} className=\"group bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-200 hover:-translate-y-1\">\n                  {/* Header del card */}\n                  <div className={`p-4 bg-gradient-to-r ${getFileColor(file)} rounded-t-xl text-white`}>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-2xl\">{getFileIcon(file)}</span>\n                      <div className=\"opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n                        <button\n                          onClick={() => deleteFile(file.id)}\n                          className=\"p-1 bg-white bg-opacity-20 rounded hover:bg-opacity-30 transition-colors\"\n                          title=\"Eliminar\"\n                        >\n                          üóëÔ∏è\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Contenido del card */}\n                  <div className=\"p-4\">\n                    <div className=\"space-y-3\">\n                      <div>\n                        <div className=\"font-semibold text-gray-900 truncate\" title={file.fileName}>\n                          {file.fileName}\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          {formatFileSize(file.fileSize)}\n                        </div>\n                      </div>\n                      \n                      {file.description && (\n                        <div className=\"text-sm text-gray-600 line-clamp-2\">\n                          {file.description}\n                        </div>\n                      )}\n                      \n                      <div className=\"text-xs text-gray-400\">\n                        {new Date(file.uploadDate).toLocaleDateString()}\n                      </div>\n                    </div>\n                    \n                    {/* Acciones del card */}\n                    <div className=\"mt-4 flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n                      <button\n                        onClick={() => previewFile(file)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                        title=\"Vista previa\"\n                      >\n                        üëÅÔ∏è\n                      </button>\n                      <button\n                        onClick={() => downloadFile(file)}\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\n                        title=\"Descargar\"\n                      >\n                        ‚¨áÔ∏è\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            /* Vista Lista - Tabla moderna */\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100\">\n                    <tr>\n                      <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Archivo</th>\n                      <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tama√±o</th>\n                      <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                      <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-100\">\n                    {filteredFiles.map((file) => (\n                      <tr key={file.id} className=\"hover:bg-gray-50 transition-colors\">\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className={`p-2 rounded-lg bg-gradient-to-r ${getFileColor(file)} text-white`}>\n                              {getFileIcon(file)}\n                            </div>\n                            <div>\n                              <div className=\"font-medium text-gray-900\">{file.fileName}</div>\n                              {file.description && (\n                                <div className=\"text-sm text-gray-500\">{file.description}</div>\n                              )}\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 text-sm text-gray-500\">\n                          {formatFileSize(file.fileSize)}\n                        </td>\n                        <td className=\"px-6 py-4 text-sm text-gray-500\">\n                          {new Date(file.uploadDate).toLocaleDateString()}\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center space-x-2\">\n                            <button\n                              onClick={() => previewFile(file)}\n                              className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                              title=\"Vista previa\"\n                            >\n                              üëÅÔ∏è\n                            </button>\n                            <button\n                              onClick={() => downloadFile(file)}\n                              className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\n                              title=\"Descargar\"\n                            >\n                              ‚¨áÔ∏è\n                            </button>\n                            <button\n                              onClick={() => deleteFile(file.id)}\n                              className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                              title=\"Eliminar\"\n                            >\n                              üóëÔ∏è\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        /* Estado vac√≠o - Dise√±o mejorado */\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center\">\n          <div className=\"text-6xl mb-6\">üìÅ</div>\n          <div className=\"space-y-2\">\n            <div className=\"text-2xl font-bold text-gray-700\">\n              No hay archivos\n            </div>\n            <div className=\"text-gray-500 max-w-md mx-auto\">\n              {searchTerm ? 'No se encontraron archivos con esa b√∫squeda' : 'Sube tu primer archivo para comenzar'}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Input de archivos oculto */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        multiple\n        accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx\"\n        onChange={handleFileSelect}\n        className=\"hidden\"\n      />\n\n      {/* Modal de upload - Dise√±o mejorado */}\n      {showUploadModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-xl font-bold text-gray-800\">\n                  üì§ Subir Archivos\n                </h3>\n                <button\n                  onClick={() => {\n                    setShowUploadModal(false);\n                    setSelectedFiles([]);\n                    setUploadDescription('');\n                  }}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\n                >\n                  ‚úï\n                </button>\n              </div>\n              \n              <div className=\"space-y-6\">\n                {/* Categor√≠a */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    üìÇ Categor√≠a\n                  </label>\n                  <select\n                    value={selectedCategory}\n                    onChange={(e) => setSelectedCategory(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                  >\n                    {categories.map(cat => (\n                      <option key={cat.id} value={cat.id}>\n                        {cat.icon} {cat.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                {/* Descripci√≥n */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    üìù Descripci√≥n (opcional)\n                  </label>\n                  <textarea\n                    value={uploadDescription}\n                    onChange={(e) => setUploadDescription(e.target.value)}\n                    placeholder=\"Describe brevemente estos archivos...\"\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none\"\n                    rows=\"3\"\n                  />\n                </div>\n                \n                {/* Archivos seleccionados */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    üìé Archivos seleccionados ({selectedFiles.length})\n                  </label>\n                  <div className=\"max-h-32 overflow-y-auto space-y-2\">\n                    {selectedFiles.map((file, index) => (\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"text-lg\">{getNativeFileIcon(file)}</span>\n                          <span className=\"text-sm font-medium text-gray-700\">{file.name}</span>\n                        </div>\n                        <span className=\"text-xs text-gray-500\">{formatFileSize(file.size)}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Botones de acci√≥n */}\n              <div className=\"flex justify-end space-x-3 mt-8\">\n                <button\n                  onClick={() => {\n                    setShowUploadModal(false);\n                    setSelectedFiles([]);\n                    setUploadDescription('');\n                  }}\n                  className=\"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors font-medium\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={handleUpload}\n                  disabled={isLoading}\n                  className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:transform-none\"\n                >\n                  {isLoading ? (\n                    <span className=\"flex items-center\">\n                      <span className=\"animate-spin mr-2\">‚è≥</span>\n                      Subiendo...\n                    </span>\n                  ) : (\n                    <span className=\"flex items-center\">\n                      <span className=\"mr-2\">üì§</span>\n                      Subir Archivos\n                    </span>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mensaje de error - Dise√±o mejorado */}\n      {error && (\n        <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-4\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-red-600 text-lg\">‚ùå</span>\n            <span className=\"text-red-800 font-medium\">{error}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileManager;\n"],"names":["_ref","projectId","organizationId","category","relatedItemId","onFileUploaded","showUploadArea","isContextual","title","permissions","usePermissions","files","isLoading","error","uploadFile","deleteFile","getFilesByCategory","getFilesByRelatedItem","searchFiles","getFileStats","fileLimits","useFileStorage","dragActive","setDragActive","useState","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","showUploadModal","setShowUploadModal","uploadDescription","setUploadDescription","isReadOnlyMode","setIsReadOnlyMode","useEffect","async","editPermission","subscriptionService","canEdit","allowed","console","checkReadOnlyMode","canUploadFiles","selectedFiles","setSelectedFiles","viewMode","setViewMode","fileInputRef","useRef","filteredFiles","useMemo","filtered","log","totalFiles","length","sort","a","b","Date","uploadDate","fileStats","handleDrag","e","preventDefault","stopPropagation","type","handleFiles","Array","from","fileList","downloadFile","file","link","document","createElement","href","content","download","fileName","body","appendChild","click","removeChild","previewFile","mimeType","startsWith","window","open","getFileIcon","includes","getNativeFileIcon","getFileColor","formatFileSize","bytes","i","Math","floor","parseFloat","pow","toFixed","categories","id","name","icon","color","currentCategory","find","cat","_jsxs","className","children","_jsx","totalSizeMB","onClick","_fileInputRef$current","current","placeholder","value","onChange","target","map","concat","onDragEnter","onDragLeave","onDragOver","onDrop","dataTransfer","maxFileSize","_fileInputRef$current2","fileSize","description","toLocaleDateString","ref","multiple","accept","rows","index","size","disabled"],"sourceRoot":""}